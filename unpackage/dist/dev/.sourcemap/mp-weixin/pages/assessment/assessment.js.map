{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/86182/Documents/HBuilderProjects/ÂâçÁ´ØÂ∞èÁ®ãÂ∫è/pages/assessment/assessment.vue?9449","webpack:///C:/Users/86182/Documents/HBuilderProjects/ÂâçÁ´ØÂ∞èÁ®ãÂ∫è/pages/assessment/assessment.vue?e056","webpack:///C:/Users/86182/Documents/HBuilderProjects/ÂâçÁ´ØÂ∞èÁ®ãÂ∫è/pages/assessment/assessment.vue?337c","webpack:///C:/Users/86182/Documents/HBuilderProjects/ÂâçÁ´ØÂ∞èÁ®ãÂ∫è/pages/assessment/assessment.vue?d1ea","uni-app:///pages/assessment/assessment.vue","webpack:///C:/Users/86182/Documents/HBuilderProjects/ÂâçÁ´ØÂ∞èÁ®ãÂ∫è/pages/assessment/assessment.vue?b61c","webpack:///C:/Users/86182/Documents/HBuilderProjects/ÂâçÁ´ØÂ∞èÁ®ãÂ∫è/pages/assessment/assessment.vue?77ff"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","questionsByDomain","expandedDomains","expandedSubdomains","answers","filters","keyword","domains","onlyUnfinished","isSubmitting","childInfo","computed","allDomains","questions","derivedStats","global","selected","total","ratio","byDomain","stats","onLoad","console","beforeDestroy","methods","initData","loadChildInfo","loadDraft","saveDraft","uni","toggleDomain","toggleSubdomain","getQuestionsInDomain","Object","getSubdomainsInDomain","hasQuestionsInDomain","getDomainStats","getSubdomainStats","getDomainLabel","getSubdomainLabel","hasMatchingQuestionsInDomain","hasMatchingQuestionsInSubdomain","getVisibleQuestions","applyFiltersToQuestions","toggleAnswer","toggleDomainFilter","onUnfinishedToggle","applyFilters","subdomains","selectAllInDomain","clearDomain","selectAllInSubdomain","clearSubdomain","submitAssessment","formState","checkedCount","totalCount","progressPercent","assessmentDate","setTimeout","url","formatFormState","list","q","checked","scrollToTop","scrollTop","duration"],"mappings":";;;;;;;;;;;;;AAAA;AAE2D;AAC3D;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,mBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuH;AACvH;AAC8D;AACL;AACa;;;AAGtE;AAC0M;AAC1M,gBAAgB,iNAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,qFAAM;AACR,EAAE,8FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,yFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtGA;AAAA;AAAA;AAAA;AAA0yB,CAAgB,wyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;ACmI9zB;AAAA;AAAA;AAEA;AACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACA;;AAEA;AACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACA;AAAA,eAEA;EACAC;IACA;MACA;MACAC;MAEA;MACAC;MACAC;MAEA;MACAC;MAEA;MACAC;QACAC;QACAC;QACAC;MACA;MAEA;MACAC;MAEA;MACAC;IACA;EACA;EACAC;IACA;IACAC;MACA;MACAC;QACA;MACA;MACA;IACA;IAEA;IACAC;MAAA;MACA;QACAC;UAAAC;UAAAC;UAAAC;QAAA;QACAC;MACA;;MAEA;MACA;QACA;UAAA;QAAA;MACA;MAEA;QAAA;MAAA;MAEAC;MACAA;MACA;QACAA;MACA;;MAEA;MACA;QACA;QACA;UAAA;QAAA;QACAA;UACAJ;UACAC;UACAC;QACA;MACA;MAEA;IACA;EACA;EACAG;IAAA;IACAC;IACA;IACA;IACA;IAEA;IAEA;MACA;MACA;QACA;UACA;UACA;UACA;YACA;UACA;QACA;UACA;QACA;MACA;IACA;IAEA;;IAEA;IACAT;MACA;QACA;MACA;IACA;IAEAS;EACA;EACAC;IACA;EACA;EACAC;IACA;IACAC;MAAA;MACAH;;MAEA;MACA;MACAT;QACA;QACA;UACA;QACA;QACA;QACA;UACA;QACA;QACA;MACA;MAEAS;MACAA;IACA;IAEA;IACAI;MACA;IACA;IAEA;IACAC;MACA;MACA;QACA;QACA;QACA;QACA;MACA;IACA;IAEA;IACAC;MACAC;QACAzB;QACAF;QACAC;QACAE;MACA;IACA;IAEA;IACAyB;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;IACA;IAEA;IACAC;MACA;MACAC;QACApB;MACA;MACA;IACA;IAEA;IACAqB;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MAAA;MACA;MACA;QAAA;MAAA;MACA;QACApB;QACAC;QACAC;MACA;IACA;IAEA;IACAmB;MAAA;QAAA;MACA;MACA;QAAA;MAAA;MACA;QACArB;QACAC;QACAC;MACA;IACA;IAEA;IACAoB;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;;MAEA;MACA;QACA;MACA;;MAEA;MACA;MACA;IACA;IAEA;IACAC;MAAA;MACA;MACA;;MAEA;MACA;QACA;MACA;;MAEA;MACA;IACA;IAEA;IACAC;MAAA;MACA;;MAEA;MACA;IACA;IAEA;IACAC;MAAA;MACA;QACA;QACA;UACA;UACA;YACA;UACA;QACA;;QAEA;QACA;UACA;QACA;;QAEA;QACA;UACA;QACA;QAEA;MACA;IACA;IAEA;IACAC;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;QACA;MACA;QACA;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;IACA;IAEA;IACAC;MAAA;MACA;MACA;QACA;UACA;YACA;YACA;;YAEA;YACA;YACAC;cACA;gBACA;cACA;YACA;UACA;QACA;QACA;MACA;MAEA;IACA;IAEA;IACAC;MAAA;MACA;MACApC;QACA;MACA;MACA;IACA;IAEA;IACAqC;MAAA;MACA;MACArC;QACA;MACA;MACA;IACA;IAEA;IACAsC;MAAA;QAAA;MACA;MACAtC;QACA;MACA;MACA;IACA;IAEA;IACAuC;MAAA;QAAA;MACA;MACAvC;QACA;MACA;MACA;IACA;IAEA;IACAwC;MACA;MAEA;;MAEA;MACA;QACA3C;QACAN;QACAkD;QACAC;QACAC;QACAC;QACAC;MACA;;MAEA;MACA7B;;MAEA;MACAA;;MAEA;MACA8B;QACA9B;UACA+B;QACA;MACA;IACA;IAEA;IACAC;MAAA;MACA;MACA5B;QACAqB;QACArB;UACA6B;YACAR,uDACAS;cACAC;YAAA,GACA;UACA;QACA;MACA;MACA;IACA;IAEA;IACAC;MACApC;QACAqC;QACAC;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACrkBA;AAAA;AAAA;AAAA;AAA2oC,CAAgB,qmCAAG,EAAC,C;;;;;;;;;;;ACA/pC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/assessment/assessment.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/vue-cli-plugin-uni/packages/uni-cloud/dist/index.js';\nimport Vue from 'vue'\nimport Page from './pages/assessment/assessment.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./assessment.vue?vue&type=template&id=f35dbbf4&\"\nvar renderjs\nimport script from \"./assessment.vue?vue&type=script&lang=js&\"\nexport * from \"./assessment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./assessment.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/assessment/assessment.vue\"\nexport default component.exports","export * from \"-!../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./assessment.vue?vue&type=template&id=f35dbbf4&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l2 = _vm.__map(_vm.allDomains, function (domain, __i0__) {\n    var $orig = _vm.__get_orig(domain)\n    var m0 = _vm.hasMatchingQuestionsInDomain(domain)\n    var m1 = m0 ? _vm.getDomainLabel(domain) : null\n    var m2 = m0 ? _vm.getDomainStats(domain) : null\n    var m3 = m0 && m2 ? _vm.getDomainStats(domain) : null\n    var m4 = m0 && m2 ? _vm.getDomainStats(domain) : null\n    var m5 = m0 && m2 ? _vm.getDomainStats(domain) : null\n    var l1 =\n      m0 && _vm.expandedDomains[domain]\n        ? _vm.__map(\n            _vm.getSubdomainsInDomain(domain),\n            function (subdomain, __i1__) {\n              var $orig = _vm.__get_orig(subdomain)\n              var m6 = _vm.hasMatchingQuestionsInSubdomain(domain, subdomain)\n              var m7 = m6 ? _vm.getSubdomainLabel(subdomain) : null\n              var m8 = m6 ? _vm.getSubdomainStats(domain, subdomain) : null\n              var m9 =\n                m6 && m8 ? _vm.getSubdomainStats(domain, subdomain) : null\n              var m10 =\n                m6 && m8 ? _vm.getSubdomainStats(domain, subdomain) : null\n              var m11 =\n                m6 && m8 ? _vm.getSubdomainStats(domain, subdomain) : null\n              var l0 =\n                m6 && _vm.expandedSubdomains[domain + \"::\" + subdomain]\n                  ? _vm.getVisibleQuestions(domain, subdomain)\n                  : null\n              return {\n                $orig: $orig,\n                m6: m6,\n                m7: m7,\n                m8: m8,\n                m9: m9,\n                m10: m10,\n                m11: m11,\n                l0: l0,\n              }\n            }\n          )\n        : null\n    return {\n      $orig: $orig,\n      m0: m0,\n      m1: m1,\n      m2: m2,\n      m3: m3,\n      m4: m4,\n      m5: m5,\n      l1: l1,\n    }\n  })\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event, domain, subdomain) {\n      var _temp = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp2 = _temp.eventParams || _temp[\"event-params\"],\n        domain = _temp2.domain,\n        subdomain = _temp2.subdomain\n      var _temp, _temp2\n      return _vm.toggleSubdomain(domain + \"::\" + subdomain)\n    }\n    _vm.e1 = function ($event, domain, subdomain) {\n      var _temp3 = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp4 = _temp3.eventParams || _temp3[\"event-params\"],\n        domain = _temp4.domain,\n        subdomain = _temp4.subdomain\n      var _temp3, _temp4\n      $event.stopPropagation()\n      return _vm.selectAllInSubdomain(domain, subdomain)\n    }\n    _vm.e2 = function ($event, domain, subdomain) {\n      var _temp5 = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp6 = _temp5.eventParams || _temp5[\"event-params\"],\n        domain = _temp6.domain,\n        subdomain = _temp6.subdomain\n      var _temp5, _temp6\n      $event.stopPropagation()\n      return _vm.clearSubdomain(domain, subdomain)\n    }\n    _vm.e3 = function ($event, q) {\n      var _temp7 = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp8 = _temp7.eventParams || _temp7[\"event-params\"],\n        q = _temp8.q\n      var _temp7, _temp8\n      return _vm.toggleAnswer(q.id)\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l2: l2,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./assessment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./assessment.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"container\">\n\t\t<!-- È°∂ÈÉ®Â∑•ÂÖ∑Êù°ÔºàÂê∏È°∂Ôºâ -->\n\t\t<view class=\"top-bar\">\n\t\t\t<view class=\"top-header\">\n\t\t\t\t<text class=\"page-title\">ÂèëËÇ≤ËØÑ‰º∞</text>\n\t\t\t\t<text class=\"global-stats\">{{ derivedStats.global.selected }}/{{ derivedStats.global.total }} ({{ derivedStats.global.ratio }}%)</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- ÊêúÁ¥¢Ê°Ü -->\n\t\t\t<view class=\"search-box\">\n\t\t\t\t<input\n\t\t\t\t\tclass=\"search-input\"\n\t\t\t\t\tv-model=\"filters.keyword\"\n\t\t\t\t\tplaceholder=\"ÊêúÁ¥¢È¢òÁõÆ...\"\n\t\t\t\t\t@input=\"applyFilters\"\n\t\t\t\t/>\n\t\t\t\t<text class=\"search-icon\">üîç</text>\n\t\t</view>\n\t\t\n\t\t\t<!-- Á≠õÈÄâÂºÄÂÖ≥ -->\n\t\t\t<view class=\"filter-switch\">\n\t\t\t\t<switch :checked=\"filters.onlyUnfinished\" @change=\"onUnfinishedToggle\" />\n\t\t\t\t<text class=\"switch-label\">‰ªÖÁúãÊú™ÂÆåÊàê</text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- ‰∏ªÂàóË°® -->\n\t\t<view class=\"questions-container\">\n\t\t\t<!-- Êåâ domain ÂàÜÁªÑ -->\n\t\t\t<template v-for=\"domain in allDomains\">\n\t\t\t\t<view v-if=\"hasMatchingQuestionsInDomain(domain)\" :key=\"domain\" class=\"domain-section\">\n\t\t\t\t\t<!-- domain Â§¥ÈÉ® -->\n\t\t\t\t<view class=\"domain-header\" @click=\"toggleDomain(domain)\">\n\t\t\t\t\t\t<text class=\"domain-title\">{{ getDomainLabel(domain) }}</text>\n\t\t\t\t\t\t<text class=\"domain-stats\" v-if=\"getDomainStats(domain)\">\n\t\t\t\t\t\t\t{{ getDomainStats(domain).selected }}/{{ getDomainStats(domain).total }}\n\t\t\t\t\t\t\t({{ getDomainStats(domain).ratio }}%)\n\t\t\t\t\t\t</text>\n\t\t\t\t\t\t<view class=\"domain-actions\">\n\t\t\t\t\t\t\t<text class=\"action-btn\" @click.stop=\"selectAllInDomain(domain)\">ÂÖ®ÈÄâ</text>\n\t\t\t\t\t\t\t<text class=\"action-btn\" @click.stop=\"clearDomain(domain)\">Ê∏ÖÁ©∫</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"domain-toggle\">\n\t\t\t\t\t\t\t{{ expandedDomains[domain] ? '‚ñº' : '‚ñ∂' }}\n\t\t\t\t\t\t</text>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- subdomain ÂàóË°®Ôºà‰ªÖÂΩì domain Â±ïÂºÄÊó∂Ê∏≤ÊüìÔºâ -->\n\t\t\t\t<view v-if=\"expandedDomains[domain]\" class=\"domain-content\">\n\t\t\t\t\t<template v-for=\"subdomain in getSubdomainsInDomain(domain)\">\n\t\t\t\t\t<view \n\t\t\t\t\t\t\tv-if=\"hasMatchingQuestionsInSubdomain(domain, subdomain)\"\n\t\t\t\t\t\t\t:key=\"`${domain}::${subdomain}`\"\n\t\t\t\t\t\t\tclass=\"subdomain-section\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<!-- subdomain Â§¥ÈÉ® -->\n\t\t\t\t\t\t\t<view class=\"subdomain-header\" @click=\"toggleSubdomain(`${domain}::${subdomain}`)\">\n\t\t\t\t\t\t\t\t<text class=\"subdomain-title\">{{ getSubdomainLabel(subdomain) }}</text>\n\t\t\t\t\t\t\t\t<text class=\"subdomain-stats\" v-if=\"getSubdomainStats(domain, subdomain)\">\n\t\t\t\t\t\t\t\t\t{{ getSubdomainStats(domain, subdomain).selected }}/{{ getSubdomainStats(domain, subdomain).total }}\n\t\t\t\t\t\t\t\t\t({{ getSubdomainStats(domain, subdomain).ratio }}%)\n\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t\t<view class=\"subdomain-actions\">\n\t\t\t\t\t\t\t\t\t<text class=\"action-btn\" @click.stop=\"selectAllInSubdomain(domain, subdomain)\">ÂÖ®ÈÄâ</text>\n\t\t\t\t\t\t\t\t\t<text class=\"action-btn\" @click.stop=\"clearSubdomain(domain, subdomain)\">Ê∏ÖÁ©∫</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<text class=\"subdomain-toggle\">\n\t\t\t\t\t\t\t\t\t{{ expandedSubdomains[`${domain}::${subdomain}`] ? '‚ñº' : '‚ñ∂' }}\n\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t<!-- È¢òÁõÆÂàóË°®Ôºà‰ªÖÂΩì subdomain Â±ïÂºÄÊó∂Ê∏≤ÊüìÔºâ -->\n\t\t\t\t\t\t\t<view v-if=\"expandedSubdomains[`${domain}::${subdomain}`]\" class=\"subdomain-questions\">\n\t\t\t\t\t\t\t\t<view\n\t\t\t\t\t\t\t\t\tclass=\"question-card\"\n\t\t\t\t\t\t\t\t\t:class=\"{ selected: answers[q.id] === 1 }\"\n\t\t\t\t\t\t\t\t\tv-for=\"q in getVisibleQuestions(domain, subdomain)\"\n\t\t\t\t\t\t\t\t\t:key=\"q.id\"\n\t\t\t\t\t\t\t\t\t@click=\"toggleAnswer(q.id)\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<view class=\"question-content\">\n\t\t\t\t\t\t\t\t\t\t<checkbox-group>\n\t\t\t\t\t\t\t\t\t\t\t<label class=\"question-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<checkbox :value=\"q.id\" :checked=\"answers[q.id] === 1\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"question-text\">{{ q.text }}</text>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</checkbox-group>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</template>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</template>\n\t\t</view>\n\t\t\n\t\t<!-- Â∫ïÈÉ®Êìç‰ΩúÊù°ÔºàÂê∏Â∫ïÔºâ -->\n\t\t<view class=\"bottom-bar\">\n\t\t\t<view class=\"progress-bar-container\">\n\t\t\t\t<text class=\"progress-text\">{{ derivedStats.global.selected }}/{{ derivedStats.global.total }}</text>\n\t\t\t\t<view class=\"progress-bar\">\n\t\t\t\t\t<view class=\"progress-fill\" :style=\"{ width: derivedStats.global.ratio + '%' }\"></view>\n\t\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t\t<view class=\"bottom-actions\">\n\t\t\t\t<button class=\"action-btn\" @click=\"saveDraft\">\n\t\t\t\t\t<text>‰øùÂ≠òËçâÁ®ø</text>\n\t\t\t\t</button>\n\t\t\t\t<button class=\"action-btn primary\" @click=\"submitAssessment\" :disabled=\"isSubmitting\">\n\t\t\t\t\t<text>{{ isSubmitting ? 'Êèê‰∫§‰∏≠...' : 'Êèê‰∫§ËØÑ‰º∞' }}</text>\n\t\t\t\t</button>\n\t\t\t\t<button class=\"action-btn\" @click=\"scrollToTop\">\n\t\t\t\t\t<text>ÂõûÂà∞È°∂ÈÉ®</text>\n\t\t\t</button>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- Âä†ËΩΩÈÅÆÁΩ© -->\n\t\t<view class=\"loading-mask\" v-if=\"isSubmitting\">\n\t\t\t<view class=\"loading-content\">\n\t\t\t\t<view class=\"loading-spinner\"></view>\n\t\t\t\t<text class=\"loading-text\">Ê≠£Âú®ÁîüÊàêÊä•Âëä...</text>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nimport { questions } from '@/common/questionBank.js'\n\n// È¢ÜÂüüÊ†áÁ≠æÊò†Â∞Ñ\nconst domainLabels = {\n\t'ÊÑüÁü•Ëßâ': 'ÊÑüÁü•Ëßâ',\n\t'Á≤óÂ§ßÂä®‰Ωú': 'Á≤óÂ§ßÂä®‰Ωú',\n\t'Á≤æÁªÜÂä®‰Ωú': 'Á≤æÁªÜÂä®‰Ωú',\n\t'ËÆ§Áü•': 'ËÆ§Áü•',\n\t'ËØ≠Ë®Ä': 'ËØ≠Ë®Ä',\n\t'Á§æ‰ºöÊÉÖÁª™': 'Á§æ‰ºöÊÉÖÁª™',\n\t'Á§æ‰ºö‰∫íÂä®': 'Á§æ‰ºö‰∫íÂä®'\n}\n\n// Â≠êÈ¢ÜÂüüÊ†áÁ≠æÊò†Â∞Ñ\nconst subdomainLabels = {\n\t'OSV': 'ËßÜÁü•Ëßâ',\n\t'OSH': 'Âê¨Áü•Ëßâ',\n\t'OST': 'Ëß¶Áü•Ëßâ',\n\t'ISP': 'Êú¨‰ΩìËøêÂä®Áü•Ëßâ',\n\t'ISV': 'ÂâçÂ∫≠Âπ≥Ë°°Áü•Ëßâ',\n\t'GM': 'Ë∫ØËÇ¢‰ΩìÁ≤óÂ§ßÂä®‰Ωú',\n\t'UEM': 'Âèå‰∏äËÇ¢Á≤óÂ§ßÂä®‰Ωú',\n\t'FM': 'Á≤æÁªÜÂä®‰Ωú',\n\t'SIP': 'Á§æ‰ºö‰∫íÂä®',\n\t'SIE': 'Á§æ‰ºöÊÉÖÁª™',\n\t'COG': 'ËÆ§Áü•',\n\t'LANG': 'ËØ≠Ë®Ä',\n\t'OM': 'Âè£ËÖîÂä®‰Ωú'\n}\n\t\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t// È¢òÁõÆÊï∞ÊçÆÔºàÊåâ domain -> subdomain ÂàÜÁªÑÔºâ\n\t\t\tquestionsByDomain: {},\n\t\t\t\n\t\t\t// Â±ïÂºÄÁä∂ÊÄÅ\n\t\t\t\texpandedDomains: {},\n\t\t\texpandedSubdomains: {},\n\t\t\t\n\t\t\t// Á≠îÊ°àÔºà1=ÂÆåÊàêÔºå0=Êú™ÂÆåÊàêÔºâ\n\t\t\tanswers: {},\n\t\t\t\n\t\t\t// Á≠õÈÄâÂô®\n\t\t\tfilters: {\n\t\t\t\tkeyword: '',\n\t\t\t\tdomains: [],\n\t\t\t\tonlyUnfinished: false\n\t\t\t},\n\t\t\t\n\t\t\t// Êèê‰∫§Áä∂ÊÄÅ\n\t\t\t\tisSubmitting: false,\n\t\t\t\n\t\t\t// ÂÑøÁ´•‰ø°ÊÅØ\n\t\t\tchildInfo: {}\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t// ÊâÄÊúâÈ¢ÜÂüü\n\t\tallDomains() {\n\t\t\tconst domains = new Set()\n\t\t\tquestions.forEach(q => {\n\t\t\t\tif (q.domain) domains.add(q.domain)\n\t\t\t})\n\t\t\treturn Array.from(domains).sort()\n\t\t},\n\t\t\n\t\t// ÁªüËÆ°‰ø°ÊÅØ\n\t\tderivedStats() {\n\t\t\tconst stats = {\n\t\t\t\tglobal: { selected: 0, total: 0, ratio: 0 },\n\t\t\t\tbyDomain: {}\n\t\t\t}\n\t\t\t\n\t\t\t// ÁªüËÆ°ÂÖ®Â±Ä\n\t\t\tconst totalQs = Object.values(this.questionsByDomain).reduce((sum, subdomains) => {\n\t\t\t\treturn sum + Object.values(subdomains).reduce((s, qs) => s + qs.length, 0)\n\t\t\t}, 0)\n\t\t\t\n\t\t\tconst selectedQs = Object.values(this.answers).filter(v => v === 1).length\n\t\t\t\n\t\t\tstats.global.total = totalQs\n\t\t\tstats.global.selected = selectedQs\n\t\t\tif (totalQs > 0) {\n\t\t\t\tstats.global.ratio = Math.round((selectedQs / totalQs) * 100)\n\t\t\t}\n\t\t\t\n\t\t\t// ÁªüËÆ°ÊØè‰∏™ domain\n\t\t\tthis.allDomains.forEach(domain => {\n\t\t\t\tconst domainQs = this.getQuestionsInDomain(domain)\n\t\t\t\tconst selected = domainQs.filter(q => this.answers[q.id] === 1).length\n\t\t\t\tstats.byDomain[domain] = {\n\t\t\t\t\tselected,\n\t\t\t\t\ttotal: domainQs.length,\n\t\t\t\t\tratio: domainQs.length > 0 ? Math.round((selected / domainQs.length) * 100) : 0\n\t\t\t\t}\n\t\t\t})\n\t\t\t\n\t\t\treturn stats\n\t\t\t}\n\t\t},\n\t\tonLoad() {\n\t\tconsole.log('[assessment] onLoad start')\n\t\t\tthis.loadChildInfo()\n\t\tconst draft = uni.getStorageSync('assessmentDraft')\n\t\tconst hasDraft = draft && Object.keys(draft).length > 0\n\t\t\n\t\tthis.initData()\n\t\t\n\t\tif (!hasDraft) {\n\t\t\t// È¶ñÊ¨°ËøõÂÖ•ÔºöÂè™Â±ïÂºÄÁ¨¨‰∏Ä‰∏™ domain ÁöÑÁ¨¨‰∏Ä‰∏™ subdomain\n\t\t\tthis.allDomains.forEach((domain, idx) => {\n\t\t\t\tif (idx === 0 && this.hasQuestionsInDomain(domain)) {\n\t\t\t\t\tthis.$set(this.expandedDomains, domain, true)\n\t\t\t\t\tconst subdomains = this.getSubdomainsInDomain(domain)\n\t\t\t\t\tif (subdomains.length > 0) {\n\t\t\t\t\t\tthis.$set(this.expandedSubdomains, `${domain}::${subdomains[0]}`, true)\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.$set(this.expandedDomains, domain, false)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\t\n\t\tthis.loadDraft()\n\t\t\n\t\t// ÂØπ‰∫éÊ≤°ÊúâËçâÁ®øÁ≠îÊ°àÁöÑÈ¢òÁõÆÔºåÂàùÂßãÂåñ‰∏∫0\n\t\tquestions.forEach(q => {\n\t\t\tif (this.answers[q.id] === undefined) {\n\t\t\t\tthis.answers[q.id] = 0\n\t\t\t}\n\t\t})\n\t\t\n\t\tconsole.log('[assessment] onLoad end')\n\t},\n\tbeforeDestroy() {\n\t\tthis.saveDraft()\n\t\t},\n\t\tmethods: {\n\t\t// ÂàùÂßãÂåñÊï∞ÊçÆ\n\t\tinitData() {\n\t\t\tconsole.log('[assessment] initData start, questions count:', questions.length)\n\t\t\t\n\t\t\t// Êåâ domain -> subdomain ÂàÜÁªÑÈ¢òÁõÆ\n\t\t\tthis.questionsByDomain = {}\n\t\t\tquestions.forEach(q => {\n\t\t\t\tconst domain = q.domain || 'ËÆ§Áü•'\n\t\t\t\tif (!this.questionsByDomain[domain]) {\n\t\t\t\t\tthis.questionsByDomain[domain] = {}\n\t\t\t\t}\n\t\t\t\tconst subdomain = q.subdomain || 'other'\n\t\t\t\tif (!this.questionsByDomain[domain][subdomain]) {\n\t\t\t\t\tthis.questionsByDomain[domain][subdomain] = []\n\t\t\t\t}\n\t\t\t\tthis.questionsByDomain[domain][subdomain].push(q)\n\t\t\t})\n\t\t\t\n\t\t\tconsole.log('[assessment] grouped by domain, keys:', Object.keys(this.questionsByDomain))\n\t\t\tconsole.log('[assessment] initData end')\n\t\t},\n\t\t\n\t\t\t// Âä†ËΩΩÂÑøÁ´•‰ø°ÊÅØ\n\t\t\tloadChildInfo() {\n\t\t\t\tthis.childInfo = uni.getStorageSync('childInfo') || {}\n\t\t},\n\t\t\n\t\t// Âä†ËΩΩËçâÁ®ø\n\t\tloadDraft() {\n\t\t\tconst draft = uni.getStorageSync('assessmentDraft')\n\t\t\tif (draft) {\n\t\t\t\tif (draft.answers) this.answers = draft.answers\n\t\t\t\tif (draft.expandedDomains) this.expandedDomains = draft.expandedDomains\n\t\t\t\tif (draft.expandedSubdomains) this.expandedSubdomains = draft.expandedSubdomains\n\t\t\t\tif (draft.filters) this.filters = draft.filters\n\t\t\t}\n\t\t},\n\t\t\n\t\t// ‰øùÂ≠òËçâÁ®ø\n\t\tsaveDraft() {\n\t\t\tuni.setStorageSync('assessmentDraft', {\n\t\t\t\tanswers: this.answers,\n\t\t\t\texpandedDomains: this.expandedDomains,\n\t\t\t\texpandedSubdomains: this.expandedSubdomains,\n\t\t\t\tfilters: this.filters\n\t\t\t})\n\t\t},\n\t\t\n\t\t// ÂàáÊç¢ domain\n\t\ttoggleDomain(domain) {\n\t\t\tthis.$set(this.expandedDomains, domain, !this.expandedDomains[domain])\n\t\t\tthis.saveDraft()\n\t\t},\n\t\t\n\t\t// ÂàáÊç¢ subdomain\n\t\ttoggleSubdomain(key) {\n\t\t\tthis.$set(this.expandedSubdomains, key, !this.expandedSubdomains[key])\n\t\t\tthis.saveDraft()\n\t\t},\n\t\t\n\t\t// Ëé∑Âèñ domain ‰∏≠ÁöÑÈ¢òÁõÆ\n\t\tgetQuestionsInDomain(domain) {\n\t\t\tconst questions = []\n\t\t\tObject.values(this.questionsByDomain[domain] || {}).forEach(list => {\n\t\t\t\tquestions.push(...list)\n\t\t\t})\n\t\t\treturn questions\n\t\t},\n\t\t\n\t\t// Ëé∑Âèñ domain ‰∏≠ÁöÑ subdomains\n\t\tgetSubdomainsInDomain(domain) {\n\t\t\treturn Object.keys(this.questionsByDomain[domain] || {}).sort()\n\t\t},\n\t\t\n\t\t// Ê£ÄÊü• domain ÊòØÂê¶ÊúâÈ¢òÁõÆ\n\t\thasQuestionsInDomain(domain) {\n\t\t\treturn this.questionsByDomain[domain] && Object.keys(this.questionsByDomain[domain]).length > 0\n\t\t},\n\t\t\n\t\t// Ëé∑ÂèñÈ¢ÜÂüüÁªüËÆ°\n\t\tgetDomainStats(domain) {\n\t\t\tconst questions = this.getQuestionsInDomain(domain)\n\t\t\tconst selected = questions.filter(q => this.answers[q.id] === 1).length\n\t\t\treturn {\n\t\t\t\tselected,\n\t\t\t\ttotal: questions.length,\n\t\t\t\tratio: questions.length > 0 ? Math.round((selected / questions.length) * 100) : 0\n\t\t\t}\n\t\t},\n\t\t\n\t\t// Ëé∑ÂèñÂ≠êÈ¢ÜÂüüÁªüËÆ°\n\t\tgetSubdomainStats(domain, subdomain) {\n\t\t\tconst questions = this.questionsByDomain[domain]?.[subdomain] || []\n\t\t\tconst selected = questions.filter(q => this.answers[q.id] === 1).length\n\t\t\treturn {\n\t\t\t\tselected,\n\t\t\t\ttotal: questions.length,\n\t\t\t\tratio: questions.length > 0 ? Math.round((selected / questions.length) * 100) : 0\n\t\t\t}\n\t\t},\n\t\t\n\t\t// Ëé∑ÂèñÈ¢ÜÂüüÊ†áÁ≠æ\n\t\tgetDomainLabel(domain) {\n\t\t\treturn domainLabels[domain] || domain\n\t\t},\n\t\t\n\t\t// Ëé∑ÂèñÂ≠êÈ¢ÜÂüüÊ†áÁ≠æ\n\t\tgetSubdomainLabel(subdomain) {\n\t\t\treturn subdomainLabels[subdomain] || subdomain\n\t\t},\n\t\t\n\t\t// Ê£ÄÊü• domain ÊòØÂê¶ÊúâÂåπÈÖçÁöÑÈ¢òÁõÆ\n\t\thasMatchingQuestionsInDomain(domain) {\n\t\t\tif (!this.hasQuestionsInDomain(domain)) return false\n\t\t\t\n\t\t\t// Â¶ÇÊûúÊ≤°ÊúâÊêúÁ¥¢Êù°‰ª∂ÔºåËøîÂõû true\n\t\t\tif (!this.filters.keyword && this.filters.domains.length === 0 && !this.filters.onlyUnfinished) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t\t\n\t\t\t// Ê£ÄÊü•ÊòØÂê¶ÊúâÂåπÈÖçÁöÑÈ¢òÁõÆ\n\t\t\tconst questions = this.getQuestionsInDomain(domain)\n\t\t\treturn this.applyFiltersToQuestions(questions).length > 0\n\t\t},\n\t\t\n\t\t// Ê£ÄÊü• subdomain ÊòØÂê¶ÊúâÂåπÈÖçÁöÑÈ¢òÁõÆ\n\t\thasMatchingQuestionsInSubdomain(domain, subdomain) {\n\t\t\tconst questions = this.questionsByDomain[domain]?.[subdomain] || []\n\t\t\tif (questions.length === 0) return false\n\t\t\t\n\t\t\t// Â¶ÇÊûúÊ≤°ÊúâÊêúÁ¥¢Êù°‰ª∂ÔºåËøîÂõû true\n\t\t\tif (!this.filters.keyword && this.filters.domains.length === 0 && !this.filters.onlyUnfinished) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t\t\n\t\t\t// Ê£ÄÊü•ÊòØÂê¶ÊúâÂåπÈÖçÁöÑÈ¢òÁõÆ\n\t\t\treturn this.applyFiltersToQuestions(questions).length > 0\n\t\t},\n\t\t\n\t\t// Ëé∑ÂèñÂèØËßÅÁöÑÈ¢òÁõÆÔºàÂ∫îÁî®Á≠õÈÄâÔºâ\n\t\tgetVisibleQuestions(domain, subdomain) {\n\t\t\tlet questions = this.questionsByDomain[domain]?.[subdomain] || []\n\t\t\t\n\t\t\t// Â∫îÁî®Á≠õÈÄâ\n\t\t\treturn this.applyFiltersToQuestions(questions)\n\t\t},\n\t\t\n\t\t// ÂØπÈ¢òÁõÆÂ∫îÁî®Á≠õÈÄâ\n\t\tapplyFiltersToQuestions(questions) {\n\t\t\treturn questions.filter(q => {\n\t\t\t\t// ÂÖ≥ÈîÆËØçÁ≠õÈÄâ\n\t\t\t\tif (this.filters.keyword) {\n\t\t\t\t\tconst keyword = this.filters.keyword.toLowerCase()\n\t\t\t\t\tif (!q.text.toLowerCase().includes(keyword)) {\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// È¢ÜÂüüÁ≠õÈÄâ\n\t\t\t\tif (this.filters.domains.length > 0 && !this.filters.domains.includes(q.domain)) {\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// ‰ªÖÁúãÊú™ÂÆåÊàê\n\t\t\t\tif (this.filters.onlyUnfinished && this.answers[q.id] === 1) {\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn true\n\t\t\t})\n\t\t},\n\t\t\n\t\t// ÂàáÊç¢Á≠îÊ°à\n\t\ttoggleAnswer(qid) {\n\t\t\tthis.$set(this.answers, qid, this.answers[qid] === 1 ? 0 : 1)\n\t\t\tthis.saveDraft()\n\t\t},\n\t\t\n\t\t// È¢ÜÂüüÁ≠õÈÄâÂàáÊç¢\n\t\ttoggleDomainFilter(domain) {\n\t\t\tconst idx = this.filters.domains.indexOf(domain)\n\t\t\tif (idx >= 0) {\n\t\t\t\tthis.filters.domains.splice(idx, 1)\n\t\t\t} else {\n\t\t\t\tthis.filters.domains.push(domain)\n\t\t\t}\n\t\t\tthis.saveDraft()\n\t\t},\n\t\t\n\t\t// ‰ªÖÁúãÊú™ÂÆåÊàêÂºÄÂÖ≥\n\t\tonUnfinishedToggle(e) {\n\t\t\tthis.filters.onlyUnfinished = e.detail.value\n\t\t\tthis.saveDraft()\n\t\t},\n\t\t\n\t\t// Â∫îÁî®Á≠õÈÄâÔºàÊêúÁ¥¢Êó∂Ôºâ\n\t\tapplyFilters() {\n\t\t\t// Â¶ÇÊûúÊúâÊêúÁ¥¢ÂÖ≥ÈîÆËØçÔºåËá™Âä®Â±ïÂºÄÂåÖÂê´ÂåπÈÖçÈ¢òÁõÆÁöÑ domain Âíå subdomain\n\t\t\tif (this.filters.keyword) {\n\t\t\t\tthis.allDomains.forEach(domain => {\n\t\t\t\t\tif (this.hasMatchingQuestionsInDomain(domain)) {\n\t\t\t\t\t\t// Â±ïÂºÄ domain\n\t\t\t\t\t\tthis.$set(this.expandedDomains, domain, true)\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Â±ïÂºÄÊúâÂåπÈÖçÈ¢òÁõÆÁöÑ subdomain\n\t\t\t\t\t\tconst subdomains = this.getSubdomainsInDomain(domain)\n\t\t\t\t\t\tsubdomains.forEach(subdomain => {\n\t\t\t\t\t\t\tif (this.hasMatchingQuestionsInSubdomain(domain, subdomain)) {\n\t\t\t\t\t\t\t\tthis.$set(this.expandedSubdomains, `${domain}::${subdomain}`, true)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tthis.saveDraft()\n\t\t\t}\n\t\t\t\n\t\t\tthis.$forceUpdate()\n\t\t},\n\t\t\n\t\t// ÂÖ®ÈÄâÊú¨È¢ÜÂüü\n\t\tselectAllInDomain(domain) {\n\t\t\tconst questions = this.getQuestionsInDomain(domain)\n\t\t\tquestions.forEach(q => {\n\t\t\t\tthis.$set(this.answers, q.id, 1)\n\t\t\t})\n\t\t\tthis.saveDraft()\n\t\t},\n\t\t\n\t\t// Ê∏ÖÁ©∫Êú¨È¢ÜÂüü\n\t\tclearDomain(domain) {\n\t\t\tconst questions = this.getQuestionsInDomain(domain)\n\t\t\tquestions.forEach(q => {\n\t\t\t\tthis.$set(this.answers, q.id, 0)\n\t\t\t})\n\t\t\tthis.saveDraft()\n\t\t},\n\t\t\n\t\t// ÂÖ®ÈÄâÊú¨Â≠êÈ¢ÜÂüü\n\t\tselectAllInSubdomain(domain, subdomain) {\n\t\t\tconst questions = this.questionsByDomain[domain]?.[subdomain] || []\n\t\t\tquestions.forEach(q => {\n\t\t\t\tthis.$set(this.answers, q.id, 1)\n\t\t\t})\n\t\t\tthis.saveDraft()\n\t\t},\n\t\t\n\t\t// Ê∏ÖÁ©∫Êú¨Â≠êÈ¢ÜÂüü\n\t\tclearSubdomain(domain, subdomain) {\n\t\t\tconst questions = this.questionsByDomain[domain]?.[subdomain] || []\n\t\t\tquestions.forEach(q => {\n\t\t\t\tthis.$set(this.answers, q.id, 0)\n\t\t\t})\n\t\t\tthis.saveDraft()\n\t\t\t},\n\t\t\t\n\t\t\t// Êèê‰∫§ËØÑ‰º∞\n\t\t\tsubmitAssessment() {\n\t\t\tif (this.isSubmitting) return\n\t\t\t\t\n\t\t\t\tthis.isSubmitting = true\n\t\t\t\t\n\t\t\t\t// ÁîüÊàêËØÑ‰º∞ÁªìÊûú\n\t\t\t\tconst assessmentResult = {\n\t\t\t\t\tchildInfo: this.childInfo,\n\t\t\t\tanswers: this.answers,\n\t\t\t\tformState: this.formatFormState(),\n\t\t\t\tcheckedCount: this.derivedStats.global.selected,\n\t\t\t\ttotalCount: this.derivedStats.global.total,\n\t\t\t\tprogressPercent: this.derivedStats.global.ratio,\n\t\t\t\t\tassessmentDate: new Date().toISOString()\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// ‰øùÂ≠òËØÑ‰º∞ÁªìÊûú\n\t\t\t\tuni.setStorageSync('assessmentResult', assessmentResult)\n\t\t\t\n\t\t\t// Ê∏ÖÈô§ËçâÁ®ø\n\t\t\tuni.removeStorageSync('assessmentDraft')\n\t\t\t\t\n\t\t\t\t// Âª∂ËøüË∑≥ËΩ¨\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\turl: '/pages/result/result'\n\t\t\t\t\t})\n\t\t\t}, 1000)\n\t\t},\n\t\t\n\t\t// Ê†ºÂºèÂåñ formStateÔºàÂÖºÂÆπÊóßÊ†ºÂºèÔºâ\n\t\tformatFormState() {\n\t\t\tconst formState = {}\n\t\t\tObject.keys(this.questionsByDomain).forEach(domain => {\n\t\t\t\tformState[domain] = []\n\t\t\t\tObject.values(this.questionsByDomain[domain]).forEach(list => {\n\t\t\t\t\tlist.forEach(q => {\n\t\t\t\t\t\tformState[domain].push({\n\t\t\t\t\t\t\t...q,\n\t\t\t\t\t\t\tchecked: this.answers[q.id] === 1\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t})\n\t\t\treturn formState\n\t\t},\n\t\t\n\t\t// ÂõûÂà∞È°∂ÈÉ®\n\t\tscrollToTop() {\n\t\t\tuni.pageScrollTo({\n\t\t\t\tscrollTop: 0,\n\t\t\t\tduration: 300\n\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\t.container {\n\t\tmin-height: 100vh;\n\t\tbackground: #F8F9FA;\n\t\tpadding-bottom: 180rpx;\n\t\tposition: relative;\n\t\toverflow: hidden;\n\t}\n\t\n\t/* ÁßªÈô§ËÉåÊôØÂõæË£ÖÈ•∞ÔºåÂæÆ‰ø°Â∞èÁ®ãÂ∫è‰∏çÊîØÊåÅ WXSS ‰∏≠‰ΩøÁî®Êú¨Âú∞ÂõæÁâá */\n\n/* È°∂ÈÉ®Â∑•ÂÖ∑Êù°ÔºàÂê∏È°∂Ôºâ */\n.top-bar {\n\tposition: sticky;\n\ttop: 0;\n\tz-index: 100;\n\tbackground: #FFFFFF;\n\tpadding: 20rpx;\n\tbox-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.1);\n}\n\n.top-header {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmargin-bottom: 20rpx;\n}\n\n.page-title {\n\tfont-size: 36rpx;\n\tfont-weight: bold;\n\t\tcolor: #2C3E50;\n}\n\n.global-stats {\n\tfont-size: 28rpx;\n\t\tcolor: #87CEEB;\n\tfont-weight: 600;\n}\n\n.search-box {\n\tposition: relative;\n\tmargin-bottom: 20rpx;\n}\n\n.search-input {\n\twidth: 100%;\n\theight: 70rpx;\n\tbackground: #F8F9FA;\n\tborder-radius: 35rpx;\n\tpadding: 0 70rpx 0 30rpx;\n\tfont-size: 26rpx;\n}\n\n.search-icon {\n\tposition: absolute;\n\tright: 30rpx;\n\ttop: 50%;\n\ttransform: translateY(-50%);\n\tfont-size: 28rpx;\n}\n\n.domain-chips {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tgap: 15rpx;\n\tmargin-bottom: 20rpx;\n}\n\n.chip {\n\tpadding: 8rpx 20rpx;\n\tbackground: #F8F9FA;\n\tborder: 2rpx solid #E8F4FD;\n\tborder-radius: 30rpx;\n\tfont-size: 24rpx;\n\t\tcolor: #7F8C8D;\n}\n\n.chip.active {\n\tbackground: #E93A8A;\n\tcolor: #FFFFFF;\n\tborder-color: #E93A8A;\n}\n\n.filter-switch {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 15rpx;\n}\n\n.switch-label {\n\tfont-size: 26rpx;\n\t\tcolor: #2C3E50;\n}\n\n/* ‰∏ªÂàóË°® */\n.questions-container {\n\tpadding: 20rpx;\n}\n\n.domain-section {\n\t\tmargin-bottom: 30rpx;\n\t}\n\t\n.domain-header {\n\tbackground: linear-gradient(135deg, #E93A8A, #009FC2);\n\tpadding: 25rpx 30rpx;\n\t\tborder-radius: 15rpx;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\t\tmargin-bottom: 15rpx;\n\t}\n\t\n.domain-title {\n\tfont-size: 32rpx;\n\tfont-weight: bold;\n\tcolor: #FFFFFF;\n}\n\n.domain-stats {\n\t\tfont-size: 26rpx;\n\tcolor: #FFFFFF;\n\tmargin: 0 15rpx;\n}\n\n.domain-actions {\n\tdisplay: flex;\n\tgap: 20rpx;\n}\n\n.action-btn {\n\t\tfont-size: 22rpx;\n\tcolor: #FFFFFF;\n\tpadding: 5rpx 15rpx;\n\tborder: 1rpx solid rgba(255,255,255,0.5);\n\tborder-radius: 10rpx;\n\tbackground: rgba(255,255,255,0.2);\n}\n\n.domain-toggle {\n\tfont-size: 28rpx;\n\tcolor: #FFFFFF;\n}\n\n.domain-content {\n\tpadding-left: 20rpx;\n}\n\n.subdomain-section {\n\tmargin-bottom: 20rpx;\n}\n\n.subdomain-header {\n\tbackground: #E8F4FD;\n\tpadding: 20rpx 25rpx;\n\tborder-radius: 12rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\tjustify-content: space-between;\n\tmargin-bottom: 10rpx;\n}\n\n.subdomain-title {\n\t\tfont-size: 28rpx;\n\tfont-weight: 600;\n\t\tcolor: #2C3E50;\n\t}\n\t\n.subdomain-stats {\n\tfont-size: 24rpx;\n\t\tcolor: #87CEEB;\n\tmargin-left: 15rpx;\n}\n\n.subdomain-actions {\n\tdisplay: flex;\n\tgap: 20rpx;\n\tmargin-left: auto;\n}\n\n.subdomain-toggle {\n\tfont-size: 24rpx;\n\tcolor: #7F8C8D;\n\tmargin-left: 15rpx;\n}\n\n.subdomain-questions {\n\tpadding: 0 10rpx;\n}\n\n.question-card {\n\tbackground: #FFFFFF;\n\tpadding: 20rpx;\n\tmargin-bottom: 15rpx;\n\tborder-radius: 12rpx;\n\tborder: 2rpx solid transparent;\n\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.05);\n\ttransition: all 0.3s;\n}\n\n.question-card.selected {\n\tbackground: #F0F8FF;\n\tborder-color: #87CEEB;\n}\n\n.question-content {\n\tline-height: 1.5;\n}\n\n.question-label {\n\t\tdisplay: flex;\n\talign-items: flex-start;\n\tgap: 15rpx;\n}\n\n.question-text {\n\tfont-size: 26rpx;\n\tcolor: #2C3E50;\n\tflex: 1;\n}\n\n.show-more-btn {\n\ttext-align: center;\n\tpadding: 20rpx;\n\tcolor: #87CEEB;\n\tfont-size: 26rpx;\n\tbackground: #F0F8FF;\n\tborder-radius: 12rpx;\n}\n\n/* Â∫ïÈÉ®Êìç‰ΩúÊù°ÔºàÂê∏Â∫ïÔºâ */\n.bottom-bar {\n\t\tposition: fixed;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\tbackground: #FFFFFF;\n\tpadding: 20rpx;\n\tbox-shadow: 0 -2rpx 10rpx rgba(0, 0, 0, 0.1);\n\tz-index: 99;\n}\n\n.progress-bar-container {\n\tmargin-bottom: 20rpx;\n}\n\n.progress-text {\n\tfont-size: 24rpx;\n\tcolor: #7F8C8D;\n\tmargin-bottom: 10rpx;\n\tdisplay: block;\n}\n\n.progress-bar {\n\t\twidth: 100%;\n\theight: 8rpx;\n\tbackground: #F0F0F0;\n\tborder-radius: 4rpx;\n\t\toverflow: hidden;\n}\n\n.progress-fill {\n\theight: 100%;\n\tbackground: linear-gradient(90deg, #E93A8A, #009FC2);\n\ttransition: width 0.3s;\n}\n\n.bottom-actions {\n\tdisplay: flex;\n\tgap: 15rpx;\n}\n\n.bottom-actions .action-btn {\n\tflex: 1;\n\t\theight: 80rpx;\n\tbackground: #F8F9FA;\n\tborder: 2rpx solid #E8F4FD;\n\t\tborder-radius: 40rpx;\n\tfont-size: 28rpx;\n\tcolor: #2C3E50;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n}\n\n.bottom-actions .action-btn.primary {\n\t\tbackground: linear-gradient(135deg, #E93A8A, #009FC2);\n\t\tcolor: #FFFFFF;\n\t\tborder: none;\n\t}\n\t\n\t/* Âä†ËΩΩÈÅÆÁΩ© */\n\t.loading-mask {\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tbackground: rgba(0, 0, 0, 0.5);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\tz-index: 999;\n\t}\n\t\n\t.loading-content {\n\tbackground: #FFFFFF;\n\tpadding: 40rpx;\n\t\tborder-radius: 20rpx;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\tgap: 20rpx;\n\t}\n\t\n\t.loading-spinner {\n\t\twidth: 60rpx;\n\t\theight: 60rpx;\n\t\tborder: 4rpx solid #E8F4FD;\n\tborder-top-color: #87CEEB;\n\t\tborder-radius: 50%;\n\t\tanimation: spin 1s linear infinite;\n\t}\n\t\n\t@keyframes spin {\n\tto { transform: rotate(360deg); }\n\t}\n\t\n\t.loading-text {\n\t\tfont-size: 28rpx;\n\t\tcolor: #2C3E50;\n\t}\n</style>\n","import mod from \"-!../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./assessment.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./assessment.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1761965000355\n      var cssReload = require(\"C:/Users/86182/Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}