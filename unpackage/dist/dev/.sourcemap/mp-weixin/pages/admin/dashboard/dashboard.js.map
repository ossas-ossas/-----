{"version":3,"sources":["uni-app:///main.js",null,"webpack:///C:/Users/86182/Documents/HBuilderProjects/前端小程序/pages/admin/dashboard/dashboard.vue?8f0b","webpack:///C:/Users/86182/Documents/HBuilderProjects/前端小程序/pages/admin/dashboard/dashboard.vue?c63b","webpack:///C:/Users/86182/Documents/HBuilderProjects/前端小程序/pages/admin/dashboard/dashboard.vue?b349","uni-app:///pages/admin/dashboard/dashboard.vue","webpack:///C:/Users/86182/Documents/HBuilderProjects/前端小程序/pages/admin/dashboard/dashboard.vue?7d83","webpack:///C:/Users/86182/Documents/HBuilderProjects/前端小程序/pages/admin/dashboard/dashboard.vue?8ff8"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","isAdmin","loading","loadingText","contentdown","contentrefresh","contentnomore","activeTab","profiles","assessments","profilesCount","assessmentsCount","expandedDomains","assessmentViewMode","expandedNotAchieved","notAchievedFilters","onLoad","onPullDownRefresh","uni","methods","checkAdminPermission","userInfo","token","tokenArr","payload","role","console","loadData","uniCloud","name","type","uniIdToken","res","errorMsg","debugInfo","fullErrorMsg","title","content","showCancel","confirmText","error","result","code","formatDate","formatTime","formatRatio","getRatioPercent","getDiagnosisLabel","getAgeBandLabel","getDomainLabel","getSubdomainLabel","getSubdomainShortLabel","getDomainsFromSubdomains","Object","domains","getSubdomainsByDomain","key","stats","getSubdomainsByDomainOrdered","order","getActionSubdomainsOrdered","getActionSubdomainCount","hasSubdomainInDomain","getSubdomainCount","getAllAgeBands","getTableDomains","label","count","domain","colspan","getAllSubdomainsOrdered","isFirstSubdomainInDomain","isLastSubdomainInDomain","getDomainLabelForSubdomain","getAgeBandSubdomainValue","getBarColorClass","toggleNotAchieved","isNotAchievedExpanded","getNotAchievedByDomain","notAchieved","getNotAchievedByAgeBand","setNotAchievedFilter","getNotAchievedFilter","getFilteredNotAchieved","filtered","toggleDomain","assessmentId","oldState","newState","isDomainExpanded","getWalkTimeLabel","getCrawlLabel","getVisionStatusLabel","getVisionSubLabel","getEpilepsyLabel","getCaregiverLabel","goBack","goToInitQuestions","url","logout","success","exportAssessmentToExcel","XLSX","ws1","wch","subdomains","ws2","icon","generateDetailedAnalysisSheet","row1","row2","ageBands","assessment","ageBand","subdomain","row","generateMergesForSheet1","merges","s","r","c","e","colIndex","generateNotAchievedSheet","grouped","hasContent","items","domainLabel","subdomainLabel","item"],"mappings":";;;;;;;;;;;;;AAAA;AAE2D;AAC3D;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,kBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkI;AAClI;AAC6D;AACL;AACqC;;;AAG7F;AAC6M;AAC7M,gBAAgB,iNAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,gGAAM;AACR,EAAE,yGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,0VAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnbA;AAAA;AAAA;AAAA;AAAwzB,CAAgB,uyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACwf50B;AACA;EACA;IACA;IACA;IACA;IACA;EACA;EACA;AACA;AAEA;EACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;EACA;AACA;AAEA;EACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;EACA;AACA;;AAEA;AACA;EACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;EACA;AACA;;AAEA;AACA;EACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;EACA;AACA;AAAA,eAEA;EACAC;IACA;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;IACA;EACA;EACAC;IACA;EACA;EACAC;IACA;MACAC;IACA;EACA;EACAC;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAEA;gBACAC;gBAAA,MACA;kBAAA;kBAAA;gBAAA;gBACA;gBACA;gBAAA;cAAA;gBAIA;gBACAC;gBACA;kBACAC;kBACA;oBACA;sBACAC;sBACAC,2BACA;sBACA;oBACA;sBACAC;sBACA;oBACA;kBACA;gBACA;gBAAA,KAEA;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA,OACA;cAAA;gBAAA;gBAAA;cAAA;gBAEA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAGAA;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,IACA;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBAEA;gBAAA;gBAEA;gBACAL;gBACAI;gBAAA;gBAAA,OAEAE;kBACAC;kBACA7B;oBACA8B;oBACAC;oBACA;oBACA;kBACA;gBACA;cAAA;gBARAC;gBAUAN;gBAEA;kBACA1B;kBACA0B;oBACAhB;oBACAC;kBACA;kBAEA;kBACA;kBACA;kBACA;gBACA;kBACAsB;kBACAC;kBACAR;;kBAEA;kBACAS;kBACA;oBACAA;kBACA;kBAEAjB;oBACAkB;oBACAC;oBACAC;oBACAC;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAb;gBACAO;gBACAP;kBACAc;kBACAC;kBACAC;gBACA;gBACAxB;kBACAkB;kBACAC;kBACAC;gBACA;cAAA;gBAAA;gBAEA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACAK;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;MACA;MACAC;QACA;UACAC;QACA;MACA;MACA;IACA;IAEA;IACAC;MACA;QACA;MACA;MACA;MACA;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;MACA;MAEAF;QAAA;UAAAG;UAAAC;QACA;UACA;UACA;UACA;UACA;YACAhB;UACA;QACA;MACA;MACA;IACA;IAEA;IACAiB;MACA;MACA;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;MACA;MACA;MACA;MACAC;QACAN;UAAA;YAAAG;YAAAC;UACA;YACAhB;cAAAe;YAAA;UACA;QACA;MACA;MACA;MACAH;QAAA;UAAAG;UAAAC;QACA;UACAhB;YAAAe;UAAA;QACA;MACA;MACA;IACA;IAEA;IACAI;MACA;MACA;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MAAA;MACA,eACA;QAAAT;QAAAd;QAAAwB;MAAA,GACA;QAAAV;QAAAd;QAAAwB;MAAA,GACA;QAAAV;QAAAd;QAAAwB;MAAA,GACA;QAAAV;QAAAd;QAAAwB;MAAA,GACA;QAAAV;QAAAd;QAAAwB;MAAA,GACA;QAAAV;QAAAd;QAAAwB;MAAA,EACA;MAEA;MACAZ;QACA;QACA;UACA;UACAa;QACA;UACAA;QACA;QAEA;UACA1B,4CACA2B;YACAC;UAAA,GACA;QACA;MACA;MAEA;IACA;IAEA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;IACA;IAEA;IACAC;MACA;MACA;MAEA;MACA;;MAEA;MACA;QACA;UACA;QACA;MACA;MAEA;IACA;IAEA;IACAC;MACA;MACA;MAEA;MACA;;MAEA;MACA;QACA;MACA;;MAEA;MACA;QACA;UACA;QACA;MACA;MAEA;IACA;IAEA;IACAC;MACA;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;MAEA;IACA;IAEA;IACAC;MACA;QACA;MACA;;MAEA;MACA;MACA;MAEA;QACA;MACA;MAEA;IACA;IAEA;IACAC;MACA;MACA;MACA;MACA;IACA;IAEA;IAEA;IACAC;MACA;MACA;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;MACA;MACAC;QACA;QACAtC;MACA;MACA;IACA;IAEA;IACAuC;MACA;MACA;MACAD;QACA;QACAtC;MACA;MACA;IACA;IAEA;IACAwC;MACA;MACA;QACA;MACA;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;QACA;MACA;MACA;IACA;IAEA;IACAC;MACA;MAEA;MAEA;;MAEA;MACA;QACAC;UAAA;QAAA;MACA;MAEA;IACA;IAEA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA3D;QACA4D;QACAlB;QACAZ;QACA+B;QACAC;MACA;IACA;IAEA;IACAC;MACA;MACA;IACA;IAEA;IACAC;MACA;QACA;QACA;QACA;MACA;MACA;IACA;IAEA;IACAC;MACA;QACA;QACA;QACA;MACA;MACA;IACA;IAEA;IACAC;MACA;QACA;QACA;QACA;MACA;MACA;IACA;IAEA;IACAC;MACA;QACA;QACA;MACA;MACA;IACA;IAEA;IACAC;MACA;QACA;QACA;QACA;MACA;MACA;IACA;IAEA;IACAC;MACA;QACA;QACA;QACA;QACA;MACA;MACA;IACA;IAEA;IACAC;MACA9E;IACA;IAEA;IACA+E;MACA/E;QACAgF;MACA;IACA;IAEA;IACAC;MACAjF;QACAkB;QACAC;QACA+D;UACA;YACA;YACAlF;YACAA;;YAEA;YACAA;cACAgF;YACA;UACA;QACA;MACA;IACA;IAEA;IACAG;MACA;QACA3E;;QAEA;QACA;QACA;UACA4E;QACA;UACA5E;UACAR;YACAkB;YACAC;YACAC;UACA;UACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;QAEA;QACAiE;UAAAC;QAAA;QACA;QACAC;UACAF;YAAAC;UAAA;QACA;;QAEA;QACAD;QAEAD;;QAEA;QACA;QACA;;QAEA;QACAI,gBACA;UAAAF;QAAA;QAAA;QACA;UAAAA;QAAA;QAAA;QACA;UAAAA;QAAA;QAAA,CACA;;QAEAF;;QAEA;QACA;QACA;QACA;;QAEA;QACAA;QAEApF;UACAkB;UACAuE;QACA;MACA;QACAjF;QACAR;UACAkB;UACAC;UACAC;QACA;MACA;IACA;IAEA;IACAsE;MAAA;MACA;MACA;MACA;MACA;;MAEA;MACA;MACAtD;QACAuD;QACA;QACA;UACAA;QACA;MACA;MACA7G;;MAEA;MACA;MACAyG;QACAK;MACA;MACA9G;;MAEA;MACA+G;QACA;QACAN;UACA,4CACAO,kCACAC,SACAC,oBACA;UACAC;QACA;QACAnH;MACA;MAEA;IACA;IAEA;IACAoH;MACA;MACA;MACA;;MAEA;MACAC;QACAC;UAAAC;UAAAC;QAAA;QAAA;QACAC;UAAAF;UAAAC;QAAA;MACA;;MAEA;MACA;MACAlE;QACA;UACA+D;YACAC;cAAAC;cAAAC;YAAA;YACAC;cAAAF;cAAAC;YAAA;UACA;QACA;QACAE;MACA;MAEA;IACA;IAEA;IACAC;MAAA;MACA;;MAEA;MACA3H;MACAA;MACAA;MACAA;MACAA;;MAEA;QACAA;QACA;MACA;;MAEA;MACA;MACAgH;QACA;QACA;QACA;QAEA;UACAY;QACA;QACA;UACAA;QACA;QACA;UACAA;QACA;QAEAA;MACA;;MAEA;MACA;MACA;MAEAb;QACA;UACAc;;UAEA;UACA7H;UACAA;UACAA;;UAEA;UACA;YACA;YACA;YACA;UACA;UAEAsD;YACA;;YAEA;YACA;YAEAmD;cACA;cACA;;cAEA;cACAqB;gBACA;kBACA;kBACA9H,WACA+H,aACAC,gBACAC,iBACA;gBACA;kBACA;kBACAjI,WACA,IACAgI,gBACAC,iBACA;gBACA;kBACA;kBACAjI,WACA,IACA,IACAiI,iBACA;gBACA;cACA;YACA;UACA;QACA;MACA;MAEA;QACAjI;MACA;MAEA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACx7CA;AAAA;AAAA;AAAA;AAAurC,CAAgB,4nCAAG,EAAC,C;;;;;;;;;;;ACA3sC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/admin/dashboard/dashboard.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/vue-cli-plugin-uni/packages/uni-cloud/dist/index.js';\nimport Vue from 'vue'\nimport Page from './pages/admin/dashboard/dashboard.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./dashboard.vue?vue&type=template&id=0f895370&scoped=true&\"\nvar renderjs\nimport script from \"./dashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./dashboard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./dashboard.vue?vue&type=style&index=0&id=0f895370&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f895370\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/admin/dashboard/dashboard.vue\"\nexport default component.exports","export * from \"-!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./dashboard.vue?vue&type=template&id=0f895370&scoped=true&\"","var components\ntry {\n  components = {\n    uniLoadMore: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-load-more/components/uni-load-more/uni-load-more\" */ \"@/uni_modules/uni-load-more/components/uni-load-more/uni-load-more.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l1 =\n    !!_vm.isAdmin && !_vm.loading && _vm.activeTab === \"profiles\"\n      ? _vm.__map(_vm.profiles, function (profile, index) {\n          var $orig = _vm.__get_orig(profile)\n          var m0 = _vm.formatDate(profile.birthDate)\n          var g0 = profile._id ? profile._id.substring(0, 12) : null\n          var g1 = profile.diagnosis && profile.diagnosis.length > 0\n          var l0 = g1\n            ? _vm.__map(profile.diagnosis, function (diag, idx) {\n                var $orig = _vm.__get_orig(diag)\n                var m1 = _vm.getDiagnosisLabel(diag)\n                return {\n                  $orig: $orig,\n                  m1: m1,\n                }\n              })\n            : null\n          var m2 =\n            profile.habits && profile.habits.walkTime\n              ? _vm.getWalkTimeLabel(profile.habits.walkTime)\n              : null\n          var m3 =\n            profile.habits && profile.habits.crawl\n              ? _vm.getCrawlLabel(\n                  profile.habits.crawl,\n                  profile.habits.crawlMonths\n                )\n              : null\n          var m4 =\n            profile.vision && profile.vision.status\n              ? _vm.getVisionStatusLabel(profile.vision.status)\n              : null\n          var g2 = profile.vision\n            ? profile.vision.sub && profile.vision.sub.length > 0\n            : null\n          var g3 =\n            profile.vision && g2\n              ? profile.vision.sub\n                  .map(function (s) {\n                    return _vm.getVisionSubLabel(s)\n                  })\n                  .join(\"、\")\n              : null\n          var m5 = profile.epilepsy\n            ? _vm.getEpilepsyLabel(profile.epilepsy)\n            : null\n          var m6 = profile.caregiver\n            ? _vm.getCaregiverLabel(profile.caregiver)\n            : null\n          var m7 = _vm.formatTime(profile.createdAt)\n          var m8 =\n            profile.updatedAt && profile.updatedAt !== profile.createdAt\n              ? _vm.formatTime(profile.updatedAt)\n              : null\n          var g4 = profile.ownerUid ? profile.ownerUid.substring(0, 12) : null\n          return {\n            $orig: $orig,\n            m0: m0,\n            g0: g0,\n            g1: g1,\n            l0: l0,\n            m2: m2,\n            m3: m3,\n            m4: m4,\n            g2: g2,\n            g3: g3,\n            m5: m5,\n            m6: m6,\n            m7: m7,\n            m8: m8,\n            g4: g4,\n          }\n        })\n      : null\n  var g5 =\n    !!_vm.isAdmin && !_vm.loading && _vm.activeTab === \"profiles\"\n      ? _vm.profiles.length\n      : null\n  var l12 =\n    !!_vm.isAdmin && !_vm.loading && _vm.activeTab === \"assessments\"\n      ? _vm.__map(_vm.assessments, function (assessment, index) {\n          var $orig = _vm.__get_orig(assessment)\n          var m9 = _vm.formatTime(assessment.createdAt)\n          var m10 =\n            assessment.stats && assessment.stats.overall\n              ? _vm.formatRatio(assessment.stats.overall.ratio)\n              : null\n          var l2 =\n            _vm.assessmentViewMode === \"table\" &&\n            assessment.stats &&\n            assessment.stats.subdomains\n              ? _vm.getTableDomains(assessment.stats.subdomains)\n              : null\n          var l3 =\n            _vm.assessmentViewMode === \"table\" &&\n            assessment.stats &&\n            assessment.stats.subdomains\n              ? _vm.__map(\n                  _vm.getAllSubdomainsOrdered(assessment.stats.subdomains),\n                  function (subdomain, subIndex) {\n                    var $orig = _vm.__get_orig(subdomain)\n                    var m11 = _vm.isFirstSubdomainInDomain(\n                      assessment.stats.subdomains,\n                      subIndex\n                    )\n                    var m12 = _vm.getSubdomainShortLabel(subdomain.subdomain)\n                    return {\n                      $orig: $orig,\n                      m11: m11,\n                      m12: m12,\n                    }\n                  }\n                )\n              : null\n          var l5 =\n            _vm.assessmentViewMode === \"table\" &&\n            assessment.stats &&\n            assessment.stats.subdomains\n              ? _vm.__map(_vm.getAllAgeBands(), function (ageBand, __i1__) {\n                  var $orig = _vm.__get_orig(ageBand)\n                  var m13 = _vm.getAgeBandLabel(ageBand)\n                  var l4 = _vm.__map(\n                    _vm.getAllSubdomainsOrdered(assessment.stats.subdomains),\n                    function (subdomain, subIndex) {\n                      var $orig = _vm.__get_orig(subdomain)\n                      var m14 = _vm.isFirstSubdomainInDomain(\n                        assessment.stats.subdomains,\n                        subIndex\n                      )\n                      var m15 = _vm.getAgeBandSubdomainValue(\n                        assessment.ageBandSubdomainStats,\n                        ageBand,\n                        subdomain.subdomain\n                      )\n                      return {\n                        $orig: $orig,\n                        m14: m14,\n                        m15: m15,\n                      }\n                    }\n                  )\n                  return {\n                    $orig: $orig,\n                    m13: m13,\n                    l4: l4,\n                  }\n                })\n              : null\n          var g6 =\n            _vm.assessmentViewMode === \"table\" &&\n            assessment.stats &&\n            assessment.stats.subdomains\n              ? assessment.notAchieved && assessment.notAchieved.length > 0\n              : null\n          var m16 =\n            _vm.assessmentViewMode === \"table\" &&\n            assessment.stats &&\n            assessment.stats.subdomains &&\n            g6\n              ? _vm.isNotAchievedExpanded(assessment._id || index)\n              : null\n          var g7 =\n            _vm.assessmentViewMode === \"table\" &&\n            assessment.stats &&\n            assessment.stats.subdomains &&\n            g6\n              ? assessment.notAchieved.length\n              : null\n          var m17 =\n            _vm.assessmentViewMode === \"table\" &&\n            assessment.stats &&\n            assessment.stats.subdomains &&\n            g6\n              ? _vm.isNotAchievedExpanded(assessment._id || index)\n              : null\n          var l6 =\n            _vm.assessmentViewMode === \"table\" &&\n            assessment.stats &&\n            assessment.stats.subdomains &&\n            g6\n              ? _vm.__map(\n                  _vm.getNotAchievedByDomain(assessment.notAchieved),\n                  function (count, domain) {\n                    var $orig = _vm.__get_orig(count)\n                    var m18 = _vm.getDomainLabel(domain)\n                    return {\n                      $orig: $orig,\n                      m18: m18,\n                    }\n                  }\n                )\n              : null\n          var l7 =\n            _vm.assessmentViewMode === \"table\" &&\n            assessment.stats &&\n            assessment.stats.subdomains &&\n            g6\n              ? _vm.__map(\n                  _vm.getNotAchievedByAgeBand(assessment.notAchieved),\n                  function (count, ageBand) {\n                    var $orig = _vm.__get_orig(count)\n                    var m19 = _vm.getAgeBandLabel(ageBand)\n                    return {\n                      $orig: $orig,\n                      m19: m19,\n                    }\n                  }\n                )\n              : null\n          var m20 =\n            _vm.assessmentViewMode === \"table\" &&\n            assessment.stats &&\n            assessment.stats.subdomains &&\n            g6\n              ? _vm.isNotAchievedExpanded(assessment._id || index)\n              : null\n          var m21 =\n            _vm.assessmentViewMode === \"table\" &&\n            assessment.stats &&\n            assessment.stats.subdomains &&\n            g6 &&\n            m20\n              ? _vm.getNotAchievedFilter(assessment._id || index, \"domain\")\n              : null\n          var l8 =\n            _vm.assessmentViewMode === \"table\" &&\n            assessment.stats &&\n            assessment.stats.subdomains &&\n            g6 &&\n            m20\n              ? _vm.__map(\n                  Object.keys(\n                    _vm.getNotAchievedByDomain(assessment.notAchieved)\n                  ),\n                  function (domain, __i2__) {\n                    var $orig = _vm.__get_orig(domain)\n                    var m22 = _vm.getNotAchievedFilter(\n                      assessment._id || index,\n                      \"domain\"\n                    )\n                    var m23 = _vm.getDomainLabel(domain)\n                    return {\n                      $orig: $orig,\n                      m22: m22,\n                      m23: m23,\n                    }\n                  }\n                )\n              : null\n          var l9 =\n            _vm.assessmentViewMode === \"table\" &&\n            assessment.stats &&\n            assessment.stats.subdomains &&\n            g6 &&\n            m20\n              ? _vm.__map(\n                  _vm.getFilteredNotAchieved(\n                    assessment._id || index,\n                    assessment.notAchieved\n                  ),\n                  function (item, itemIndex) {\n                    var $orig = _vm.__get_orig(item)\n                    var m24 = _vm.getAgeBandLabel(item.ageBand)\n                    var m25 = _vm.getDomainLabel(item.domain)\n                    var m26 = _vm.getSubdomainLabel(item.subdomain)\n                    return {\n                      $orig: $orig,\n                      m24: m24,\n                      m25: m25,\n                      m26: m26,\n                    }\n                  }\n                )\n              : null\n          var g8 =\n            _vm.assessmentViewMode === \"table\" &&\n            assessment.stats &&\n            assessment.stats.subdomains &&\n            g6 &&\n            m20\n              ? _vm.getFilteredNotAchieved(\n                  assessment._id || index,\n                  assessment.notAchieved\n                ).length\n              : null\n          var l11 =\n            _vm.assessmentViewMode === \"chart\" &&\n            assessment.stats &&\n            assessment.stats.domains\n              ? _vm.__map(\n                  assessment.stats.domains,\n                  function (domainStats, domain) {\n                    var $orig = _vm.__get_orig(domainStats)\n                    var m27 = _vm.isDomainExpanded(\n                      assessment._id || index,\n                      domain\n                    )\n                    var m28 = _vm.isDomainExpanded(\n                      assessment._id || index,\n                      domain\n                    )\n                    var m29 = _vm.getDomainLabel(domain)\n                    var m30 = _vm.formatRatio(domainStats.ratio)\n                    var m31 = _vm.getRatioPercent(domainStats.ratio)\n                    var m32 =\n                      _vm.isDomainExpanded(assessment._id || index, domain) &&\n                      assessment.stats.subdomains\n                    var l10 = m32\n                      ? _vm.__map(\n                          _vm.getSubdomainsByDomain(\n                            assessment.stats.subdomains,\n                            domain\n                          ),\n                          function (subdomainStats, subdomainKey) {\n                            var $orig = _vm.__get_orig(subdomainStats)\n                            var m33 = _vm.getRatioPercent(subdomainStats.ratio)\n                            var m34 = _vm.getSubdomainLabel(\n                              subdomainStats.subdomain\n                            )\n                            var m35 = _vm.formatRatio(subdomainStats.ratio)\n                            return {\n                              $orig: $orig,\n                              m33: m33,\n                              m34: m34,\n                              m35: m35,\n                            }\n                          }\n                        )\n                      : null\n                    return {\n                      $orig: $orig,\n                      m27: m27,\n                      m28: m28,\n                      m29: m29,\n                      m30: m30,\n                      m31: m31,\n                      m32: m32,\n                      l10: l10,\n                    }\n                  }\n                )\n              : null\n          return {\n            $orig: $orig,\n            m9: m9,\n            m10: m10,\n            l2: l2,\n            l3: l3,\n            l5: l5,\n            g6: g6,\n            m16: m16,\n            g7: g7,\n            m17: m17,\n            l6: l6,\n            l7: l7,\n            m20: m20,\n            m21: m21,\n            l8: l8,\n            l9: l9,\n            g8: g8,\n            l11: l11,\n          }\n        })\n      : null\n  var g9 =\n    !!_vm.isAdmin && !_vm.loading && _vm.activeTab === \"assessments\"\n      ? _vm.assessments.length\n      : null\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.activeTab = \"profiles\"\n    }\n    _vm.e1 = function ($event) {\n      _vm.activeTab = \"assessments\"\n    }\n    _vm.e2 = function ($event) {\n      _vm.assessmentViewMode = \"chart\"\n    }\n    _vm.e3 = function ($event) {\n      _vm.assessmentViewMode = \"table\"\n    }\n    _vm.e4 = function ($event, assessment, index, domain) {\n      var _temp = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp2 = _temp.eventParams || _temp[\"event-params\"],\n        assessment = _temp2.assessment,\n        index = _temp2.index,\n        domain = _temp2.domain\n      var _temp, _temp2\n      return _vm.setNotAchievedFilter(assessment._id || index, \"domain\", domain)\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l1: l1,\n        g5: g5,\n        l12: l12,\n        g9: g9,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./dashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./dashboard.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"admin-dashboard\">\n\t\t<!-- 权限检查 -->\n\t\t<view v-if=\"!isAdmin\" class=\"no-permission\">\n\t\t\t<view class=\"permission-card\">\n\t\t\t\t<text class=\"permission-title\">权限不足</text>\n\t\t\t\t<text class=\"permission-desc\">您没有管理员权限，无法访问此页面</text>\n\t\t\t\t<button class=\"permission-btn\" @click=\"goBack\">返回</button>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- 管理员面板 -->\n\t\t<view v-else class=\"dashboard-content\">\n\t\t\t<!-- 顶部标题栏 -->\n\t\t\t<view class=\"dashboard-header\">\n\t\t\t\t<text class=\"dashboard-title\">管理员面板</text>\n\t\t\t\t<view class=\"header-actions\">\n\t\t\t\t\t<text class=\"action-btn\" @click=\"goToInitQuestions\">初始化题目</text>\n\t\t\t\t\t<text class=\"action-btn\" @click=\"logout\">退出登录</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 顶部统计卡片 -->\n\t\t\t<view class=\"stats-cards\">\n\t\t\t\t<view class=\"stat-card\">\n\t\t\t\t\t<text class=\"stat-value\">{{ profilesCount }}</text>\n\t\t\t\t\t<text class=\"stat-label\">儿童档案</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"stat-card\">\n\t\t\t\t\t<text class=\"stat-value\">{{ assessmentsCount }}</text>\n\t\t\t\t\t<text class=\"stat-label\">评估记录</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\n\t\t\t<!-- 数据加载状态 -->\n\t\t\t<view v-if=\"loading\" class=\"loading-container\">\n\t\t\t\t<uni-load-more status=\"loading\" :content-text=\"loadingText\"></uni-load-more>\n\t\t\t</view>\n\n\t\t\t<!-- 标签页 -->\n\t\t\t<view v-else class=\"tabs-container\">\n\t\t\t\t<view class=\"tabs\">\n\t\t\t\t\t<view \n\t\t\t\t\t\tclass=\"tab-item\" \n\t\t\t\t\t\t:class=\"{ active: activeTab === 'profiles' }\"\n\t\t\t\t\t\t@click=\"activeTab = 'profiles'\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<text>儿童档案</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view \n\t\t\t\t\t\tclass=\"tab-item\" \n\t\t\t\t\t\t:class=\"{ active: activeTab === 'assessments' }\"\n\t\t\t\t\t\t@click=\"activeTab = 'assessments'\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<text>评估记录</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\n\t\t\t\t<!-- 儿童档案列表 -->\n\t\t\t\t<view v-if=\"activeTab === 'profiles'\" class=\"tab-content\">\n\t\t\t\t\t<view class=\"list-header\">\n\t\t\t\t\t\t<text class=\"header-title\">儿童档案列表 ({{ profilesCount }})</text>\n\t\t\t\t\t\t<text class=\"refresh-btn\" @click=\"loadData\">刷新</text>\n\t\t\t\t\t</view>\n\t\t\t\t<view class=\"profile-list\">\n\t\t\t\t\t<view \n\t\t\t\t\t\tv-for=\"(profile, index) in profiles\" \n\t\t\t\t\t\t:key=\"profile._id ? profile._id : 'profile_' + index\"\n\t\t\t\t\t\tclass=\"profile-item\"\n\t\t\t\t\t>\n\t\t\t\t\t\t\t<!-- 基本信息卡片 -->\n\t\t\t\t\t\t\t<view class=\"profile-section\">\n\t\t\t\t\t\t\t\t<view class=\"section-header\">\n\t\t\t\t\t\t\t\t\t<text class=\"section-title\">基本信息</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view class=\"profile-basic-info\">\n\t\t\t\t\t\t\t\t\t<view class=\"info-row\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-label\">姓名：</text>\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-value\">{{ profile.name || '-' }}</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t<view class=\"info-row\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-label\">性别：</text>\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-value\">{{ profile.gender === 'male' ? '男' : (profile.gender === 'female' ? '女' : '-') }}</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t<view class=\"info-row\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-label\">出生日期：</text>\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-value\">{{ formatDate(profile.birthDate) }}</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t<view class=\"info-row\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-label\">档案ID：</text>\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-value info-id\">{{ profile._id ? profile._id.substring(0, 12) + '...' : '-' }}</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t<!-- 医疗诊断 -->\n\t\t\t\t\t\t\t<view v-if=\"profile.diagnosis && profile.diagnosis.length > 0\" class=\"profile-section\">\n\t\t\t\t\t\t\t\t<view class=\"section-header\">\n\t\t\t\t\t\t\t\t\t<text class=\"section-title\">医疗诊断</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view class=\"diagnosis-tags\">\n\t\t\t\t\t\t\t\t\t<text \n\t\t\t\t\t\t\t\t\t\tv-for=\"(diag, idx) in profile.diagnosis\" \n\t\t\t\t\t\t\t\t\t\t:key=\"idx\"\n\t\t\t\t\t\t\t\t\t\tclass=\"diagnosis-tag\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{{ getDiagnosisLabel(diag) }}\n\t\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t<!-- 行为习惯 -->\n\t\t\t\t\t\t\t<view v-if=\"profile.habits\" class=\"profile-section\">\n\t\t\t\t\t\t\t\t<view class=\"section-header\">\n\t\t\t\t\t\t\t\t\t<text class=\"section-title\">行为习惯</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view class=\"profile-detail-info\">\n\t\t\t\t\t\t\t\t\t<view v-if=\"profile.habits.walkTime\" class=\"info-row\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-label\">行走时间：</text>\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-value\">{{ getWalkTimeLabel(profile.habits.walkTime) }}</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t<view v-if=\"profile.habits.crawl\" class=\"info-row\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-label\">爬行情况：</text>\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-value\">{{ getCrawlLabel(profile.habits.crawl, profile.habits.crawlMonths) }}</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t<view v-if=\"profile.habits.kneel !== undefined && profile.habits.kneel !== null\" class=\"info-row\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-label\">跪走：</text>\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-value\">{{ profile.habits.kneel ? '会' : '不会' }}</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t<view v-if=\"profile.habits.hand\" class=\"info-row\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-label\">惯用手：</text>\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-value\">{{ profile.habits.hand === 'left' ? '左手' : (profile.habits.hand === 'right' ? '右手' : '-') }}</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t<!-- 视觉障碍 -->\n\t\t\t\t\t\t\t<view v-if=\"profile.vision\" class=\"profile-section\">\n\t\t\t\t\t\t\t\t<view class=\"section-header\">\n\t\t\t\t\t\t\t\t\t<text class=\"section-title\">视觉障碍</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view class=\"profile-detail-info\">\n\t\t\t\t\t\t\t\t\t<view v-if=\"profile.vision.status\" class=\"info-row\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-label\">视觉状态：</text>\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-value\">{{ getVisionStatusLabel(profile.vision.status) }}</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t<view v-if=\"profile.vision.sub && profile.vision.sub.length > 0\" class=\"info-row\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-label\">视觉子项：</text>\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-value\">{{ profile.vision.sub.map(s => getVisionSubLabel(s)).join('、') }}</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t<!-- 听觉障碍 -->\n\t\t\t\t\t\t\t<view v-if=\"profile.hearing\" class=\"profile-section\">\n\t\t\t\t\t\t\t\t<view class=\"section-header\">\n\t\t\t\t\t\t\t\t\t<text class=\"section-title\">听觉障碍</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view class=\"profile-detail-info\">\n\t\t\t\t\t\t\t\t\t<view v-if=\"profile.hearing.status\" class=\"info-row\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-label\">听觉状态：</text>\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-value\">{{ profile.hearing.status === 'normal' ? '正常' : '听障' }}</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t<view v-if=\"profile.hearing.status === 'impaired' && (profile.hearing.dbLeft || profile.hearing.dbRight)\" class=\"info-row\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-label\">听力分贝：</text>\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-value\">\n\t\t\t\t\t\t\t\t\t\t\t左耳：{{ profile.hearing.dbLeft || '-' }}dB / \n\t\t\t\t\t\t\t\t\t\t\t右耳：{{ profile.hearing.dbRight || '-' }}dB\n\t\t\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t<!-- 癫痫症 -->\n\t\t\t\t\t\t\t<view v-if=\"profile.epilepsy\" class=\"profile-section\">\n\t\t\t\t\t\t\t\t<view class=\"section-header\">\n\t\t\t\t\t\t\t\t\t<text class=\"section-title\">癫痫症</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view class=\"profile-detail-info\">\n\t\t\t\t\t\t\t\t\t<view class=\"info-row\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-label\">状态：</text>\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-value\">{{ getEpilepsyLabel(profile.epilepsy) }}</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t<!-- 联系信息 -->\n\t\t\t\t\t\t\t<view class=\"profile-section\">\n\t\t\t\t\t\t\t\t<view class=\"section-header\">\n\t\t\t\t\t\t\t\t\t<text class=\"section-title\">联系信息</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view class=\"profile-detail-info\">\n\t\t\t\t\t\t\t\t\t<view v-if=\"profile.caregiver\" class=\"info-row\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-label\">主要照顾者：</text>\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-value\">{{ getCaregiverLabel(profile.caregiver) }}</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t<view v-if=\"profile.phone\" class=\"info-row\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-label\">联系电话：</text>\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-value info-phone\">{{ profile.phone }}</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t<view v-if=\"profile.homeGuide !== undefined && profile.homeGuide !== null\" class=\"info-row\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-label\">居家辅导需求：</text>\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-value\">{{ profile.homeGuide ? '是' : '否' }}</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t<!-- 备注信息 -->\n\t\t\t\t\t\t\t<view v-if=\"profile.notes\" class=\"profile-section\">\n\t\t\t\t\t\t\t\t<view class=\"section-header\">\n\t\t\t\t\t\t\t\t\t<text class=\"section-title\">备注信息</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view class=\"profile-notes\">\n\t\t\t\t\t\t\t\t\t<text class=\"notes-text\">{{ profile.notes }}</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t<!-- 时间信息 -->\n\t\t\t\t\t\t\t<view class=\"profile-section profile-meta\">\n\t\t\t\t\t\t\t\t<view class=\"info-row\">\n\t\t\t\t\t\t\t\t\t<text class=\"info-label\">创建时间：</text>\n\t\t\t\t\t\t\t\t\t<text class=\"info-value\">{{ formatTime(profile.createdAt) }}</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view v-if=\"profile.updatedAt && profile.updatedAt !== profile.createdAt\" class=\"info-row\">\n\t\t\t\t\t\t\t\t\t<text class=\"info-label\">更新时间：</text>\n\t\t\t\t\t\t\t\t\t<text class=\"info-value\">{{ formatTime(profile.updatedAt) }}</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view v-if=\"profile.ownerUid\" class=\"info-row\">\n\t\t\t\t\t\t\t\t\t<text class=\"info-label\">家长UID：</text>\n\t\t\t\t\t\t\t\t\t<text class=\"info-value info-id\">{{ profile.ownerUid.substring(0, 12) }}...</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view v-if=\"profiles.length === 0\" class=\"empty-state\">\n\t\t\t\t\t\t\t<text>暂无儿童档案</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\n\t\t\t\t<!-- 评估记录列表 -->\n\t\t\t\t<view v-if=\"activeTab === 'assessments'\" class=\"tab-content\">\n\t\t\t\t\t<view class=\"list-header\">\n\t\t\t\t\t\t<text class=\"header-title\">评估记录列表 ({{ assessmentsCount }})</text>\n\t\t\t\t\t\t<view class=\"header-actions\">\n\t\t\t\t\t\t\t<text class=\"view-toggle-btn\" :class=\"{ active: assessmentViewMode === 'chart' }\" @click=\"assessmentViewMode = 'chart'\">图表</text>\n\t\t\t\t\t\t\t<text class=\"view-toggle-btn\" :class=\"{ active: assessmentViewMode === 'table' }\" @click=\"assessmentViewMode = 'table'\">表格</text>\n\t\t\t\t\t\t\t<text class=\"refresh-btn\" @click=\"loadData\">刷新</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t<view class=\"assessment-list\">\n\t\t\t\t\t<view \n\t\t\t\t\t\tv-for=\"(assessment, index) in assessments\" \n\t\t\t\t\t\t:key=\"assessment._id ? assessment._id : 'assessment_' + index\"\n\t\t\t\t\t\tclass=\"assessment-item\"\n\t\t\t\t\t>\n\t\t\t\t\t\t\t<!-- 评估基本信息 -->\n\t\t\t\t\t\t\t<view class=\"assessment-header\">\n\t\t\t\t\t\t\t\t<text class=\"assessment-child-name\">{{ assessment.childName || '未知儿童' }}</text>\n\t\t\t\t\t\t\t\t<text class=\"assessment-time\">{{ formatTime(assessment.createdAt) }}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view v-if=\"assessment.stats && assessment.stats.overall\" class=\"assessment-stats\">\n\t\t\t\t\t\t\t\t<text class=\"stats-text\">\n\t\t\t\t\t\t\t\t\t总体完成率: {{ formatRatio(assessment.stats.overall.ratio) }}% \n\t\t\t\t\t\t\t\t\t({{ assessment.stats.overall.passed }}/{{ assessment.stats.overall.total }})\n\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t<!-- 表格视图 -->\n\t\t\t\t\t\t\t<view v-if=\"assessmentViewMode === 'table' && assessment.stats && assessment.stats.subdomains\" class=\"assessment-table-view\">\n\t\t\t\t\t\t\t\t<view class=\"table-container\">\n\t\t\t\t\t\t\t\t\t<view class=\"table-title-row\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"table-title\">综合能力检测分析图（细项分析）</text>\n\t\t\t\t\t\t\t\t\t\t<button class=\"export-excel-btn\" @click=\"exportAssessmentToExcel(assessment)\">\n\t\t\t\t\t\t\t\t\t\t\t导出Excel\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t<scroll-view scroll-x=\"true\" class=\"table-scroll\">\n\t\t\t\t\t\t\t\t\t\t<view class=\"simple-table\">\n\t\t\t\t\t\t\t\t\t\t\t<!-- 表头容器（包含两行） -->\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"table-header-wrapper\">\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- 跨行的发育时间单元格 -->\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"time-cell-rowspan\">发育时间</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"header-content\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- 表头第一行：大领域 -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"table-row header-row-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"domain in getTableDomains(assessment.stats.subdomains)\" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"domain.key\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"table-cell header-cell domain-header-cell\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:style=\"{ width: (domain.colspan * 120) + 'rpx', minWidth: (domain.colspan * 120) + 'rpx', maxWidth: (domain.colspan * 120) + 'rpx' }\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ domain.label }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- 表头第二行：子领域 -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"table-row header-row-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"(subdomain, subIndex) in getAllSubdomainsOrdered(assessment.stats.subdomains)\" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"subdomain.key\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"table-cell header-cell subdomain-cell\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"{ 'domain-first-subdomain': isFirstSubdomainInDomain(assessment.stats.subdomains, subIndex) }\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"width: 120rpx; min-width: 120rpx; max-width: 120rpx;\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ getSubdomainShortLabel(subdomain.subdomain) }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t<!-- 数据行 -->\n\t\t\t\t\t\t\t\t\t\t\t<view \n\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"ageBand in getAllAgeBands()\" \n\t\t\t\t\t\t\t\t\t\t\t\t:key=\"ageBand\"\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"table-row data-row\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"table-cell data-cell fixed-cell\" style=\"width: 120rpx; min-width: 120rpx; max-width: 120rpx;\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ getAgeBandLabel(ageBand) }}\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t<view \n\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"(subdomain, subIndex) in getAllSubdomainsOrdered(assessment.stats.subdomains)\" \n\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"subdomain.key\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"table-cell data-cell\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"{ 'domain-first-subdomain': isFirstSubdomainInDomain(assessment.stats.subdomains, subIndex) }\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"width: 120rpx; min-width: 120rpx; max-width: 120rpx;\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ getAgeBandSubdomainValue(assessment.ageBandSubdomainStats, ageBand, subdomain.subdomain) }}\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t</scroll-view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<!-- 未完成题目列表 -->\n\t\t\t\t\t\t\t\t<view v-if=\"assessment.notAchieved && assessment.notAchieved.length > 0\" class=\"not-achieved-section\">\n\t\t\t\t\t\t\t\t\t<!-- 标题栏（可点击折叠/展开） -->\n\t\t\t\t\t\t\t\t\t<view \n\t\t\t\t\t\t\t\t\t\tclass=\"section-title-bar\" \n\t\t\t\t\t\t\t\t\t\t@click=\"toggleNotAchieved(assessment._id || index)\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<view class=\"section-title\">\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"title-icon\">{{ isNotAchievedExpanded(assessment._id || index) ? '▼' : '▶' }}</text>\n\t\t\t\t\t\t\t\t\t\t\t<text>未完成题目 ({{ assessment.notAchieved.length }}题)</text>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t<view class=\"section-summary\">\n\t\t\t\t\t\t\t\t\t\t\t点击{{ isNotAchievedExpanded(assessment._id || index) ? '收起' : '展开' }}查看详情\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<!-- 统计摘要（始终显示） -->\n\t\t\t\t\t\t\t\t\t<view class=\"not-achieved-summary\">\n\t\t\t\t\t\t\t\t\t\t<view class=\"summary-item\">\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"summary-label\">按领域统计：</text>\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"summary-tags\">\n\t\t\t\t\t\t\t\t\t\t\t\t<view \n\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"(count, domain) in getNotAchievedByDomain(assessment.notAchieved)\" \n\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"domain\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"summary-tag\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ getDomainLabel(domain) }}: {{ count }}题\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t<view class=\"summary-item\">\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"summary-label\">按年龄段统计：</text>\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"summary-tags\">\n\t\t\t\t\t\t\t\t\t\t\t\t<view \n\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"(count, ageBand) in getNotAchievedByAgeBand(assessment.notAchieved)\" \n\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"ageBand\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"summary-tag\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ getAgeBandLabel(ageBand) }}: {{ count }}题\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<!-- 详细列表（折叠/展开） -->\n\t\t\t\t\t\t\t\t\t<view v-if=\"isNotAchievedExpanded(assessment._id || index)\" class=\"not-achieved-detail\">\n\t\t\t\t\t\t\t\t\t\t<!-- 筛选器 -->\n\t\t\t\t\t\t\t\t\t\t<view class=\"filter-bar\">\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"filter-item\">\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"filter-label\">领域：</text>\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"filter-options\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"filter-option\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"{ active: getNotAchievedFilter(assessment._id || index, 'domain') === 'all' }\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"setNotAchievedFilter(assessment._id || index, 'domain', 'all')\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t全部\n\t\t\t\t\t\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"domain in Object.keys(getNotAchievedByDomain(assessment.notAchieved))\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"domain\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"filter-option\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"{ active: getNotAchievedFilter(assessment._id || index, 'domain') === domain }\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"setNotAchievedFilter(assessment._id || index, 'domain', domain)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ getDomainLabel(domain) }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<!-- 题目列表 -->\n\t\t\t\t\t\t\t\t\t\t<view class=\"not-achieved-list\">\n\t\t\t\t\t\t\t\t\t\t\t<view \n\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"(item, itemIndex) in getFilteredNotAchieved(assessment._id || index, assessment.notAchieved)\" \n\t\t\t\t\t\t\t\t\t\t\t\t:key=\"itemIndex\"\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"not-achieved-item\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"item-header\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"item-badge age-badge\">{{ getAgeBandLabel(item.ageBand) }}</text>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"item-badge domain-badge\">{{ getDomainLabel(item.domain) }}</text>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"item-badge subdomain-badge\">{{ getSubdomainLabel(item.subdomain) }}</text>\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"item-content\">{{ item.title }}</text>\n\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t<!-- 显示数量提示 -->\n\t\t\t\t\t\t\t\t\t\t\t<view v-if=\"getFilteredNotAchieved(assessment._id || index, assessment.notAchieved).length === 0\" class=\"empty-filter\">\n\t\t\t\t\t\t\t\t\t\t\t\t<text>该筛选条件下没有未完成题目</text>\n\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t<!-- 领域统计柱状图（可点击展开子领域） -->\n\t\t\t\t\t\t\t<view v-if=\"assessmentViewMode === 'chart' && assessment.stats && assessment.stats.domains\" class=\"assessment-charts\">\n\t\t\t\t\t\t\t\t<view class=\"chart-section\">\n\t\t\t\t\t\t\t\t\t<view class=\"chart-title\">领域统计（点击展开子领域）</view>\n\t\t\t\t\t\t\t\t\t<view class=\"chart-container\">\n\t\t\t\t\t\t\t\t\t\t<view \n\t\t\t\t\t\t\t\t\t\t\tv-for=\"(domainStats, domain) in assessment.stats.domains\" \n\t\t\t\t\t\t\t\t\t\t\t:key=\"domain\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"chart-item chart-item-domain\"\n\t\t\t\t\t\t\t\t\t\t\t:class=\"{ 'chart-item-expanded': isDomainExpanded(assessment._id || index, domain) }\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<view \n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"chart-label-row chart-label-row-clickable\" \n\t\t\t\t\t\t\t\t\t\t\t\t@click.stop=\"toggleDomain(assessment._id || index, domain)\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"chart-label-with-icon\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"chart-expand-icon\" :class=\"{ 'chart-expand-icon-expanded': isDomainExpanded(assessment._id || index, domain) }\">▶</text>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"chart-label\">{{ getDomainLabel(domain) }}</text>\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"chart-value\">{{ formatRatio(domainStats.ratio) }}%</text>\n\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t<view class=\"chart-bar-container\">\n\t\t\t\t\t\t\t\t\t\t\t<view \n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"chart-bar\" \n\t\t\t\t\t\t\t\t\t\t\t\t:class=\"[domainStats.ratio >= 0.8 ? 'bar-excellent' : domainStats.ratio >= 0.6 ? 'bar-good' : domainStats.ratio >= 0.4 ? 'bar-fair' : 'bar-poor']\"\n\t\t\t\t\t\t\t\t\t\t\t\t:style=\"{ width: getRatioPercent(domainStats.ratio) + '%' }\"\n\t\t\t\t\t\t\t\t\t\t\t></view>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"chart-detail\">\n\t\t\t\t\t\t\t\t\t\t\t\t<text>{{ domainStats.passed }}/{{ domainStats.total }}</text>\n\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t<!-- 子领域展开区域 - 垂直柱状图 -->\n\t\t\t\t\t\t\t\t\t\t\t<view \n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"isDomainExpanded(assessment._id || index, domain) && assessment.stats.subdomains\" \n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"subdomain-expanded\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"subdomain-chart-container\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"subdomain-chart-bars\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"(subdomainStats, subdomainKey) in getSubdomainsByDomain(assessment.stats.subdomains, domain)\" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"subdomainKey\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"subdomain-chart-bar\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"subdomain-bar-container\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"subdomain-bar-fill\" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"[subdomainStats.ratio >= 0.8 ? 'bar-excellent' : subdomainStats.ratio >= 0.6 ? 'bar-good' : subdomainStats.ratio >= 0.4 ? 'bar-fair' : 'bar-poor']\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:style=\"{ height: getRatioPercent(subdomainStats.ratio) + '%' }\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t></view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"subdomain-bar-label\">{{ getSubdomainLabel(subdomainStats.subdomain) }}</text>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"subdomain-bar-value\">{{ formatRatio(subdomainStats.ratio) }}%</text>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"subdomain-bar-count\">{{ subdomainStats.passed }}/{{ subdomainStats.total }}</text>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view v-if=\"assessments.length === 0\" class=\"empty-state\">\n\t\t\t\t\t\t\t<text>暂无评估记录</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n// 标签映射函数\nconst getDiagnosisLabel = (diag) => {\n\tconst map = {\n\t\t'cerebralPalsy': '脑瘫',\n\t\t'devDelay': '发育迟缓',\n\t\t'autism': '孤独症',\n\t\t'rare': '罕见疾病'\n\t};\n\treturn map[diag] || diag;\n};\n\nconst getAgeBandLabel = (ageBand) => {\n\tconst map = {\n\t\t'1_3m': '1-3个月',\n\t\t'3_6m': '3-6个月',\n\t\t'6_9m': '6-9个月',\n\t\t'9_12m': '9-12个月',\n\t\t'12_18m': '12-18个月',\n\t\t'18_24m': '18-24个月',\n\t\t'24_30m': '24-30个月',\n\t\t'30_36m': '30-36个月',\n\t\t'36_48m': '36-48个月',\n\t\t'48_60m': '48-60个月',\n\t\t'60_72m': '60-72个月'\n\t};\n\treturn map[ageBand] || ageBand;\n};\n\nconst getDomainLabel = (domain) => {\n\tconst map = {\n\t\t// 领域映射\n\t\t'gross': '粗大动作',\n\t\t'fine': '精细动作',\n\t\t'cog': '认知',\n\t\t'lang': '语言',\n\t\t'sens': '感知觉',\n\t\t'oral': '口腔动作',\n\t\t'social': '社会互动'\n\t};\n\treturn map[domain] || domain;\n};\n\n// 完整标签（用于详细显示）\nconst getSubdomainLabel = (subdomain) => {\n\tconst map = {\n\t\t'OSV': '视知觉',\n\t\t'OSH': '听知觉',\n\t\t'OST': '触知觉',\n\t\t'ISP': '本体运动知觉',\n\t\t'ISV': '前庭平衡知觉',\n\t\t'GM': '躯肢体粗大动作',\n\t\t'UEM': '双上肢粗大动作（视动协调）',\n\t\t'UES': '双上肢粗大动作（操作技能）',\n\t\t'FM': '精细动作',\n\t\t'OM': '口腔动作',\n\t\t'SIP': '社会互动（与人互动）',\n\t\t'SIE': '社会互动（与其他互动）',\n\t\t'SIS': '社会互动（情绪与自我）',\n\t\t'MAN': '认知（注意-非动作）',\n\t\t'MRN': '认知（记忆-非动作）',\n\t\t'MCN': '认知（概念-非动作）',\n\t\t'MIN': '认知（推理-非动作）',\n\t\t'MAY': '认知（注意-动作）',\n\t\t'MRY': '认知（记忆-动作）',\n\t\t'MCY': '认知（概念-动作）',\n\t\t'MIY': '认知（推理-动作）',\n\t\t'MLUY': '语言（口语理解）',\n\t\t'MLUN': '语言（非语言理解）',\n\t\t'MLEY': '语言（口语表达）',\n\t\t'MLEN': '语言（非语言表达）'\n\t};\n\treturn map[subdomain] || subdomain;\n};\n\n// 简化标签（用于表格显示）\nconst getSubdomainShortLabel = (subdomain) => {\n\tconst map = {\n\t\t'OSV': '视知觉',\n\t\t'OSH': '听知觉',\n\t\t'OST': '触知觉',\n\t\t'ISP': '本体运动知觉',\n\t\t'ISV': '前庭平衡知觉',\n\t\t'GM': '躯肢体粗大动作',\n\t\t'UEM': '双上肢粗大（视动）',\n\t\t'UES': '双上肢粗大（操作）',\n\t\t'FM': '精细动作',\n\t\t'OM': '口腔动作',\n\t\t'SIP': '与人互动',\n\t\t'SIE': '与其他互动',\n\t\t'SIS': '情绪自我',\n\t\t'MAN': '注意（非动作）',\n\t\t'MRN': '记忆（非动作）',\n\t\t'MCN': '概念（非动作）',\n\t\t'MIN': '推理（非动作）',\n\t\t'MAY': '注意（动作）',\n\t\t'MRY': '记忆（动作）',\n\t\t'MCY': '概念（动作）',\n\t\t'MIY': '推理（动作）',\n\t\t'MLUY': '口语理解',\n\t\t'MLUN': '非语言理解',\n\t\t'MLEY': '口语表达',\n\t\t'MLEN': '非语言表达'\n\t};\n\treturn map[subdomain] || subdomain;\n};\n\nexport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tisAdmin: false,\n\t\t\t\tloading: true,\n\t\t\t\tloadingText: {\n\t\t\t\t\tcontentdown: '加载中...',\n\t\t\t\t\tcontentrefresh: '加载中...',\n\t\t\t\t\tcontentnomore: '没有更多数据了'\n\t\t\t\t},\n\t\t\t\tactiveTab: 'profiles',\n\t\t\t\tprofiles: [],\n\t\t\tassessments: [],\n\t\t\tprofilesCount: 0,\n\t\t\tassessmentsCount: 0,\n\t\t\texpandedDomains: {}, // 存储展开的领域 { assessmentId_domain: true }\n\t\t\tassessmentViewMode: 'chart', // 'chart' | 'table' - 评估记录视图模式\n\t\t\texpandedNotAchieved: {}, // 记录哪些评估的未完成题目已展开\n\t\t\tnotAchievedFilters: {} // 记录每个评估的筛选条件\n\t\t}\n\t},\n\tonLoad() {\n\t\tthis.checkAdminPermission();\n\t},\n\tonPullDownRefresh() {\n\t\tthis.loadData().finally(() => {\n\t\t\tuni.stopPullDownRefresh();\n\t\t});\n\t},\n\tmethods: {\n\t\t// 检查管理员权限\n\t\tasync checkAdminPermission() {\n\t\t\ttry {\n\t\t\t\t// 获取当前用户信息\n\t\t\t\tconst userInfo = uniCloud.getCurrentUserInfo && uniCloud.getCurrentUserInfo();\n\t\t\t\tif (!userInfo || !userInfo.uid) {\n\t\t\t\t\tthis.isAdmin = false;\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// 检查角色（uni-id-pages 的方式）\n\t\t\t\tconst token = uni.getStorageSync('uni_id_token') || '';\n\t\t\t\tif (token) {\n\t\t\t\t\tconst tokenArr = token.split('.');\n\t\t\t\t\tif (tokenArr.length === 3) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst payload = JSON.parse(decodeURIComponent(escape(atob(tokenArr[1]))));\n\t\t\t\t\t\t\tconst role = payload.role || [];\n\t\t\t\t\t\t\t// 检查是否是管理员（role 是数组，包含 'admin'）\n\t\t\t\t\t\t\tthis.isAdmin = Array.isArray(role) ? role.includes('admin') : role === 'admin';\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tconsole.warn('解析 token 失败:', e);\n\t\t\t\t\t\t\tthis.isAdmin = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (this.isAdmin) {\n\t\t\t\t\tawait this.loadData();\n\t\t\t\t} else {\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('检查权限失败:', error);\n\t\t\t\tthis.isAdmin = false;\n\t\t\t\tthis.loading = false;\n\t\t\t}\n\t\t},\n\n\t\t// 加载数据\n\t\tasync loadData() {\n\t\t\tif (!this.isAdmin) return;\n\n\t\t\tthis.loading = true;\n\t\t\ttry {\n\t\t\t\t// 获取 token 并传递给云函数\n\t\t\t\tconst token = uni.getStorageSync('uni_id_token') || '';\n\t\t\t\tconsole.log('[dashboard] 调用云函数，token 存在:', !!token);\n\t\t\t\t\n\t\t\t\tconst res = await uniCloud.callFunction({\n\t\t\t\t\tname: 'getAdminData',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\ttype: 'all',\n\t\t\t\t\t\tuniIdToken: token  // 手动传递 token\n\t\t\t\t\t\t// 临时调试：如果需要，可以添加 _bypassAuth: true 来跳过权限检查（仅用于调试）\n\t\t\t\t\t\t// _bypassAuth: true\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tconsole.log('[dashboard] 云函数返回结果:', res);\n\t\t\t\t\n\t\t\t\tif (res.result && res.result.code === 0) {\n\t\t\t\t\tconst data = res.result.data;\n\t\t\t\t\tconsole.log('[dashboard] 获取到的数据:', {\n\t\t\t\t\t\tprofilesCount: data.profilesCount,\n\t\t\t\t\t\tassessmentsCount: data.assessmentsCount\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.profiles = data.profiles || [];\n\t\t\t\t\tthis.assessments = data.assessments || [];\n\t\t\t\t\tthis.profilesCount = data.profilesCount || 0;\n\t\t\t\t\tthis.assessmentsCount = data.assessmentsCount || 0;\n\t\t\t\t} else {\n\t\t\t\t\tconst errorMsg = res.result?.msg || res.errMsg || '获取数据失败';\n\t\t\t\t\tconst debugInfo = res.result?.debug;\n\t\t\t\t\tconsole.error('[dashboard] 云函数返回错误:', res.result);\n\t\t\t\t\t\n\t\t\t\t\t// 显示详细的错误信息（包括调试信息）\n\t\t\t\t\tlet fullErrorMsg = errorMsg;\n\t\t\t\t\tif (res.result?.code === 403 && debugInfo) {\n\t\t\t\t\t\tfullErrorMsg += `\\n\\n调试信息:\\n角色: ${debugInfo.role}\\nUID: ${debugInfo.uid || '未获取'}\\ncontext.auth: ${JSON.stringify(debugInfo.contextAuth || {})}`;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: '获取数据失败',\n\t\t\t\t\t\tcontent: fullErrorMsg + (res.result?.code ? ` (错误码: ${res.result.code})` : ''),\n\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\tconfirmText: '我知道了'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('加载数据失败:', error);\n\t\t\t\tconst errorMsg = error.message || error.errMsg || '加载数据失败';\n\t\t\t\tconsole.error('[dashboard] 详细错误信息:', {\n\t\t\t\t\terror,\n\t\t\t\t\tresult: error.result,\n\t\t\t\t\tcode: error.code\n\t\t\t\t});\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '加载失败',\n\t\t\t\t\tcontent: errorMsg + (error.code ? ` (错误码: ${error.code})` : ''),\n\t\t\t\t\tshowCancel: false\n\t\t\t\t});\n\t\t\t} finally {\n\t\t\t\tthis.loading = false;\n\t\t\t}\n\t\t},\n\n\t\t// 格式化日期\n\t\tformatDate(dateStr) {\n\t\t\tif (!dateStr) return '-';\n\t\t\treturn dateStr;\n\t\t},\n\n\t\t// 格式化时间戳\n\t\tformatTime(timestamp) {\n\t\t\tif (!timestamp) return '-';\n\t\t\tconst date = new Date(timestamp);\n\t\t\treturn `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')} ${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}`;\n\t\t},\n\n\t\t// 格式化比例（转换为百分比并保留1位小数，返回字符串）\n\t\tformatRatio(ratio) {\n\t\t\tif (ratio === undefined || ratio === null) return '0.0';\n\t\t\treturn (ratio * 100).toFixed(1);\n\t\t},\n\n\t\t// 获取百分比数值（用于样式绑定）\n\t\tgetRatioPercent(ratio) {\n\t\t\tif (ratio === undefined || ratio === null) return 0;\n\t\t\treturn ratio * 100;\n\t\t},\n\n\t\t// 获取诊断标签\n\t\tgetDiagnosisLabel(diag) {\n\t\t\treturn getDiagnosisLabel(diag);\n\t\t},\n\n\t\t// 获取年龄段标签\n\t\tgetAgeBandLabel(ageBand) {\n\t\t\treturn getAgeBandLabel(ageBand);\n\t\t},\n\n\t\t// 获取领域标签\n\t\tgetDomainLabel(domain) {\n\t\t\treturn getDomainLabel(domain);\n\t\t},\n\n\t\t// 获取子领域标签（完整版）\n\t\tgetSubdomainLabel(subdomain) {\n\t\t\treturn getSubdomainLabel(subdomain);\n\t\t},\n\t\t\n\t\t// 获取子领域标签（简化版，用于表格）\n\t\tgetSubdomainShortLabel(subdomain) {\n\t\t\treturn getSubdomainShortLabel(subdomain);\n\t\t},\n\n\t\t// 从子领域数据中提取所有领域\n\t\tgetDomainsFromSubdomains(subdomains) {\n\t\t\tif (!subdomains || typeof subdomains !== 'object') return [];\n\t\t\tconst domains = new Set();\n\t\t\tObject.values(subdomains).forEach(stats => {\n\t\t\t\tif (stats.domain) {\n\t\t\t\t\tdomains.add(stats.domain);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn Array.from(domains).sort();\n\t\t},\n\n\t\t// 获取指定领域下的所有子领域\n\t\tgetSubdomainsByDomain(subdomains, domain) {\n\t\t\tif (!subdomains || typeof subdomains !== 'object') {\n\t\t\t\treturn {};\n\t\t\t}\n\t\t\tconst result = {};\n\t\t\t// 支持domain代码和中文两种格式\n\t\t\tconst domainMap = {\n\t\t\t\t'感知觉': 'sens',\n\t\t\t\t'粗大动作': 'gross',\n\t\t\t\t'精细动作': 'fine',\n\t\t\t\t'认知': 'cog',\n\t\t\t\t'语言': 'lang',\n\t\t\t\t'社会互动': 'social',\n\t\t\t\t'口腔动作': 'oral'\n\t\t\t};\n\t\t\tconst domainCode = domainMap[domain] || domain;\n\t\t\t\n\t\t\tObject.entries(subdomains).forEach(([key, stats]) => {\n\t\t\t\tif (stats) {\n\t\t\t\t\tconst statsDomain = stats.domain || '';\n\t\t\t\t\tconst statsDomainCode = domainMap[statsDomain] || statsDomain;\n\t\t\t\t\t// 匹配domain代码或中文\n\t\t\t\t\tif (statsDomainCode === domainCode || statsDomain === domain) {\n\t\t\t\t\t\tresult[key] = stats;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn result;\n\t\t},\n\n\t\t// 获取指定领域下的所有子领域（有序数组）\n\t\tgetSubdomainsByDomainOrdered(subdomains, domain) {\n\t\t\tconst subdomainsObj = this.getSubdomainsByDomain(subdomains, domain);\n\t\t\t// 定义子领域显示顺序\n\t\t\tconst orderMap = {\n\t\t\t\t'sens': ['OSV', 'OSH', 'OST', 'ISP', 'ISV'],\n\t\t\t\t'gross': ['GM', 'UEM', 'UES'],\n\t\t\t\t'fine': ['FM'],\n\t\t\t\t'social': ['SIP', 'SIE', 'SIS'],\n\t\t\t\t'cog': ['MAN', 'MRN', 'MCN', 'MIN', 'MAY', 'MRY', 'MCY', 'MIY'],\n\t\t\t\t'lang': ['MLUY', 'MLUN', 'MLEY', 'MLEN'],\n\t\t\t\t'oral': ['OM']\n\t\t\t};\n\t\t\tconst order = orderMap[domain] || [];\n\t\t\tconst result = [];\n\t\t\t// 先按顺序添加\n\t\t\torder.forEach(subdomainCode => {\n\t\t\t\tObject.entries(subdomainsObj).forEach(([key, stats]) => {\n\t\t\t\t\tif (stats.subdomain === subdomainCode) {\n\t\t\t\t\t\tresult.push({ key, ...stats });\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\t// 添加未在顺序中的子领域\n\t\t\tObject.entries(subdomainsObj).forEach(([key, stats]) => {\n\t\t\t\tif (!order.includes(stats.subdomain)) {\n\t\t\t\t\tresult.push({ key, ...stats });\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn result;\n\t\t},\n\n\t\t// 获取动作相关的子领域（有序）\n\t\tgetActionSubdomainsOrdered(subdomains) {\n\t\t\tconst gross = this.getSubdomainsByDomainOrdered(subdomains, 'gross');\n\t\t\tconst fine = this.getSubdomainsByDomainOrdered(subdomains, 'fine');\n\t\t\treturn [...gross, ...fine];\n\t\t},\n\n\t\t// 获取动作子领域数量\n\t\tgetActionSubdomainCount(subdomains) {\n\t\t\treturn this.getActionSubdomainsOrdered(subdomains).length;\n\t\t},\n\n\t\t// 检查领域是否有子领域\n\t\thasSubdomainInDomain(subdomains, domain) {\n\t\t\treturn this.getSubdomainCount(subdomains, domain) > 0;\n\t\t},\n\n\t\t// 获取领域下的子领域数量\n\t\tgetSubdomainCount(subdomains, domain) {\n\t\t\treturn this.getSubdomainsByDomainOrdered(subdomains, domain).length;\n\t\t},\n\n\t\t// 获取所有年龄段（按顺序）\n\t\tgetAllAgeBands() {\n\t\t\treturn ['60_72m', '48_60m', '36_48m', '30_36m', '24_30m', '18_24m', '12_18m', '9_12m', '6_9m', '3_6m', '1_3m'];\n\t\t},\n\t\t\n\t\t// 获取表格的大领域信息（包含colspan）\n\t\tgetTableDomains(subdomains) {\n\t\t\tconst domains = [\n\t\t\t\t{ key: 'sens', code: 'sens', label: '五大感知觉发展' },\n\t\t\t\t{ key: 'action', code: 'action', label: '动作' },\n\t\t\t\t{ key: 'social', code: 'social', label: '社会互动' },\n\t\t\t\t{ key: 'cog', code: 'cog', label: '认知' },\n\t\t\t\t{ key: 'lang', code: 'lang', label: '语言' },\n\t\t\t\t{ key: 'oral', code: 'oral', label: '口腔动作' }\n\t\t\t];\n\t\t\t\n\t\t\tconst result = [];\n\t\t\tdomains.forEach(domain => {\n\t\t\t\tlet count = 0;\n\t\t\t\tif (domain.code === 'action') {\n\t\t\t\t\t// 动作 = 粗大动作 + 精细动作\n\t\t\t\t\tcount = this.getActionSubdomainCount(subdomains);\n\t\t\t\t} else {\n\t\t\t\t\tcount = this.getSubdomainCount(subdomains, domain.code);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (count > 0) {\n\t\t\t\t\tresult.push({\n\t\t\t\t\t\t...domain,\n\t\t\t\t\t\tcolspan: count\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\treturn result;\n\t\t},\n\t\t\n\t\t// 获取所有子领域（按顺序，扁平化）\n\t\tgetAllSubdomainsOrdered(subdomains) {\n\t\t\tconst sens = this.getSubdomainsByDomainOrdered(subdomains, 'sens');\n\t\t\tconst action = this.getActionSubdomainsOrdered(subdomains);\n\t\t\tconst social = this.getSubdomainsByDomainOrdered(subdomains, 'social');\n\t\t\tconst cog = this.getSubdomainsByDomainOrdered(subdomains, 'cog');\n\t\t\tconst lang = this.getSubdomainsByDomainOrdered(subdomains, 'lang');\n\t\t\tconst oral = this.getSubdomainsByDomainOrdered(subdomains, 'oral');\n\t\t\t\n\t\t\treturn [...sens, ...action, ...social, ...cog, ...lang, ...oral];\n\t\t},\n\t\t\n\t\t// 判断当前子领域是否是该大领域的第一个子领域\n\t\tisFirstSubdomainInDomain(subdomains, subIndex) {\n\t\t\tconst allSubs = this.getAllSubdomainsOrdered(subdomains);\n\t\t\tif (subIndex >= allSubs.length) return false;\n\t\t\t\n\t\t\tconst currentSub = allSubs[subIndex];\n\t\t\tconst currentDomain = currentSub.domain;\n\t\t\t\n\t\t\t// 检查前面是否有相同domain的子领域\n\t\t\tfor (let i = 0; i < subIndex; i++) {\n\t\t\t\tif (allSubs[i].domain === currentDomain) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn true;\n\t\t},\n\t\t\n\t\t// 判断当前子领域是否是该大领域的最后一个子领域（但不是第一个）\n\t\tisLastSubdomainInDomain(subdomains, subIndex) {\n\t\t\tconst allSubs = this.getAllSubdomainsOrdered(subdomains);\n\t\t\tif (subIndex >= allSubs.length) return false;\n\t\t\t\n\t\t\tconst currentSub = allSubs[subIndex];\n\t\t\tconst currentDomain = currentSub.domain;\n\t\t\t\n\t\t\t// 如果是第一个子领域，不算作最后一个\n\t\t\tif (this.isFirstSubdomainInDomain(subdomains, subIndex)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t\n\t\t\t// 检查后面是否还有相同domain的子领域\n\t\t\tfor (let i = subIndex + 1; i < allSubs.length; i++) {\n\t\t\t\tif (allSubs[i].domain === currentDomain) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn true;\n\t\t},\n\t\t\n\t\t// 根据domain代码获取大领域标签\n\t\tgetDomainLabelForSubdomain(domain) {\n\t\t\t// domain可能是中文或代码\n\t\t\tconst domainMap = {\n\t\t\t\t'sens': '五大感知觉发展',\n\t\t\t\t'感知觉': '五大感知觉发展',\n\t\t\t\t'gross': '动作',\n\t\t\t\t'fine': '动作',\n\t\t\t\t'粗大动作': '动作',\n\t\t\t\t'精细动作': '动作',\n\t\t\t\t'social': '社会互动',\n\t\t\t\t'社会互动': '社会互动',\n\t\t\t\t'cog': '认知',\n\t\t\t\t'认知': '认知',\n\t\t\t\t'lang': '语言',\n\t\t\t\t'语言': '语言',\n\t\t\t\t'oral': '口腔动作',\n\t\t\t\t'口腔动作': '口腔动作'\n\t\t\t};\n\t\t\t\n\t\t\treturn domainMap[domain] || domain;\n\t\t},\n\n\t\t// 获取指定年龄段和子领域的统计值\n\t\tgetAgeBandSubdomainValue(ageBandSubdomainStats, ageBand, subdomain) {\n\t\t\tif (!ageBandSubdomainStats || typeof ageBandSubdomainStats !== 'object') {\n\t\t\t\treturn '0/0';\n\t\t\t}\n\t\t\t\n\t\t\t// 查找匹配的统计：ageBand::subdomain\n\t\t\tconst key = `${ageBand}::${subdomain}`;\n\t\t\tconst stats = ageBandSubdomainStats[key];\n\t\t\t\n\t\t\tif (stats && stats.total !== undefined) {\n\t\t\t\treturn `${stats.passed || 0}/${stats.total}`;\n\t\t\t}\n\t\t\t\n\t\t\treturn '0/0';\n\t\t},\n\n\t\t// 获取柱状图颜色类\n\t\tgetBarColorClass(ratio) {\n\t\t\tif (ratio >= 0.8) return 'bar-excellent';\n\t\t\tif (ratio >= 0.6) return 'bar-good';\n\t\t\tif (ratio >= 0.4) return 'bar-fair';\n\t\t\treturn 'bar-poor';\n\t\t},\n\t\t\n\t\t// === 未完成题目相关方法 ===\n\t\t\n\t\t// 切换未完成题目的展开/折叠\n\t\ttoggleNotAchieved(assessmentId) {\n\t\t\tconst key = String(assessmentId);\n\t\t\tthis.expandedNotAchieved[key] = !this.expandedNotAchieved[key];\n\t\t\tthis.$forceUpdate();\n\t\t},\n\t\t\n\t\t// 检查未完成题目是否已展开\n\t\tisNotAchievedExpanded(assessmentId) {\n\t\t\treturn !!this.expandedNotAchieved[String(assessmentId)];\n\t\t},\n\t\t\n\t\t// 按领域统计未完成题目\n\t\tgetNotAchievedByDomain(notAchieved) {\n\t\t\tif (!notAchieved || !Array.isArray(notAchieved)) return {};\n\t\t\tconst result = {};\n\t\t\tnotAchieved.forEach(item => {\n\t\t\t\tconst domain = item.domain || '未知';\n\t\t\t\tresult[domain] = (result[domain] || 0) + 1;\n\t\t\t});\n\t\t\treturn result;\n\t\t},\n\t\t\n\t\t// 按年龄段统计未完成题目\n\t\tgetNotAchievedByAgeBand(notAchieved) {\n\t\t\tif (!notAchieved || !Array.isArray(notAchieved)) return {};\n\t\t\tconst result = {};\n\t\t\tnotAchieved.forEach(item => {\n\t\t\t\tconst ageBand = item.ageBand || '未知';\n\t\t\t\tresult[ageBand] = (result[ageBand] || 0) + 1;\n\t\t\t});\n\t\t\treturn result;\n\t\t},\n\t\t\n\t\t// 设置筛选条件\n\t\tsetNotAchievedFilter(assessmentId, filterType, value) {\n\t\t\tconst key = String(assessmentId);\n\t\t\tif (!this.notAchievedFilters[key]) {\n\t\t\t\tthis.notAchievedFilters[key] = {};\n\t\t\t}\n\t\t\tthis.notAchievedFilters[key][filterType] = value;\n\t\t\tthis.$forceUpdate();\n\t\t},\n\t\t\n\t\t// 获取筛选条件\n\t\tgetNotAchievedFilter(assessmentId, filterType) {\n\t\t\tconst key = String(assessmentId);\n\t\t\tif (!this.notAchievedFilters[key]) {\n\t\t\t\treturn 'all';\n\t\t\t}\n\t\t\treturn this.notAchievedFilters[key][filterType] || 'all';\n\t\t},\n\t\t\n\t\t// 获取筛选后的未完成题目\n\t\tgetFilteredNotAchieved(assessmentId, notAchieved) {\n\t\t\tif (!notAchieved || !Array.isArray(notAchieved)) return [];\n\t\t\t\n\t\t\tconst domainFilter = this.getNotAchievedFilter(assessmentId, 'domain');\n\t\t\t\n\t\t\tlet filtered = notAchieved;\n\t\t\t\n\t\t\t// 按领域筛选\n\t\t\tif (domainFilter !== 'all') {\n\t\t\t\tfiltered = filtered.filter(item => item.domain === domainFilter);\n\t\t\t}\n\t\t\t\n\t\t\treturn filtered;\n\t\t},\n\n\t\t// 切换领域展开/折叠\n\t\ttoggleDomain(assessmentId, domain) {\n\t\t\t// assessmentId 可能是 _id 或 index，都支持\n\t\t\tconst key = `${String(assessmentId)}_${domain}`;\n\t\t\tconst currentState = !!this.expandedDomains[key];\n\t\t\tconst newState = !currentState;\n\t\t\tthis.$set(this.expandedDomains, key, newState);\n\t\t\tconsole.log('[toggleDomain] 切换领域展开状态:', {\n\t\t\t\tassessmentId,\n\t\t\t\tdomain,\n\t\t\t\tkey,\n\t\t\t\toldState: currentState,\n\t\t\t\tnewState: newState\n\t\t\t});\n\t\t},\n\n\t\t// 检查领域是否展开\n\t\tisDomainExpanded(assessmentId, domain) {\n\t\t\tconst key = `${String(assessmentId)}_${domain}`;\n\t\t\treturn !!this.expandedDomains[key];\n\t\t},\n\n\t\t// 获取行走时间标签\n\t\tgetWalkTimeLabel(walkTime) {\n\t\t\tconst map = {\n\t\t\t\t'before18m': '18个月前',\n\t\t\t\t'after18m': '18个月后',\n\t\t\t\t'notyet': '尚未行走'\n\t\t\t};\n\t\t\treturn map[walkTime] || walkTime;\n\t\t},\n\n\t\t// 获取爬行情况标签\n\t\tgetCrawlLabel(crawl, crawlMonths) {\n\t\t\tconst map = {\n\t\t\t\t'months': crawlMonths ? `${crawlMonths}个月` : '有爬行',\n\t\t\t\t'nocrawl': '无爬行',\n\t\t\t\t'walkThenCrawl': '先走再爬'\n\t\t\t};\n\t\t\treturn map[crawl] || crawl;\n\t\t},\n\n\t\t// 获取视觉状态标签\n\t\tgetVisionStatusLabel(status) {\n\t\t\tconst map = {\n\t\t\t\t'normal': '正常',\n\t\t\t\t'amblyopia': '弱视',\n\t\t\t\t'strabismus': '斜视'\n\t\t\t};\n\t\t\treturn map[status] || status;\n\t\t},\n\n\t\t// 获取视觉子项标签\n\t\tgetVisionSubLabel(sub) {\n\t\t\tconst map = {\n\t\t\t\t'myopia': '近视',\n\t\t\t\t'astigmatism': '散光'\n\t\t\t};\n\t\t\treturn map[sub] || sub;\n\t\t},\n\n\t\t// 获取癫痫症标签\n\t\tgetEpilepsyLabel(epilepsy) {\n\t\t\tconst map = {\n\t\t\t\t'none': '无',\n\t\t\t\t'medicated': '已用药',\n\t\t\t\t'unmedicated': '未用药'\n\t\t\t};\n\t\t\treturn map[epilepsy] || epilepsy;\n\t\t},\n\n\t\t// 获取照顾者标签\n\t\tgetCaregiverLabel(caregiver) {\n\t\t\tconst map = {\n\t\t\t\t'mother': '母亲',\n\t\t\t\t'father': '父亲',\n\t\t\t\t'grandparent': '祖父母',\n\t\t\t\t'other': '其他'\n\t\t\t};\n\t\t\treturn map[caregiver] || caregiver;\n\t\t},\n\n\t\t// 返回\n\t\tgoBack() {\n\t\t\tuni.navigateBack();\n\t\t},\n\t\t\n\t\t// 跳转到初始化题目页面\n\t\tgoToInitQuestions() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/admin/init-questions'\n\t\t\t});\n\t\t},\n\t\t\n\t\t// 退出登录\n\t\tlogout() {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '确认退出',\n\t\t\t\tcontent: '确定要退出登录吗？',\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t// 清除登录信息\n\t\t\t\t\t\tuni.removeStorageSync('uni_id_token');\n\t\t\t\t\t\tuni.removeStorageSync('uni_id_token_expired');\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 跳转到登录页\n\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\turl: '/uni_modules/uni-id-pages/pages/login/login-withpwd'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t\n\t\t// 导出评估记录到Excel\n\t\texportAssessmentToExcel(assessment) {\n\t\t\ttry {\n\t\t\t\tconsole.log('[exportToExcel] 开始导出评估记录', assessment);\n\t\t\t\t\n\t\t\t\t// 动态加载xlsx库\n\t\t\t\tlet XLSX;\n\t\t\t\ttry {\n\t\t\t\t\tXLSX = require('xlsx');\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error('[exportToExcel] xlsx库加载失败:', e);\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: '导出失败',\n\t\t\t\t\t\tcontent: 'xlsx库未安装，请先运行: npm install',\n\t\t\t\t\t\tshowCancel: false\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 创建工作簿\n\t\t\t\tconst wb = XLSX.utils.book_new();\n\t\t\t\t\n\t\t\t\t// ===== Sheet 1: 综合能力检测分析图（细项分析） =====\n\t\t\t\tconst sheet1Data = this.generateDetailedAnalysisSheet(assessment);\n\t\t\t\tconst ws1 = XLSX.utils.aoa_to_sheet(sheet1Data);\n\t\t\t\t\n\t\t\t\t// 设置列宽\n\t\t\t\tws1['!cols'] = [{ wch: 12 }]; // 发育时间列\n\t\t\t\tconst subdomains = this.getAllSubdomainsOrdered(assessment.stats.subdomains);\n\t\t\t\tsubdomains.forEach(() => {\n\t\t\t\t\tws1['!cols'].push({ wch: 15 }); // 每个子领域列\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t// 设置合并单元格\n\t\t\t\tws1['!merges'] = this.generateMergesForSheet1(assessment);\n\t\t\t\t\n\t\t\t\tXLSX.utils.book_append_sheet(wb, ws1, '细项分析');\n\t\t\t\t\n\t\t\t\t// ===== Sheet 2: 未完成题目列表 =====\n\t\t\t\tconst sheet2Data = this.generateNotAchievedSheet(assessment);\n\t\t\t\tconst ws2 = XLSX.utils.aoa_to_sheet(sheet2Data);\n\t\t\t\t\n\t\t\t\t// 设置列宽\n\t\t\t\tws2['!cols'] = [\n\t\t\t\t\t{ wch: 20 }, // 领域\n\t\t\t\t\t{ wch: 25 }, // 子领域\n\t\t\t\t\t{ wch: 80 }  // 题目内容\n\t\t\t\t];\n\t\t\t\t\n\t\t\t\tXLSX.utils.book_append_sheet(wb, ws2, '未完成题目');\n\t\t\t\t\n\t\t\t\t// 生成文件名（包含儿童姓名和时间）\n\t\t\t\tconst childName = assessment.childName || '未知儿童';\n\t\t\t\tconst timestamp = new Date().toISOString().slice(0, 19).replace(/:/g, '-');\n\t\t\t\tconst filename = `${childName}_发育评估报告_${timestamp}.xlsx`;\n\t\t\t\t\n\t\t\t\t// 导出文件\n\t\t\t\tXLSX.writeFile(wb, filename);\n\t\t\t\t\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '导出成功',\n\t\t\t\t\ticon: 'success'\n\t\t\t\t});\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('[exportToExcel] 导出失败:', error);\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '导出失败',\n\t\t\t\t\tcontent: error.message || '导出Excel时发生错误',\n\t\t\t\t\tshowCancel: false\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 生成细项分析表格数据\n\t\tgenerateDetailedAnalysisSheet(assessment) {\n\t\t\tconst data = [];\n\t\t\tconst subdomains = this.getAllSubdomainsOrdered(assessment.stats.subdomains);\n\t\t\tconst domains = this.getTableDomains(assessment.stats.subdomains);\n\t\t\tconst ageBands = this.getAllAgeBands();\n\t\t\t\n\t\t\t// 第一行：发育时间 + 大领域\n\t\t\tconst row1 = ['发育时间'];\n\t\t\tdomains.forEach(domain => {\n\t\t\t\trow1.push(domain.label);\n\t\t\t\t// 为合并单元格填充空值\n\t\t\t\tfor (let i = 1; i < domain.colspan; i++) {\n\t\t\t\t\trow1.push('');\n\t\t\t\t}\n\t\t\t});\n\t\t\tdata.push(row1);\n\t\t\t\n\t\t\t// 第二行：子领域\n\t\t\tconst row2 = [''];\n\t\t\tsubdomains.forEach(subdomain => {\n\t\t\t\trow2.push(this.getSubdomainShortLabel(subdomain.subdomain));\n\t\t\t});\n\t\t\tdata.push(row2);\n\t\t\t\n\t\t\t// 数据行：按年龄段\n\t\t\tageBands.forEach(ageBand => {\n\t\t\t\tconst row = [this.getAgeBandLabel(ageBand)];\n\t\t\t\tsubdomains.forEach(subdomain => {\n\t\t\t\t\tconst value = this.getAgeBandSubdomainValue(\n\t\t\t\t\t\tassessment.ageBandSubdomainStats,\n\t\t\t\t\t\tageBand,\n\t\t\t\t\t\tsubdomain.subdomain\n\t\t\t\t\t);\n\t\t\t\t\trow.push(value);\n\t\t\t\t});\n\t\t\t\tdata.push(row);\n\t\t\t});\n\t\t\t\n\t\t\treturn data;\n\t\t},\n\t\t\n\t\t// 生成Sheet1的合并单元格配置\n\t\tgenerateMergesForSheet1(assessment) {\n\t\t\tconst merges = [];\n\t\t\tconst subdomains = this.getAllSubdomainsOrdered(assessment.stats.subdomains);\n\t\t\tconst domains = this.getTableDomains(assessment.stats.subdomains);\n\t\t\t\n\t\t\t// 合并\"发育时间\"单元格（A1:A2，跨两行）\n\t\t\tmerges.push({\n\t\t\t\ts: { r: 0, c: 0 }, // 起始：第1行第1列\n\t\t\t\te: { r: 1, c: 0 }  // 结束：第2行第1列\n\t\t\t});\n\t\t\t\n\t\t\t// 合并大领域单元格（第一行）\n\t\t\tlet colIndex = 1; // 从第2列开始（第1列是发育时间）\n\t\t\tdomains.forEach(domain => {\n\t\t\t\tif (domain.colspan > 1) {\n\t\t\t\t\tmerges.push({\n\t\t\t\t\t\ts: { r: 0, c: colIndex },\n\t\t\t\t\t\te: { r: 0, c: colIndex + domain.colspan - 1 }\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tcolIndex += domain.colspan;\n\t\t\t});\n\t\t\t\n\t\t\treturn merges;\n\t\t},\n\t\t\n\t\t// 生成未完成题目表格数据（按年龄段和子领域分组）\n\t\tgenerateNotAchievedSheet(assessment) {\n\t\t\tconst data = [];\n\t\t\t\n\t\t\t// 标题行\n\t\t\tdata.push(['未完成题目详细列表']);\n\t\t\tdata.push(['儿童姓名：', assessment.childName || '未知儿童']);\n\t\t\tdata.push(['评估时间：', this.formatTime(assessment.createdAt)]);\n\t\t\tdata.push(['总未完成数：', (assessment.notAchieved || []).length + '题']);\n\t\t\tdata.push([]); // 空行\n\t\t\t\n\t\t\tif (!assessment.notAchieved || assessment.notAchieved.length === 0) {\n\t\t\t\tdata.push(['所有题目已完成！']);\n\t\t\t\treturn data;\n\t\t\t}\n\t\t\t\n\t\t\t// 按年龄段 -> 领域 -> 子领域 三级分组\n\t\t\tconst grouped = {};\n\t\t\tassessment.notAchieved.forEach(item => {\n\t\t\t\tconst ageBand = item.ageBand || '未知';\n\t\t\t\tconst domain = item.domain || '未知';\n\t\t\t\tconst subdomain = item.subdomain || '未知';\n\t\t\t\t\n\t\t\t\tif (!grouped[ageBand]) {\n\t\t\t\t\tgrouped[ageBand] = {};\n\t\t\t\t}\n\t\t\t\tif (!grouped[ageBand][domain]) {\n\t\t\t\t\tgrouped[ageBand][domain] = {};\n\t\t\t\t}\n\t\t\t\tif (!grouped[ageBand][domain][subdomain]) {\n\t\t\t\t\tgrouped[ageBand][domain][subdomain] = [];\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tgrouped[ageBand][domain][subdomain].push(item);\n\t\t\t});\n\t\t\t\n\t\t\t// 按年龄段顺序输出\n\t\t\tconst ageBands = this.getAllAgeBands();\n\t\t\tlet hasContent = false;\n\t\t\t\n\t\t\tageBands.forEach(ageBand => {\n\t\t\t\tif (grouped[ageBand]) {\n\t\t\t\t\thasContent = true;\n\t\t\t\t\t\n\t\t\t\t\t// 年龄段标题行（加粗效果用Excel格式实现）\n\t\t\t\t\tdata.push([]);\n\t\t\t\t\tdata.push(['【' + this.getAgeBandLabel(ageBand) + '】']);\n\t\t\t\t\tdata.push(['领域', '子领域', '题目内容']);\n\t\t\t\t\t\n\t\t\t\t\t// 遍历该年龄段下的所有领域\n\t\t\t\t\tconst domains = Object.keys(grouped[ageBand]).sort((a, b) => {\n\t\t\t\t\t\t// 按领域顺序排序：sens -> gross/fine -> social -> cog -> lang -> oral\n\t\t\t\t\t\tconst order = ['sens', 'gross', 'fine', 'social', 'cog', 'lang', 'oral'];\n\t\t\t\t\t\treturn order.indexOf(a) - order.indexOf(b);\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tdomains.forEach(domain => {\n\t\t\t\t\t\tconst domainLabel = this.getDomainLabel(domain);\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 遍历该领域下的所有子领域\n\t\t\t\t\t\tconst subdomains = Object.keys(grouped[ageBand][domain]).sort();\n\t\t\t\t\t\t\n\t\t\t\t\t\tsubdomains.forEach((subdomain, subIndex) => {\n\t\t\t\t\t\t\tconst subdomainLabel = this.getSubdomainLabel(subdomain);\n\t\t\t\t\t\t\tconst items = grouped[ageBand][domain][subdomain];\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// 输出该子领域的所有题目\n\t\t\t\t\t\t\titems.forEach((item, itemIndex) => {\n\t\t\t\t\t\t\t\tif (subIndex === 0 && itemIndex === 0) {\n\t\t\t\t\t\t\t\t\t// 第一个子领域的第一题，显示领域名\n\t\t\t\t\t\t\t\t\tdata.push([\n\t\t\t\t\t\t\t\t\t\tdomainLabel,\n\t\t\t\t\t\t\t\t\t\tsubdomainLabel,\n\t\t\t\t\t\t\t\t\t\titem.title || ''\n\t\t\t\t\t\t\t\t\t]);\n\t\t\t\t\t\t\t\t} else if (itemIndex === 0) {\n\t\t\t\t\t\t\t\t\t// 新子领域的第一题，领域列为空\n\t\t\t\t\t\t\t\t\tdata.push([\n\t\t\t\t\t\t\t\t\t\t'',\n\t\t\t\t\t\t\t\t\t\tsubdomainLabel,\n\t\t\t\t\t\t\t\t\t\titem.title || ''\n\t\t\t\t\t\t\t\t\t]);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t// 同一子领域的后续题目，领域和子领域列都为空\n\t\t\t\t\t\t\t\t\tdata.push([\n\t\t\t\t\t\t\t\t\t\t'',\n\t\t\t\t\t\t\t\t\t\t'',\n\t\t\t\t\t\t\t\t\t\titem.title || ''\n\t\t\t\t\t\t\t\t\t]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif (!hasContent) {\n\t\t\t\tdata.push(['暂无未完成题目']);\n\t\t\t}\n\t\t\t\n\t\t\treturn data;\n\t\t}\n\t}\n}\n</script>\n\n<style scoped>\n.admin-dashboard {\n\tmin-height: 100vh;\n\tbackground: #F8F9FA;\n\tpadding: 20rpx;\n}\n\n/* 顶部标题栏 */\n.dashboard-header {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding: 30rpx 20rpx;\n\tbackground: linear-gradient(135deg, #E93A8A 0%, #009FC2 100%);\n\tborder-radius: 20rpx;\n\tmargin-bottom: 20rpx;\n\tbox-shadow: 0 4rpx 20rpx rgba(233, 58, 138, 0.3);\n}\n\n.dashboard-title {\n\tfont-size: 36rpx;\n\tfont-weight: bold;\n\tcolor: #FFF;\n}\n\n.dashboard-header .header-actions {\n\tdisplay: flex;\n\tgap: 15rpx;\n}\n\n.action-btn {\n\tfont-size: 24rpx;\n\tcolor: #FFF;\n\tpadding: 12rpx 24rpx;\n\tbackground: rgba(255, 255, 255, 0.2);\n\tborder-radius: 20rpx;\n\tborder: 1rpx solid rgba(255, 255, 255, 0.3);\n\tcursor: pointer;\n\ttransition: all 0.3s;\n}\n\n.action-btn:active {\n\tbackground: rgba(255, 255, 255, 0.3);\n\ttransform: scale(0.95);\n}\n\n/* 权限不足提示 */\n.no-permission {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tmin-height: 80vh;\n}\n\n.permission-card {\n\tbackground: #fff;\n\tborder-radius: 20rpx;\n\tpadding: 60rpx 40rpx;\n\ttext-align: center;\n\tbox-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.1);\n}\n\n.permission-title {\n\tdisplay: block;\n\tfont-size: 36rpx;\n\tfont-weight: bold;\n\tcolor: #E93A8A;\n\tmargin-bottom: 20rpx;\n}\n\n.permission-desc {\n\tdisplay: block;\n\tfont-size: 28rpx;\n\tcolor: #7F8C8D;\n\tmargin-bottom: 40rpx;\n}\n\n.permission-btn {\n\tbackground: #E93A8A;\n\tcolor: #fff;\n\tborder-radius: 10rpx;\n\tpadding: 20rpx 60rpx;\n}\n\n/* 统计卡片 */\n.stats-cards {\n\tdisplay: flex;\n\tgap: 20rpx;\n\tmargin-bottom: 30rpx;\n}\n\n.stat-card {\n\tflex: 1;\n\tbackground: #fff;\n\tborder-radius: 20rpx;\n\tpadding: 30rpx;\n\ttext-align: center;\n\tbox-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.05);\n}\n\n.stat-value {\n\tdisplay: block;\n\tfont-size: 48rpx;\n\tfont-weight: bold;\n\tcolor: #E93A8A;\n\tmargin-bottom: 10rpx;\n}\n\n.stat-label {\n\tdisplay: block;\n\tfont-size: 24rpx;\n\tcolor: #7F8C8D;\n}\n\n/* 加载状态 */\n.loading-container {\n\tpadding: 100rpx 0;\n}\n\n/* 标签页 */\n.tabs-container {\n\tbackground: #fff;\n\tborder-radius: 20rpx;\n\toverflow: hidden;\n}\n\n.tabs {\n\tdisplay: flex;\n\tbackground: #F5F8FF;\n\tborder-bottom: 2rpx solid #E8F4FD;\n}\n\n.tab-item {\n\tflex: 1;\n\tpadding: 30rpx 0;\n\ttext-align: center;\n\tfont-size: 28rpx;\n\tcolor: #7F8C8D;\n\tposition: relative;\n}\n\n.tab-item.active {\n\tcolor: #E93A8A;\n\tfont-weight: bold;\n}\n\n.tab-item.active::after {\n\tcontent: '';\n\tposition: absolute;\n\tbottom: 0;\n\tleft: 50%;\n\ttransform: translateX(-50%);\n\twidth: 60rpx;\n\theight: 4rpx;\n\tbackground: #E93A8A;\n\tborder-radius: 2rpx;\n}\n\n.tab-content {\n\tpadding: 30rpx;\n}\n\n/* 列表头部 */\n.list-header {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmargin-bottom: 30rpx;\n}\n\n.header-title {\n\tfont-size: 32rpx;\n\tfont-weight: bold;\n\tcolor: #333;\n}\n\n.refresh-btn {\n\tfont-size: 24rpx;\n\tcolor: #E93A8A;\n\tpadding: 10rpx 20rpx;\n}\n\n.header-actions {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 15rpx;\n}\n\n.view-toggle-btn {\n\tfont-size: 24rpx;\n\tcolor: #7F8C8D;\n\tpadding: 8rpx 16rpx;\n\tborder-radius: 8rpx;\n\tborder: 1rpx solid #E8E8E8;\n\tbackground: #fff;\n}\n\n.view-toggle-btn.active {\n\tcolor: #E93A8A;\n\tborder-color: #E93A8A;\n\tbackground: #FFE8F0;\n\tfont-weight: 500;\n}\n\n/* 档案列表 */\n.profile-list, .assessment-list {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 30rpx;\n}\n\n.profile-item, .assessment-item {\n\tbackground: #fff;\n\tborder-radius: 20rpx;\n\tpadding: 30rpx;\n\tbox-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.08);\n\tborder: 1rpx solid #E8E8E8;\n}\n\n/* 档案区块 */\n.profile-section {\n\tmargin-bottom: 30rpx;\n}\n\n.profile-section:last-child {\n\tmargin-bottom: 0;\n}\n\n.profile-section.profile-meta {\n\tpadding-top: 20rpx;\n\tborder-top: 1rpx solid #F0F0F0;\n\tmargin-top: 20rpx;\n}\n\n.section-header {\n\tmargin-bottom: 20rpx;\n\tpadding-bottom: 10rpx;\n\tborder-bottom: 2rpx solid #E93A8A;\n}\n\n.section-title {\n\tfont-size: 30rpx;\n\tfont-weight: bold;\n\tcolor: #E93A8A;\n}\n\n/* 基本信息 */\n.profile-basic-info, .profile-detail-info {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 16rpx;\n}\n\n.info-row {\n\tdisplay: flex;\n\talign-items: flex-start;\n\tfont-size: 26rpx;\n\tline-height: 1.6;\n}\n\n.info-label {\n\tcolor: #7F8C8D;\n\tmin-width: 160rpx;\n\tflex-shrink: 0;\n}\n\n.info-value {\n\tcolor: #333;\n\tflex: 1;\n\tword-break: break-all;\n}\n\n.info-value.info-id {\n\tfont-family: monospace;\n\tfont-size: 22rpx;\n\tcolor: #999;\n}\n\n.info-value.info-phone {\n\tcolor: #E93A8A;\n\tfont-weight: 500;\n}\n\n/* 诊断标签 */\n.diagnosis-tags {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tgap: 12rpx;\n}\n\n.profile-diagnosis {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tgap: 10rpx;\n\talign-items: center;\n}\n\n.diagnosis-tag {\n\tfont-size: 24rpx;\n\tcolor: #E93A8A;\n\tbackground: #FFE8F0;\n\tpadding: 8rpx 16rpx;\n\tborder-radius: 8rpx;\n\tborder: 1rpx solid #FFB6D9;\n}\n\n/* 备注信息 */\n.profile-notes {\n\tbackground: #F8F9FA;\n\tborder-radius: 12rpx;\n\tpadding: 20rpx;\n\tborder-left: 4rpx solid #E93A8A;\n}\n\n.notes-text {\n\tfont-size: 26rpx;\n\tcolor: #555;\n\tline-height: 1.8;\n\twhite-space: pre-wrap;\n\tword-break: break-all;\n}\n\n.assessment-header {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmargin-bottom: 15rpx;\n}\n\n.assessment-child-name {\n\tfont-size: 30rpx;\n\tfont-weight: bold;\n\tcolor: #E93A8A;\n}\n\n.assessment-time {\n\tfont-size: 24rpx;\n\tcolor: #7F8C8D;\n}\n\n.assessment-stats {\n\tmargin-top: 10rpx;\n}\n\n.stats-text {\n\tfont-size: 24rpx;\n\tcolor: #7F8C8D;\n}\n\n/* 评估图表 */\n.assessment-charts {\n\tmargin-top: 30rpx;\n}\n\n.chart-section {\n\tmargin-bottom: 40rpx;\n}\n\n.chart-section:last-child {\n\tmargin-bottom: 0;\n}\n\n.chart-title {\n\tfont-size: 30rpx;\n\tfont-weight: bold;\n\tcolor: #E93A8A;\n\tmargin-bottom: 20rpx;\n\tpadding-bottom: 10rpx;\n\tborder-bottom: 2rpx solid #E93A8A;\n}\n\n.chart-container {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 20rpx;\n}\n\n.chart-item {\n\tbackground: #F8F9FA;\n\tborder-radius: 12rpx;\n\tpadding: 20rpx;\n}\n\n.chart-item-domain {\n\ttransition: all 0.3s ease;\n}\n\n.chart-item-domain.chart-item-expanded {\n\tbackground: #fff;\n\tborder: 2rpx solid #E93A8A;\n}\n\n.chart-item-subdomain {\n\tbackground: #fff;\n\tmargin-left: 30rpx;\n\tborder-left: 3rpx solid #E93A8A;\n\tmargin-top: 15rpx;\n}\n\n.chart-label-row {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmargin-bottom: 12rpx;\n}\n\n.chart-label-row-clickable {\n\tcursor: pointer;\n\tuser-select: none;\n\tpadding: 5rpx 0;\n}\n\n.chart-label-row-clickable:active {\n\topacity: 0.7;\n}\n\n.chart-label-with-icon {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 10rpx;\n}\n\n.chart-expand-icon {\n\tfont-size: 20rpx;\n\tcolor: #E93A8A;\n\ttransition: transform 0.3s ease;\n\tdisplay: inline-block;\n}\n\n.chart-expand-icon-expanded {\n\ttransform: rotate(90deg);\n}\n\n.chart-label {\n\tfont-size: 26rpx;\n\tcolor: #333;\n\tfont-weight: 500;\n}\n\n.chart-label-subdomain {\n\tfont-size: 24rpx;\n\tcolor: #666;\n}\n\n.chart-value {\n\tfont-size: 26rpx;\n\tfont-weight: bold;\n\tcolor: #E93A8A;\n}\n\n.chart-bar-container {\n\twidth: 100%;\n\theight: 24rpx;\n\tbackground: #E8E8E8;\n\tborder-radius: 12rpx;\n\toverflow: hidden;\n\tmargin-bottom: 8rpx;\n}\n\n.chart-bar {\n\theight: 100%;\n\tborder-radius: 12rpx;\n\ttransition: width 0.3s ease;\n\tmin-width: 2rpx;\n}\n\n.chart-bar-subdomain {\n\theight: 18rpx;\n}\n\n.chart-detail {\n\tfont-size: 22rpx;\n\tcolor: #7F8C8D;\n}\n\n/* 柱状图颜色 */\n.bar-excellent {\n\tbackground: linear-gradient(180deg, #52C41A, #73D13D);\n}\n\n.bar-good {\n\tbackground: linear-gradient(180deg, #1890FF, #40A9FF);\n}\n\n.bar-fair {\n\tbackground: linear-gradient(180deg, #FAAD14, #FFC53D);\n}\n\n.bar-poor {\n\tbackground: linear-gradient(180deg, #FF4D4F, #FF7875);\n}\n\n/* 子领域展开区域 */\n.subdomain-expanded {\n\tmargin-top: 20rpx;\n\tpadding-top: 20rpx;\n\tborder-top: 1rpx dashed #E8E8E8;\n\tanimation: slideDown 0.3s ease;\n}\n\n@keyframes slideDown {\n\tfrom {\n\t\topacity: 0;\n\t\ttransform: translateY(-10rpx);\n\t}\n\tto {\n\t\topacity: 1;\n\t\ttransform: translateY(0);\n\t}\n}\n\n/* 子领域垂直柱状图 */\n.subdomain-chart-container {\n\twidth: 100%;\n\tmargin-top: 20rpx;\n}\n\n.subdomain-chart-bars {\n\tdisplay: flex;\n\tjustify-content: space-around;\n\talign-items: flex-end;\n\theight: 300rpx;\n\tpadding: 0 10rpx;\n}\n\n.subdomain-chart-bar {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tflex: 1;\n\tmargin: 0 5rpx;\n}\n\n.subdomain-bar-container {\n\twidth: 100%;\n\theight: 250rpx;\n\tbackground: #F0F0F0;\n\tborder-radius: 8rpx;\n\tposition: relative;\n\tmargin-bottom: 12rpx;\n\toverflow: hidden;\n\tdisplay: flex;\n\talign-items: flex-end;\n}\n\n.subdomain-bar-fill {\n\twidth: 100%;\n\tmin-height: 8rpx;\n\tborder-radius: 8rpx 8rpx 0 0;\n\ttransition: height 0.5s ease;\n\tposition: absolute;\n\tbottom: 0;\n\tleft: 0;\n}\n\n.subdomain-bar-label {\n\tfont-size: 20rpx;\n\tcolor: #666;\n\tmargin-top: 8rpx;\n\tword-break: keep-all;\n\ttext-align: center;\n\tline-height: 1.2;\n}\n\n.subdomain-bar-value {\n\tfont-size: 22rpx;\n\tcolor: #E93A8A;\n\tfont-weight: 500;\n\tmargin-top: 5rpx;\n}\n\n.subdomain-bar-count {\n\tfont-size: 18rpx;\n\tcolor: #999;\n\tmargin-top: 3rpx;\n}\n\n/* 表格视图 - 简化版 */\n.assessment-table-view {\n\tmargin-top: 30rpx;\n}\n\n.table-container {\n\tbackground: #fff;\n\tborder-radius: 12rpx;\n\tpadding: 20rpx;\n\tborder: 1rpx solid #E8E8E8;\n}\n\n.table-title-row {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmargin-bottom: 20rpx;\n\tpadding: 0 10rpx;\n}\n\n.table-title {\n\tfont-size: 28rpx;\n\tfont-weight: bold;\n\tcolor: #333;\n\tflex: 1;\n\ttext-align: center;\n}\n\n.export-excel-btn {\n\tbackground: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);\n\tcolor: #fff;\n\tborder: none;\n\tborder-radius: 8rpx;\n\tpadding: 12rpx 24rpx;\n\tfont-size: 24rpx;\n\tcursor: pointer;\n\tbox-shadow: 0 2rpx 8rpx rgba(76, 175, 80, 0.3);\n\ttransition: all 0.3s;\n}\n\n.export-excel-btn:active {\n\ttransform: scale(0.95);\n\tbox-shadow: 0 1rpx 4rpx rgba(76, 175, 80, 0.3);\n}\n\n.table-scroll {\n\twidth: 100%;\n}\n\n/* 简化表格 */\n.simple-table {\n\tdisplay: flex;\n\tflex-direction: column;\n\tborder: 1rpx solid #D0D0D0;\n\tmin-width: 100%;\n}\n\n.table-row {\n\tdisplay: flex;\n\tflex-direction: row;\n}\n\n/* 表头容器 */\n.table-header-wrapper {\n\tdisplay: flex;\n\tflex-direction: row;\n\tposition: relative;\n\tborder-bottom: 1rpx solid #D0D0D0;\n}\n\n/* 跨行的发育时间单元格 */\n.time-cell-rowspan {\n\twidth: 120rpx;\n\tmin-width: 120rpx;\n\tmax-width: 120rpx;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tbackground: #D0E8FF !important;\n\tborder-right: 1rpx solid #D0D0D0;\n\tfont-weight: bold;\n\tcolor: #333;\n\tfont-size: 20rpx;\n\tpadding: 8rpx 6rpx;\n\tbox-sizing: border-box;\n\tposition: sticky;\n\tleft: 0;\n\tz-index: 10;\n\tflex-shrink: 0;\n}\n\n/* 表头内容区域（包含两行） */\n.header-content {\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex: 1;\n}\n\n.table-cell {\n\tpadding: 8rpx 6rpx;\n\ttext-align: center;\n\tborder-right: 1rpx solid #D0D0D0;\n\tborder-bottom: 1rpx solid #D0D0D0;\n\tvertical-align: middle;\n\tbox-sizing: border-box;\n\tfont-size: 20rpx;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tflex-shrink: 0;\n\tline-height: 1.3;\n\tbackground: #fff; /* 默认白色背景 */\n}\n\n.table-cell:last-child {\n\tborder-right: none;\n}\n\n.table-row:last-child .table-cell {\n\tborder-bottom: none;\n}\n\n/* 表头单元格 */\n.header-cell {\n\tbackground: #E8F4FD !important;\n\tfont-weight: bold;\n\tcolor: #333;\n}\n\n/* 固定列表头 */\n.fixed-header {\n\tbackground: #D0E8FF !important;\n\tposition: sticky;\n\tleft: 0;\n\tz-index: 10;\n}\n\n/* 表头第一行和第二行 */\n.header-row-1,\n.header-row-2 {\n\tborder-bottom: 1rpx solid #D0D0D0;\n}\n\n.header-row-2 {\n\tborder-bottom: none;\n}\n\n/* 大领域标题单元格（第一行） */\n.domain-header-cell {\n\tbackground: #D0E8FF !important;\n\tfont-size: 22rpx;\n\tfont-weight: bold;\n\tpadding: 12rpx 8rpx;\n\tline-height: 1.4;\n\tword-break: break-all;\n\tborder-right: 2rpx solid #666;\n\tborder-bottom: 1rpx solid #D0D0D0;\n}\n\n.domain-header-cell:last-child {\n\tborder-right: 1rpx solid #D0D0D0;\n}\n\n/* 子领域单元格 */\n.subdomain-cell {\n\tbackground: #F5F8FF !important;\n\tfont-size: 18rpx;\n\tfont-weight: 500;\n\tcolor: #666;\n\tline-height: 1.3;\n\tword-break: break-all;\n\tpadding: 6rpx 4rpx;\n}\n\n/* 大领域的第一个子领域（添加左边框分隔） */\n.domain-first-subdomain {\n\tborder-left: 2rpx solid #666 !important;\n}\n\n/* 第一个子领域（第一个大领域的第一个子领域）不需要左边框 */\n.header-row-2 .domain-first-subdomain:first-child,\n.data-row .domain-first-subdomain:first-child {\n\tborder-left: 1rpx solid #D0D0D0 !important;\n}\n\n/* 数据行 */\n.data-row {\n\tbackground: #fff;\n}\n\n/* 偶数数据行（斑马纹效果） */\n.data-row:nth-child(odd) {\n\tbackground: #fff;\n}\n\n.data-row:nth-child(even) {\n\tbackground: #F8F9FA;\n}\n\n/* 固定列数据单元格 */\n.fixed-cell {\n\tbackground: #F0F7FF !important;\n\tfont-weight: 500;\n\tposition: sticky;\n\tleft: 0;\n\tz-index: 5;\n}\n\n/* 数据单元格 */\n.data-cell {\n\tcolor: #333;\n\tbackground: inherit; /* 继承父级行的背景色 */\n}\n\n/* 确保数据单元格在奇数行有白色背景 */\n.data-row:nth-child(odd) .data-cell:not(.fixed-cell) {\n\tbackground: #fff;\n}\n\n/* 确保数据单元格在偶数行有灰色背景 */\n.data-row:nth-child(even) .data-cell:not(.fixed-cell) {\n\tbackground: #F8F9FA;\n}\n\n\n/* 空状态 */\n.empty-state {\n\ttext-align: center;\n\tpadding: 100rpx 0;\n\tcolor: #7F8C8D;\n\tfont-size: 28rpx;\n}\n\n/* 未完成题目列表样式 - 优化版 */\n.not-achieved-section {\n\tmargin-top: 30rpx;\n\tbackground: #FFF;\n\tborder-radius: 20rpx;\n\toverflow: hidden;\n\tbox-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.08);\n\tborder: 2rpx solid #FFE5E5;\n}\n\n/* 标题栏 */\n.section-title-bar {\n\tpadding: 25rpx 30rpx;\n\tbackground: linear-gradient(135deg, #FFE5E5 0%, #FFF0F0 100%);\n\tcursor: pointer;\n\ttransition: background-color 0.2s;\n\tborder-bottom: 1rpx solid #FFD5D5;\n}\n\n.section-title-bar:hover {\n\tbackground: linear-gradient(135deg, #FFD5D5 0%, #FFE5E5 100%);\n}\n\n.section-title {\n\tdisplay: flex;\n\talign-items: center;\n\tfont-size: 32rpx;\n\tfont-weight: bold;\n\tcolor: #E74C3C;\n\tmargin-bottom: 8rpx;\n}\n\n.title-icon {\n\tmargin-right: 10rpx;\n\tfont-size: 24rpx;\n\ttransition: transform 0.2s;\n}\n\n.section-summary {\n\tfont-size: 24rpx;\n\tcolor: #999;\n}\n\n/* 统计摘要 */\n.not-achieved-summary {\n\tpadding: 20rpx 30rpx;\n\tbackground: #FFFBFB;\n\tborder-bottom: 1rpx solid #FFE5E5;\n}\n\n.summary-item {\n\tmargin-bottom: 15rpx;\n}\n\n.summary-item:last-child {\n\tmargin-bottom: 0;\n}\n\n.summary-label {\n\tfont-size: 26rpx;\n\tcolor: #666;\n\tfont-weight: 500;\n\tdisplay: inline-block;\n\tmargin-bottom: 8rpx;\n}\n\n.summary-tags {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tgap: 10rpx;\n}\n\n.summary-tag {\n\tdisplay: inline-block;\n\tpadding: 8rpx 16rpx;\n\tbackground: linear-gradient(135deg, #FFE5E5 0%, #FFF0F0 100%);\n\tcolor: #E74C3C;\n\tfont-size: 24rpx;\n\tborder-radius: 20rpx;\n\tborder: 1rpx solid #FFD5D5;\n}\n\n/* 详细列表 */\n.not-achieved-detail {\n\tpadding: 20rpx 30rpx 30rpx;\n\tbackground: #FFF;\n}\n\n/* 筛选栏 */\n.filter-bar {\n\tmargin-bottom: 20rpx;\n\tpadding: 20rpx;\n\tbackground: #F8F9FA;\n\tborder-radius: 12rpx;\n}\n\n.filter-item {\n\tmargin-bottom: 15rpx;\n}\n\n.filter-item:last-child {\n\tmargin-bottom: 0;\n}\n\n.filter-label {\n\tfont-size: 26rpx;\n\tcolor: #666;\n\tdisplay: block;\n\tmargin-bottom: 10rpx;\n\tfont-weight: 500;\n}\n\n.filter-options {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tgap: 10rpx;\n}\n\n.filter-option {\n\tpadding: 8rpx 20rpx;\n\tbackground: #FFF;\n\tcolor: #666;\n\tfont-size: 24rpx;\n\tborder-radius: 20rpx;\n\tborder: 1rpx solid #DDD;\n\tcursor: pointer;\n\ttransition: all 0.2s;\n}\n\n.filter-option:hover {\n\tbackground: #F0F0F0;\n}\n\n.filter-option.active {\n\tbackground: linear-gradient(135deg, #E74C3C 0%, #FF6B6B 100%);\n\tcolor: #FFF;\n\tborder-color: #E74C3C;\n\tfont-weight: 500;\n}\n\n/* 题目列表 */\n.not-achieved-list {\n\tmax-height: 800rpx;\n\toverflow-y: auto;\n}\n\n.not-achieved-item {\n\tmargin-bottom: 20rpx;\n\tpadding: 20rpx;\n\tbackground: #FFFBFB;\n\tborder-radius: 12rpx;\n\tborder-left: 4rpx solid #E74C3C;\n\ttransition: all 0.2s;\n}\n\n.not-achieved-item:hover {\n\tbackground: #FFF5F5;\n\tbox-shadow: 0 2rpx 12rpx rgba(231, 76, 60, 0.1);\n\ttransform: translateX(4rpx);\n}\n\n.not-achieved-item:last-child {\n\tmargin-bottom: 0;\n}\n\n.item-header {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tgap: 10rpx;\n\tmargin-bottom: 12rpx;\n}\n\n.item-badge {\n\tpadding: 6rpx 12rpx;\n\tfont-size: 22rpx;\n\tborder-radius: 6rpx;\n\tfont-weight: 500;\n}\n\n.age-badge {\n\tbackground: linear-gradient(135deg, #667EEA 0%, #764BA2 100%);\n\tcolor: #FFF;\n}\n\n.domain-badge {\n\tbackground: linear-gradient(135deg, #F093FB 0%, #F5576C 100%);\n\tcolor: #FFF;\n}\n\n.subdomain-badge {\n\tbackground: linear-gradient(135deg, #4FACFE 0%, #00F2FE 100%);\n\tcolor: #FFF;\n}\n\n.item-content {\n\tfont-size: 26rpx;\n\tcolor: #333;\n\tline-height: 1.6;\n\tdisplay: block;\n}\n\n.empty-filter {\n\ttext-align: center;\n\tpadding: 60rpx 0;\n\tcolor: #999;\n\tfont-size: 26rpx;\n}\n</style>\n\n","import mod from \"-!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./dashboard.vue?vue&type=style&index=0&id=0f895370&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./dashboard.vue?vue&type=style&index=0&id=0f895370&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1762776815395\n      var cssReload = require(\"C:/Users/86182/Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}