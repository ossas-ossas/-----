{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/86182/Documents/HBuilderProjects/前端小程序/pages/admin/dashboard/dashboard.vue?f605","webpack:///C:/Users/86182/Documents/HBuilderProjects/前端小程序/pages/admin/dashboard/dashboard.vue?8f0b","webpack:///C:/Users/86182/Documents/HBuilderProjects/前端小程序/pages/admin/dashboard/dashboard.vue?c63b","webpack:///C:/Users/86182/Documents/HBuilderProjects/前端小程序/pages/admin/dashboard/dashboard.vue?b349","uni-app:///pages/admin/dashboard/dashboard.vue","webpack:///C:/Users/86182/Documents/HBuilderProjects/前端小程序/pages/admin/dashboard/dashboard.vue?7d83","webpack:///C:/Users/86182/Documents/HBuilderProjects/前端小程序/pages/admin/dashboard/dashboard.vue?8ff8"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","isAdmin","loading","loadingText","contentdown","contentrefresh","contentnomore","activeTab","profiles","assessments","profilesCount","assessmentsCount","expandedDomains","assessmentViewMode","expandedNotAchieved","notAchievedFilters","onLoad","onPullDownRefresh","uni","methods","checkAdminPermission","userInfo","token","tokenArr","payload","role","console","loadData","uniCloud","name","type","uniIdToken","res","errorMsg","debugInfo","fullErrorMsg","title","content","showCancel","confirmText","error","result","code","formatDate","formatTime","formatRatio","getRatioPercent","getDiagnosisLabel","getAgeBandLabel","getDomainLabel","getSubdomainLabel","getDomainsFromSubdomains","Object","domains","getSubdomainsByDomain","key","stats","getSubdomainsByDomainOrdered","order","getActionSubdomainsOrdered","getActionSubdomainCount","hasSubdomainInDomain","getSubdomainCount","getAllAgeBands","getAgeBandSubdomainValue","getBarColorClass","toggleNotAchieved","isNotAchievedExpanded","getNotAchievedByDomain","notAchieved","getNotAchievedByAgeBand","setNotAchievedFilter","getNotAchievedFilter","getFilteredNotAchieved","filtered","toggleDomain","assessmentId","domain","oldState","newState","isDomainExpanded","getWalkTimeLabel","getCrawlLabel","getVisionStatusLabel","getVisionSubLabel","getEpilepsyLabel","getCaregiverLabel","goBack","goToInitQuestions","url","logout","success"],"mappings":";;;;;;;;;;;;;AAAA;AAE2D;AAC3D;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,kBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkI;AAClI;AAC6D;AACL;AACqC;;;AAG7F;AAC6M;AAC7M,gBAAgB,iNAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,gGAAM;AACR,EAAE,yGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAwzB,CAAgB,uyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACumB50B;AACA;EACA;IACA;IACA;IACA;IACA;EACA;EACA;AACA;AAEA;EACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;EACA;AACA;AAEA;EACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;EACA;AACA;AAEA;EACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;EACA;AACA;AAAA,eAEA;EACAC;IACA;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;IACA;EACA;EACAC;IACA;EACA;EACAC;IACA;MACAC;IACA;EACA;EACAC;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAEA;gBACAC;gBAAA,MACA;kBAAA;kBAAA;gBAAA;gBACA;gBACA;gBAAA;cAAA;gBAIA;gBACAC;gBACA;kBACAC;kBACA;oBACA;sBACAC;sBACAC,2BACA;sBACA;oBACA;sBACAC;sBACA;oBACA;kBACA;gBACA;gBAAA,KAEA;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA,OACA;cAAA;gBAAA;gBAAA;cAAA;gBAEA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAGAA;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,IACA;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBAEA;gBAAA;gBAEA;gBACAL;gBACAI;gBAAA;gBAAA,OAEAE;kBACAC;kBACA7B;oBACA8B;oBACAC;oBACA;oBACA;kBACA;gBACA;cAAA;gBARAC;gBAUAN;gBAEA;kBACA1B;kBACA0B;oBACAhB;oBACAC;kBACA;kBAEA;kBACA;kBACA;kBACA;gBACA;kBACAsB;kBACAC;kBACAR;;kBAEA;kBACAS;kBACA;oBACAA;kBACA;kBAEAjB;oBACAkB;oBACAC;oBACAC;oBACAC;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAb;gBACAO;gBACAP;kBACAc;kBACAC;kBACAC;gBACA;gBACAxB;kBACAkB;kBACAC;kBACAC;gBACA;cAAA;gBAAA;gBAEA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACAK;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;MACA;MACAC;QACA;UACAC;QACA;MACA;MACA;IACA;IAEA;IACAC;MACA;QACA;MACA;MACA;MACA;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;MACA;MAEAF;QAAA;UAAAG;UAAAC;QACA;UACA;UACA;UACA;UACA;YACAf;UACA;QACA;MACA;MACA;IACA;IAEA;IACAgB;MACA;MACA;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;MACA;MACA;MACA;MACAC;QACAN;UAAA;YAAAG;YAAAC;UACA;YACAf;cAAAc;YAAA;UACA;QACA;MACA;MACA;MACAH;QAAA;UAAAG;UAAAC;QACA;UACAf;YAAAc;UAAA;QACA;MACA;MACA;IACA;IAEA;IACAI;MACA;MACA;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;QACA;MACA;;MAEA;MACA;MACA;MAEA;QACA;MACA;MAEA;IACA;IAEA;IACAC;MACA;MACA;MACA;MACA;IACA;IAEA;IAEA;IACAC;MACA;MACA;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;MACA;MACAC;QACA;QACA5B;MACA;MACA;IACA;IAEA;IACA6B;MACA;MACA;MACAD;QACA;QACA5B;MACA;MACA;IACA;IAEA;IACA8B;MACA;MACA;QACA;MACA;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;QACA;MACA;MACA;IACA;IAEA;IACAC;MACA;MAEA;MAEA;;MAEA;MACA;QACAC;UAAA;QAAA;MACA;MAEA;IACA;IAEA;IACAC;MACA;MACA;MACA;MACA;MACA;MACAjD;QACAkD;QACAC;QACAtB;QACAuB;QACAC;MACA;IACA;IAEA;IACAC;MACA;MACA;IACA;IAEA;IACAC;MACA;QACA;QACA;QACA;MACA;MACA;IACA;IAEA;IACAC;MACA;QACA;QACA;QACA;MACA;MACA;IACA;IAEA;IACAC;MACA;QACA;QACA;QACA;MACA;MACA;IACA;IAEA;IACAC;MACA;QACA;QACA;MACA;MACA;IACA;IAEA;IACAC;MACA;QACA;QACA;QACA;MACA;MACA;IACA;IAEA;IACAC;MACA;QACA;QACA;QACA;QACA;MACA;MACA;IACA;IAEA;IACAC;MACArE;IACA;IAEA;IACAsE;MACAtE;QACAuE;MACA;IACA;IAEA;IACAC;MACAxE;QACAkB;QACAC;QACAsD;UACA;YACA;YACAzE;YACAA;;YAEA;YACAA;cACAuE;YACA;UACA;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AChqCA;AAAA;AAAA;AAAA;AAAurC,CAAgB,4nCAAG,EAAC,C;;;;;;;;;;;ACA3sC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/admin/dashboard/dashboard.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/vue-cli-plugin-uni/packages/uni-cloud/dist/index.js';\nimport Vue from 'vue'\nimport Page from './pages/admin/dashboard/dashboard.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./dashboard.vue?vue&type=template&id=0f895370&scoped=true&\"\nvar renderjs\nimport script from \"./dashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./dashboard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./dashboard.vue?vue&type=style&index=0&id=0f895370&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f895370\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/admin/dashboard/dashboard.vue\"\nexport default component.exports","export * from \"-!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./dashboard.vue?vue&type=template&id=0f895370&scoped=true&\"","var render = function () {}\nvar staticRenderFns = []\nvar recyclableRender\nvar components\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./dashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./dashboard.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"admin-dashboard\">\r\n\t\t<!-- 权限检查 -->\r\n\t\t<view v-if=\"!isAdmin\" class=\"no-permission\">\r\n\t\t\t<view class=\"permission-card\">\r\n\t\t\t\t<text class=\"permission-title\">权限不足</text>\r\n\t\t\t\t<text class=\"permission-desc\">您没有管理员权限，无法访问此页面</text>\r\n\t\t\t\t<button class=\"permission-btn\" @click=\"goBack\">返回</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 管理员面板 -->\r\n\t\t<view v-else class=\"dashboard-content\">\r\n\t\t\t<!-- 顶部标题栏 -->\r\n\t\t\t<view class=\"dashboard-header\">\r\n\t\t\t\t<text class=\"dashboard-title\">管理员面板</text>\r\n\t\t\t\t<view class=\"header-actions\">\r\n\t\t\t\t\t<text class=\"action-btn\" @click=\"goToInitQuestions\">初始化题目</text>\r\n\t\t\t\t\t<text class=\"action-btn\" @click=\"logout\">退出登录</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 顶部统计卡片 -->\r\n\t\t\t<view class=\"stats-cards\">\r\n\t\t\t\t<view class=\"stat-card\">\r\n\t\t\t\t\t<text class=\"stat-value\">{{ profilesCount }}</text>\r\n\t\t\t\t\t<text class=\"stat-label\">儿童档案</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"stat-card\">\r\n\t\t\t\t\t<text class=\"stat-value\">{{ assessmentsCount }}</text>\r\n\t\t\t\t\t<text class=\"stat-label\">评估记录</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 数据加载状态 -->\r\n\t\t\t<view v-if=\"loading\" class=\"loading-container\">\r\n\t\t\t\t<uni-load-more status=\"loading\" :content-text=\"loadingText\"></uni-load-more>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 标签页 -->\r\n\t\t\t<view v-else class=\"tabs-container\">\r\n\t\t\t\t<view class=\"tabs\">\r\n\t\t\t\t\t<view \r\n\t\t\t\t\t\tclass=\"tab-item\" \r\n\t\t\t\t\t\t:class=\"{ active: activeTab === 'profiles' }\"\r\n\t\t\t\t\t\t@click=\"activeTab = 'profiles'\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<text>儿童档案</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view \r\n\t\t\t\t\t\tclass=\"tab-item\" \r\n\t\t\t\t\t\t:class=\"{ active: activeTab === 'assessments' }\"\r\n\t\t\t\t\t\t@click=\"activeTab = 'assessments'\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<text>评估记录</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- 儿童档案列表 -->\r\n\t\t\t\t<view v-if=\"activeTab === 'profiles'\" class=\"tab-content\">\r\n\t\t\t\t\t<view class=\"list-header\">\r\n\t\t\t\t\t\t<text class=\"header-title\">儿童档案列表 ({{ profilesCount }})</text>\r\n\t\t\t\t\t\t<text class=\"refresh-btn\" @click=\"loadData\">刷新</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"profile-list\">\r\n\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\tv-for=\"(profile, index) in profiles\" \r\n\t\t\t\t\t\t\t:key=\"profile._id || index\"\r\n\t\t\t\t\t\t\tclass=\"profile-item\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<!-- 基本信息卡片 -->\r\n\t\t\t\t\t\t\t<view class=\"profile-section\">\r\n\t\t\t\t\t\t\t\t<view class=\"section-header\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"section-title\">基本信息</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"profile-basic-info\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"info-row\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-label\">姓名：</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-value\">{{ profile.name || '-' }}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"info-row\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-label\">性别：</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-value\">{{ profile.gender === 'male' ? '男' : (profile.gender === 'female' ? '女' : '-') }}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"info-row\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-label\">出生日期：</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-value\">{{ formatDate(profile.birthDate) }}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"info-row\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-label\">档案ID：</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-value info-id\">{{ profile._id ? profile._id.substring(0, 12) + '...' : '-' }}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t<!-- 医疗诊断 -->\r\n\t\t\t\t\t\t\t<view v-if=\"profile.diagnosis && profile.diagnosis.length > 0\" class=\"profile-section\">\r\n\t\t\t\t\t\t\t\t<view class=\"section-header\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"section-title\">医疗诊断</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"diagnosis-tags\">\r\n\t\t\t\t\t\t\t\t\t<text \r\n\t\t\t\t\t\t\t\t\t\tv-for=\"(diag, idx) in profile.diagnosis\" \r\n\t\t\t\t\t\t\t\t\t\t:key=\"idx\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"diagnosis-tag\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{{ getDiagnosisLabel(diag) }}\r\n\t\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t<!-- 行为习惯 -->\r\n\t\t\t\t\t\t\t<view v-if=\"profile.habits\" class=\"profile-section\">\r\n\t\t\t\t\t\t\t\t<view class=\"section-header\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"section-title\">行为习惯</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"profile-detail-info\">\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"profile.habits.walkTime\" class=\"info-row\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-label\">行走时间：</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-value\">{{ getWalkTimeLabel(profile.habits.walkTime) }}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"profile.habits.crawl\" class=\"info-row\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-label\">爬行情况：</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-value\">{{ getCrawlLabel(profile.habits.crawl, profile.habits.crawlMonths) }}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"profile.habits.kneel !== undefined && profile.habits.kneel !== null\" class=\"info-row\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-label\">跪走：</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-value\">{{ profile.habits.kneel ? '会' : '不会' }}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"profile.habits.hand\" class=\"info-row\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-label\">惯用手：</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-value\">{{ profile.habits.hand === 'left' ? '左手' : (profile.habits.hand === 'right' ? '右手' : '-') }}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t<!-- 视觉障碍 -->\r\n\t\t\t\t\t\t\t<view v-if=\"profile.vision\" class=\"profile-section\">\r\n\t\t\t\t\t\t\t\t<view class=\"section-header\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"section-title\">视觉障碍</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"profile-detail-info\">\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"profile.vision.status\" class=\"info-row\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-label\">视觉状态：</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-value\">{{ getVisionStatusLabel(profile.vision.status) }}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"profile.vision.sub && profile.vision.sub.length > 0\" class=\"info-row\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-label\">视觉子项：</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-value\">{{ profile.vision.sub.map(s => getVisionSubLabel(s)).join('、') }}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t<!-- 听觉障碍 -->\r\n\t\t\t\t\t\t\t<view v-if=\"profile.hearing\" class=\"profile-section\">\r\n\t\t\t\t\t\t\t\t<view class=\"section-header\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"section-title\">听觉障碍</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"profile-detail-info\">\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"profile.hearing.status\" class=\"info-row\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-label\">听觉状态：</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-value\">{{ profile.hearing.status === 'normal' ? '正常' : '听障' }}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"profile.hearing.status === 'impaired' && (profile.hearing.dbLeft || profile.hearing.dbRight)\" class=\"info-row\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-label\">听力分贝：</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-value\">\r\n\t\t\t\t\t\t\t\t\t\t\t左耳：{{ profile.hearing.dbLeft || '-' }}dB / \r\n\t\t\t\t\t\t\t\t\t\t\t右耳：{{ profile.hearing.dbRight || '-' }}dB\r\n\t\t\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t<!-- 癫痫症 -->\r\n\t\t\t\t\t\t\t<view v-if=\"profile.epilepsy\" class=\"profile-section\">\r\n\t\t\t\t\t\t\t\t<view class=\"section-header\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"section-title\">癫痫症</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"profile-detail-info\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"info-row\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-label\">状态：</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-value\">{{ getEpilepsyLabel(profile.epilepsy) }}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t<!-- 联系信息 -->\r\n\t\t\t\t\t\t\t<view class=\"profile-section\">\r\n\t\t\t\t\t\t\t\t<view class=\"section-header\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"section-title\">联系信息</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"profile-detail-info\">\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"profile.caregiver\" class=\"info-row\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-label\">主要照顾者：</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-value\">{{ getCaregiverLabel(profile.caregiver) }}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"profile.phone\" class=\"info-row\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-label\">联系电话：</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-value info-phone\">{{ profile.phone }}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"profile.homeGuide !== undefined && profile.homeGuide !== null\" class=\"info-row\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-label\">居家辅导需求：</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"info-value\">{{ profile.homeGuide ? '是' : '否' }}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t<!-- 备注信息 -->\r\n\t\t\t\t\t\t\t<view v-if=\"profile.notes\" class=\"profile-section\">\r\n\t\t\t\t\t\t\t\t<view class=\"section-header\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"section-title\">备注信息</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"profile-notes\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"notes-text\">{{ profile.notes }}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t<!-- 时间信息 -->\r\n\t\t\t\t\t\t\t<view class=\"profile-section profile-meta\">\r\n\t\t\t\t\t\t\t\t<view class=\"info-row\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"info-label\">创建时间：</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"info-value\">{{ formatTime(profile.createdAt) }}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view v-if=\"profile.updatedAt && profile.updatedAt !== profile.createdAt\" class=\"info-row\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"info-label\">更新时间：</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"info-value\">{{ formatTime(profile.updatedAt) }}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view v-if=\"profile.ownerUid\" class=\"info-row\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"info-label\">家长UID：</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"info-value info-id\">{{ profile.ownerUid.substring(0, 12) }}...</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"profiles.length === 0\" class=\"empty-state\">\r\n\t\t\t\t\t\t\t<text>暂无儿童档案</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- 评估记录列表 -->\r\n\t\t\t\t<view v-if=\"activeTab === 'assessments'\" class=\"tab-content\">\r\n\t\t\t\t\t<view class=\"list-header\">\r\n\t\t\t\t\t\t<text class=\"header-title\">评估记录列表 ({{ assessmentsCount }})</text>\r\n\t\t\t\t\t\t<view class=\"header-actions\">\r\n\t\t\t\t\t\t\t<text class=\"view-toggle-btn\" :class=\"{ active: assessmentViewMode === 'chart' }\" @click=\"assessmentViewMode = 'chart'\">图表</text>\r\n\t\t\t\t\t\t\t<text class=\"view-toggle-btn\" :class=\"{ active: assessmentViewMode === 'table' }\" @click=\"assessmentViewMode = 'table'\">表格</text>\r\n\t\t\t\t\t\t\t<text class=\"refresh-btn\" @click=\"loadData\">刷新</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"assessment-list\">\r\n\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\tv-for=\"(assessment, index) in assessments\" \r\n\t\t\t\t\t\t\t:key=\"assessment._id || index\"\r\n\t\t\t\t\t\t\tclass=\"assessment-item\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<!-- 评估基本信息 -->\r\n\t\t\t\t\t\t\t<view class=\"assessment-header\">\r\n\t\t\t\t\t\t\t\t<text class=\"assessment-child-name\">{{ assessment.childName || '未知儿童' }}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"assessment-time\">{{ formatTime(assessment.createdAt) }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view v-if=\"assessment.stats && assessment.stats.overall\" class=\"assessment-stats\">\r\n\t\t\t\t\t\t\t\t<text class=\"stats-text\">\r\n\t\t\t\t\t\t\t\t\t总体完成率: {{ formatRatio(assessment.stats.overall.ratio) }}% \r\n\t\t\t\t\t\t\t\t\t({{ assessment.stats.overall.passed }}/{{ assessment.stats.overall.total }})\r\n\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t<!-- 表格视图 -->\r\n\t\t\t\t\t\t\t<view v-if=\"assessmentViewMode === 'table' && assessment.stats && assessment.stats.subdomains\" class=\"assessment-table-view\">\r\n\t\t\t\t\t\t\t\t<view class=\"table-container\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"table-title\">综合能力检测分析图（细项分析）</view>\r\n\t\t\t\t\t\t\t\t\t<scroll-view scroll-x=\"true\" class=\"table-scroll\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"data-table\">\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- 表头：第一行 - 领域分组 -->\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"table-row table-header-row-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"table-cell table-cell-fixed table-cell-age-header\">发育时间</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- 五大感知觉发展 -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"getSubdomainCount(assessment.stats.subdomains, 'sens') > 0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"table-cell table-cell-domain-header\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:style=\"{ width: (getSubdomainCount(assessment.stats.subdomains, 'sens') * 120) + 'rpx' }\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t五大感知觉发展\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- 动作 -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"getActionSubdomainCount(assessment.stats.subdomains) > 0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"table-cell table-cell-domain-header\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:style=\"{ width: (getActionSubdomainCount(assessment.stats.subdomains) * 120) + 'rpx' }\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t动作\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- 社会互动 -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"getSubdomainCount(assessment.stats.subdomains, 'social') > 0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"table-cell table-cell-domain-header\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:style=\"{ width: (getSubdomainCount(assessment.stats.subdomains, 'social') * 120) + 'rpx' }\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t社会互动\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- 认知 -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"getSubdomainCount(assessment.stats.subdomains, 'cog') > 0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"table-cell table-cell-domain-header\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:style=\"{ width: (getSubdomainCount(assessment.stats.subdomains, 'cog') * 120) + 'rpx' }\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t认知\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- 语言 -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"getSubdomainCount(assessment.stats.subdomains, 'lang') > 0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"table-cell table-cell-domain-header\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:style=\"{ width: (getSubdomainCount(assessment.stats.subdomains, 'lang') * 120) + 'rpx' }\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t语言\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- 口腔动作 -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"getSubdomainCount(assessment.stats.subdomains, 'oral') > 0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"table-cell table-cell-domain-header\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:style=\"{ width: (getSubdomainCount(assessment.stats.subdomains, 'oral') * 120) + 'rpx' }\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t口腔动作\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- 表头：第二行 - 子领域 -->\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"table-row table-header-row-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"table-cell table-cell-fixed table-cell-age-header\">发育时间</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- 感知觉子领域 -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"subdomain in getSubdomainsByDomainOrdered(assessment.stats.subdomains, 'sens')\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"subdomain.key\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"table-cell table-cell-subheader\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ getSubdomainLabel(subdomain.subdomain) }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- 动作子领域 -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"subdomain in getActionSubdomainsOrdered(assessment.stats.subdomains)\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"subdomain.key\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"table-cell table-cell-subheader\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ getSubdomainLabel(subdomain.subdomain) }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- 社会互动子领域 -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"subdomain in getSubdomainsByDomainOrdered(assessment.stats.subdomains, 'social')\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"subdomain.key\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"table-cell table-cell-subheader\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ getSubdomainLabel(subdomain.subdomain) }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- 认知子领域 -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"subdomain in getSubdomainsByDomainOrdered(assessment.stats.subdomains, 'cog')\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"subdomain.key\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"table-cell table-cell-subheader\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ getSubdomainLabel(subdomain.subdomain) }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- 语言子领域 -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"subdomain in getSubdomainsByDomainOrdered(assessment.stats.subdomains, 'lang')\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"subdomain.key\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"table-cell table-cell-subheader\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ getSubdomainLabel(subdomain.subdomain) }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- 口腔动作子领域 -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"subdomain in getSubdomainsByDomainOrdered(assessment.stats.subdomains, 'oral')\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"subdomain.key\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"table-cell table-cell-subheader\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ getSubdomainLabel(subdomain.subdomain) }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- 数据行：按年龄段显示子领域统计 -->\r\n\t\t\t\t\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"ageBand in getAllAgeBands()\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t:key=\"ageBand\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"table-row table-data-row\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"table-cell table-cell-fixed table-cell-age\">{{ getAgeBandLabel(ageBand) }}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- 感知觉子领域数据 -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"subdomain in getSubdomainsByDomainOrdered(assessment.stats.subdomains, 'sens')\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"subdomain.key\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"table-cell table-cell-data\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ getAgeBandSubdomainValue(assessment.ageBandSubdomainStats, ageBand, subdomain.subdomain) }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- 动作子领域数据 -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"subdomain in getActionSubdomainsOrdered(assessment.stats.subdomains)\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"subdomain.key\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"table-cell table-cell-data\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ getAgeBandSubdomainValue(assessment.ageBandSubdomainStats, ageBand, subdomain.subdomain) }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- 社会互动子领域数据 -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"subdomain in getSubdomainsByDomainOrdered(assessment.stats.subdomains, 'social')\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"subdomain.key\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"table-cell table-cell-data\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ getAgeBandSubdomainValue(assessment.ageBandSubdomainStats, ageBand, subdomain.subdomain) }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- 认知子领域数据 -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"subdomain in getSubdomainsByDomainOrdered(assessment.stats.subdomains, 'cog')\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"subdomain.key\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"table-cell table-cell-data\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ getAgeBandSubdomainValue(assessment.ageBandSubdomainStats, ageBand, subdomain.subdomain) }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- 语言子领域数据 -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"subdomain in getSubdomainsByDomainOrdered(assessment.stats.subdomains, 'lang')\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"subdomain.key\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"table-cell table-cell-data\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ getAgeBandSubdomainValue(assessment.ageBandSubdomainStats, ageBand, subdomain.subdomain) }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- 口腔动作子领域数据 -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"subdomain in getSubdomainsByDomainOrdered(assessment.stats.subdomains, 'oral')\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"subdomain.key\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"table-cell table-cell-data\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ getAgeBandSubdomainValue(assessment.ageBandSubdomainStats, ageBand, subdomain.subdomain) }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</scroll-view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<!-- 未完成题目列表 -->\r\n\t\t\t\t\t\t\t\t<view v-if=\"assessment.notAchieved && assessment.notAchieved.length > 0\" class=\"not-achieved-section\">\r\n\t\t\t\t\t\t\t\t\t<!-- 标题栏（可点击折叠/展开） -->\r\n\t\t\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\t\t\tclass=\"section-title-bar\" \r\n\t\t\t\t\t\t\t\t\t\t@click=\"toggleNotAchieved(assessment._id || index)\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"section-title\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"title-icon\">{{ isNotAchievedExpanded(assessment._id || index) ? '▼' : '▶' }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t<text>未完成题目 ({{ assessment.notAchieved.length }}题)</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"section-summary\">\r\n\t\t\t\t\t\t\t\t\t\t\t点击{{ isNotAchievedExpanded(assessment._id || index) ? '收起' : '展开' }}查看详情\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<!-- 统计摘要（始终显示） -->\r\n\t\t\t\t\t\t\t\t\t<view class=\"not-achieved-summary\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"summary-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"summary-label\">按领域统计：</text>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"summary-tags\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"(count, domain) in getNotAchievedByDomain(assessment.notAchieved)\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"domain\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"summary-tag\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ getDomainLabel(domain) }}: {{ count }}题\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"summary-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"summary-label\">按年龄段统计：</text>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"summary-tags\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"(count, ageBand) in getNotAchievedByAgeBand(assessment.notAchieved)\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"ageBand\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"summary-tag\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ getAgeBandLabel(ageBand) }}: {{ count }}题\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<!-- 详细列表（折叠/展开） -->\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"isNotAchievedExpanded(assessment._id || index)\" class=\"not-achieved-detail\">\r\n\t\t\t\t\t\t\t\t\t\t<!-- 筛选器 -->\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"filter-bar\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"filter-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"filter-label\">领域：</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"filter-options\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"filter-option\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"{ active: getNotAchievedFilter(assessment._id || index, 'domain') === 'all' }\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"setNotAchievedFilter(assessment._id || index, 'domain', 'all')\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t全部\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"domain in Object.keys(getNotAchievedByDomain(assessment.notAchieved))\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"domain\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"filter-option\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"{ active: getNotAchievedFilter(assessment._id || index, 'domain') === domain }\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"setNotAchievedFilter(assessment._id || index, 'domain', domain)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ getDomainLabel(domain) }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<!-- 题目列表 -->\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"not-achieved-list\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"(item, itemIndex) in getFilteredNotAchieved(assessment._id || index, assessment.notAchieved)\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t:key=\"itemIndex\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"not-achieved-item\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"item-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"item-badge age-badge\">{{ getAgeBandLabel(item.ageBand) }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"item-badge domain-badge\">{{ getDomainLabel(item.domain) }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"item-badge subdomain-badge\">{{ getSubdomainLabel(item.subdomain) }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"item-content\">{{ item.title }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- 显示数量提示 -->\r\n\t\t\t\t\t\t\t\t\t\t\t<view v-if=\"getFilteredNotAchieved(assessment._id || index, assessment.notAchieved).length === 0\" class=\"empty-filter\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text>该筛选条件下没有未完成题目</text>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t<!-- 领域统计柱状图（可点击展开子领域） -->\r\n\t\t\t\t\t\t\t<view v-if=\"assessmentViewMode === 'chart' && assessment.stats && assessment.stats.domains\" class=\"assessment-charts\">\r\n\t\t\t\t\t\t\t\t<view class=\"chart-section\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"chart-title\">领域统计（点击展开子领域）</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"chart-container\">\r\n\t\t\t\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\t\t\t\tv-for=\"(domainStats, domain) in assessment.stats.domains\" \r\n\t\t\t\t\t\t\t\t\t\t\t:key=\"domain\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"chart-item chart-item-domain\"\r\n\t\t\t\t\t\t\t\t\t\t\t:class=\"{ 'chart-item-expanded': isDomainExpanded(assessment._id || index, domain) }\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"chart-label-row chart-label-row-clickable\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t@click.stop=\"toggleDomain(assessment._id || index, domain)\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"chart-label-with-icon\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"chart-expand-icon\" :class=\"{ 'chart-expand-icon-expanded': isDomainExpanded(assessment._id || index, domain) }\">▶</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"chart-label\">{{ getDomainLabel(domain) }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"chart-value\">{{ formatRatio(domainStats.ratio) }}%</text>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"chart-bar-container\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"chart-bar\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"getBarColorClass(domainStats.ratio)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:style=\"{ width: getRatioPercent(domainStats.ratio) + '%' }\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t></view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"chart-detail\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text>{{ domainStats.passed }}/{{ domainStats.total }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- 子领域展开区域 - 垂直柱状图 -->\r\n\t\t\t\t\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"isDomainExpanded(assessment._id || index, domain) && assessment.stats.subdomains\" \r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"subdomain-expanded\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"subdomain-chart-container\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"subdomain-chart-bars\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"(subdomainStats, subdomainKey) in getSubdomainsByDomain(assessment.stats.subdomains, domain)\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"subdomainKey\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"subdomain-chart-bar\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"subdomain-bar-container\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"subdomain-bar-fill\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"getBarColorClass(subdomainStats.ratio)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:style=\"{ height: getRatioPercent(subdomainStats.ratio) + '%' }\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t></view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"subdomain-bar-label\">{{ getSubdomainLabel(subdomainStats.subdomain) }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"subdomain-bar-value\">{{ formatRatio(subdomainStats.ratio) }}%</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"subdomain-bar-count\">{{ subdomainStats.passed }}/{{ subdomainStats.total }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"assessments.length === 0\" class=\"empty-state\">\r\n\t\t\t\t\t\t\t<text>暂无评估记录</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n// 标签映射函数\r\nconst getDiagnosisLabel = (diag) => {\r\n\tconst map = {\r\n\t\t'cerebralPalsy': '脑瘫',\r\n\t\t'devDelay': '发育迟缓',\r\n\t\t'autism': '孤独症',\r\n\t\t'rare': '罕见疾病'\r\n\t};\r\n\treturn map[diag] || diag;\r\n};\r\n\r\nconst getAgeBandLabel = (ageBand) => {\r\n\tconst map = {\r\n\t\t'1_3m': '1-3个月',\r\n\t\t'3_6m': '3-6个月',\r\n\t\t'6_9m': '6-9个月',\r\n\t\t'9_12m': '9-12个月',\r\n\t\t'12_18m': '12-18个月',\r\n\t\t'18_24m': '18-24个月',\r\n\t\t'24_30m': '24-30个月',\r\n\t\t'30_36m': '30-36个月',\r\n\t\t'36_48m': '36-48个月',\r\n\t\t'48_60m': '48-60个月',\r\n\t\t'60_72m': '60-72个月'\r\n\t};\r\n\treturn map[ageBand] || ageBand;\r\n};\r\n\r\nconst getDomainLabel = (domain) => {\r\n\tconst map = {\r\n\t\t// 领域映射\r\n\t\t'gross': '粗大动作',\r\n\t\t'fine': '精细动作',\r\n\t\t'cog': '认知',\r\n\t\t'lang': '语言',\r\n\t\t'sens': '感知觉',\r\n\t\t'oral': '口腔动作',\r\n\t\t'social': '社会互动'\r\n\t};\r\n\treturn map[domain] || domain;\r\n};\r\n\r\nconst getSubdomainLabel = (subdomain) => {\r\n\tconst map = {\r\n\t\t'OSV': '视知觉',\r\n\t\t'OSH': '听知觉',\r\n\t\t'OST': '触知觉',\r\n\t\t'ISP': '本体运动知觉',\r\n\t\t'ISV': '前庭平衡知觉',\r\n\t\t'GM': '躯肢体粗大动作',\r\n\t\t'UEM': '双上肢粗大动作（视动协调）',\r\n\t\t'UES': '双上肢粗大动作（操作技能）',\r\n\t\t'FM': '精细动作',\r\n\t\t'OM': '口腔动作',\r\n\t\t'SIP': '社会互动（与人互动）',\r\n\t\t'SIE': '社会互动（与其他互动）',\r\n\t\t'SIS': '社会互动（情绪与自我）',\r\n\t\t'MAN': '认知（注意-非动作）',\r\n\t\t'MRN': '认知（记忆-非动作）',\r\n\t\t'MCN': '认知（概念-非动作）',\r\n\t\t'MIN': '认知（推理-非动作）',\r\n\t\t'MAY': '认知（注意-动作）',\r\n\t\t'MRY': '认知（记忆-动作）',\r\n\t\t'MCY': '认知（概念-动作）',\r\n\t\t'MIY': '认知（推理-动作）',\r\n\t\t'MLUY': '语言（口语理解）',\r\n\t\t'MLUN': '语言（非语言理解）',\r\n\t\t'MLEY': '语言（口语表达）',\r\n\t\t'MLEN': '语言（非语言表达）'\r\n\t};\r\n\treturn map[subdomain] || subdomain;\r\n};\r\n\r\nexport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tisAdmin: false,\r\n\t\t\t\tloading: true,\r\n\t\t\t\tloadingText: {\r\n\t\t\t\t\tcontentdown: '加载中...',\r\n\t\t\t\t\tcontentrefresh: '加载中...',\r\n\t\t\t\t\tcontentnomore: '没有更多数据了'\r\n\t\t\t\t},\r\n\t\t\t\tactiveTab: 'profiles',\r\n\t\t\t\tprofiles: [],\r\n\t\t\tassessments: [],\r\n\t\t\tprofilesCount: 0,\r\n\t\t\tassessmentsCount: 0,\r\n\t\t\texpandedDomains: {}, // 存储展开的领域 { assessmentId_domain: true }\r\n\t\t\tassessmentViewMode: 'chart', // 'chart' | 'table' - 评估记录视图模式\r\n\t\t\texpandedNotAchieved: {}, // 记录哪些评估的未完成题目已展开\r\n\t\t\tnotAchievedFilters: {} // 记录每个评估的筛选条件\r\n\t\t}\r\n\t},\r\n\tonLoad() {\r\n\t\tthis.checkAdminPermission();\r\n\t},\r\n\tonPullDownRefresh() {\r\n\t\tthis.loadData().finally(() => {\r\n\t\t\tuni.stopPullDownRefresh();\r\n\t\t});\r\n\t},\r\n\tmethods: {\r\n\t\t// 检查管理员权限\r\n\t\tasync checkAdminPermission() {\r\n\t\t\ttry {\r\n\t\t\t\t// 获取当前用户信息\r\n\t\t\t\tconst userInfo = uniCloud.getCurrentUserInfo && uniCloud.getCurrentUserInfo();\r\n\t\t\t\tif (!userInfo || !userInfo.uid) {\r\n\t\t\t\t\tthis.isAdmin = false;\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 检查角色（uni-id-pages 的方式）\r\n\t\t\t\tconst token = uni.getStorageSync('uni_id_token') || '';\r\n\t\t\t\tif (token) {\r\n\t\t\t\t\tconst tokenArr = token.split('.');\r\n\t\t\t\t\tif (tokenArr.length === 3) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tconst payload = JSON.parse(decodeURIComponent(escape(atob(tokenArr[1]))));\r\n\t\t\t\t\t\t\tconst role = payload.role || [];\r\n\t\t\t\t\t\t\t// 检查是否是管理员（role 是数组，包含 'admin'）\r\n\t\t\t\t\t\t\tthis.isAdmin = Array.isArray(role) ? role.includes('admin') : role === 'admin';\r\n\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\tconsole.warn('解析 token 失败:', e);\r\n\t\t\t\t\t\t\tthis.isAdmin = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.isAdmin) {\r\n\t\t\t\t\tawait this.loadData();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('检查权限失败:', error);\r\n\t\t\t\tthis.isAdmin = false;\r\n\t\t\t\tthis.loading = false;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// 加载数据\r\n\t\tasync loadData() {\r\n\t\t\tif (!this.isAdmin) return;\r\n\r\n\t\t\tthis.loading = true;\r\n\t\t\ttry {\r\n\t\t\t\t// 获取 token 并传递给云函数\r\n\t\t\t\tconst token = uni.getStorageSync('uni_id_token') || '';\r\n\t\t\t\tconsole.log('[dashboard] 调用云函数，token 存在:', !!token);\r\n\t\t\t\t\r\n\t\t\t\tconst res = await uniCloud.callFunction({\r\n\t\t\t\t\tname: 'getAdminData',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\ttype: 'all',\r\n\t\t\t\t\t\tuniIdToken: token  // 手动传递 token\r\n\t\t\t\t\t\t// 临时调试：如果需要，可以添加 _bypassAuth: true 来跳过权限检查（仅用于调试）\r\n\t\t\t\t\t\t// _bypassAuth: true\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tconsole.log('[dashboard] 云函数返回结果:', res);\r\n\t\t\t\t\r\n\t\t\t\tif (res.result && res.result.code === 0) {\r\n\t\t\t\t\tconst data = res.result.data;\r\n\t\t\t\t\tconsole.log('[dashboard] 获取到的数据:', {\r\n\t\t\t\t\t\tprofilesCount: data.profilesCount,\r\n\t\t\t\t\t\tassessmentsCount: data.assessmentsCount\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.profiles = data.profiles || [];\r\n\t\t\t\t\tthis.assessments = data.assessments || [];\r\n\t\t\t\t\tthis.profilesCount = data.profilesCount || 0;\r\n\t\t\t\t\tthis.assessmentsCount = data.assessmentsCount || 0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst errorMsg = res.result?.msg || res.errMsg || '获取数据失败';\r\n\t\t\t\t\tconst debugInfo = res.result?.debug;\r\n\t\t\t\t\tconsole.error('[dashboard] 云函数返回错误:', res.result);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 显示详细的错误信息（包括调试信息）\r\n\t\t\t\t\tlet fullErrorMsg = errorMsg;\r\n\t\t\t\t\tif (res.result?.code === 403 && debugInfo) {\r\n\t\t\t\t\t\tfullErrorMsg += `\\n\\n调试信息:\\n角色: ${debugInfo.role}\\nUID: ${debugInfo.uid || '未获取'}\\ncontext.auth: ${JSON.stringify(debugInfo.contextAuth || {})}`;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: '获取数据失败',\r\n\t\t\t\t\t\tcontent: fullErrorMsg + (res.result?.code ? ` (错误码: ${res.result.code})` : ''),\r\n\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\tconfirmText: '我知道了'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('加载数据失败:', error);\r\n\t\t\t\tconst errorMsg = error.message || error.errMsg || '加载数据失败';\r\n\t\t\t\tconsole.error('[dashboard] 详细错误信息:', {\r\n\t\t\t\t\terror,\r\n\t\t\t\t\tresult: error.result,\r\n\t\t\t\t\tcode: error.code\r\n\t\t\t\t});\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '加载失败',\r\n\t\t\t\t\tcontent: errorMsg + (error.code ? ` (错误码: ${error.code})` : ''),\r\n\t\t\t\t\tshowCancel: false\r\n\t\t\t\t});\r\n\t\t\t} finally {\r\n\t\t\t\tthis.loading = false;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// 格式化日期\r\n\t\tformatDate(dateStr) {\r\n\t\t\tif (!dateStr) return '-';\r\n\t\t\treturn dateStr;\r\n\t\t},\r\n\r\n\t\t// 格式化时间戳\r\n\t\tformatTime(timestamp) {\r\n\t\t\tif (!timestamp) return '-';\r\n\t\t\tconst date = new Date(timestamp);\r\n\t\t\treturn `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')} ${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}`;\r\n\t\t},\r\n\r\n\t\t// 格式化比例（转换为百分比并保留1位小数，返回字符串）\r\n\t\tformatRatio(ratio) {\r\n\t\t\tif (ratio === undefined || ratio === null) return '0.0';\r\n\t\t\treturn (ratio * 100).toFixed(1);\r\n\t\t},\r\n\r\n\t\t// 获取百分比数值（用于样式绑定）\r\n\t\tgetRatioPercent(ratio) {\r\n\t\t\tif (ratio === undefined || ratio === null) return 0;\r\n\t\t\treturn ratio * 100;\r\n\t\t},\r\n\r\n\t\t// 获取诊断标签\r\n\t\tgetDiagnosisLabel(diag) {\r\n\t\t\treturn getDiagnosisLabel(diag);\r\n\t\t},\r\n\r\n\t\t// 获取年龄段标签\r\n\t\tgetAgeBandLabel(ageBand) {\r\n\t\t\treturn getAgeBandLabel(ageBand);\r\n\t\t},\r\n\r\n\t\t// 获取领域标签\r\n\t\tgetDomainLabel(domain) {\r\n\t\t\treturn getDomainLabel(domain);\r\n\t\t},\r\n\r\n\t\t// 获取子领域标签\r\n\t\tgetSubdomainLabel(subdomain) {\r\n\t\t\treturn getSubdomainLabel(subdomain);\r\n\t\t},\r\n\r\n\t\t// 从子领域数据中提取所有领域\r\n\t\tgetDomainsFromSubdomains(subdomains) {\r\n\t\t\tif (!subdomains || typeof subdomains !== 'object') return [];\r\n\t\t\tconst domains = new Set();\r\n\t\t\tObject.values(subdomains).forEach(stats => {\r\n\t\t\t\tif (stats.domain) {\r\n\t\t\t\t\tdomains.add(stats.domain);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn Array.from(domains).sort();\r\n\t\t},\r\n\r\n\t\t// 获取指定领域下的所有子领域\r\n\t\tgetSubdomainsByDomain(subdomains, domain) {\r\n\t\t\tif (!subdomains || typeof subdomains !== 'object') {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\tconst result = {};\r\n\t\t\t// 支持domain代码和中文两种格式\r\n\t\t\tconst domainMap = {\r\n\t\t\t\t'感知觉': 'sens',\r\n\t\t\t\t'粗大动作': 'gross',\r\n\t\t\t\t'精细动作': 'fine',\r\n\t\t\t\t'认知': 'cog',\r\n\t\t\t\t'语言': 'lang',\r\n\t\t\t\t'社会互动': 'social',\r\n\t\t\t\t'口腔动作': 'oral'\r\n\t\t\t};\r\n\t\t\tconst domainCode = domainMap[domain] || domain;\r\n\t\t\t\r\n\t\t\tObject.entries(subdomains).forEach(([key, stats]) => {\r\n\t\t\t\tif (stats) {\r\n\t\t\t\t\tconst statsDomain = stats.domain || '';\r\n\t\t\t\t\tconst statsDomainCode = domainMap[statsDomain] || statsDomain;\r\n\t\t\t\t\t// 匹配domain代码或中文\r\n\t\t\t\t\tif (statsDomainCode === domainCode || statsDomain === domain) {\r\n\t\t\t\t\t\tresult[key] = stats;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn result;\r\n\t\t},\r\n\r\n\t\t// 获取指定领域下的所有子领域（有序数组）\r\n\t\tgetSubdomainsByDomainOrdered(subdomains, domain) {\r\n\t\t\tconst subdomainsObj = this.getSubdomainsByDomain(subdomains, domain);\r\n\t\t\t// 定义子领域显示顺序\r\n\t\t\tconst orderMap = {\r\n\t\t\t\t'sens': ['OSV', 'OSH', 'OST', 'ISP', 'ISV'],\r\n\t\t\t\t'gross': ['GM', 'UEM', 'UES'],\r\n\t\t\t\t'fine': ['FM'],\r\n\t\t\t\t'social': ['SIP', 'SIE', 'SIS'],\r\n\t\t\t\t'cog': ['MAN', 'MRN', 'MCN', 'MIN', 'MAY', 'MRY', 'MCY', 'MIY'],\r\n\t\t\t\t'lang': ['MLUY', 'MLUN', 'MLEY', 'MLEN'],\r\n\t\t\t\t'oral': ['OM']\r\n\t\t\t};\r\n\t\t\tconst order = orderMap[domain] || [];\r\n\t\t\tconst result = [];\r\n\t\t\t// 先按顺序添加\r\n\t\t\torder.forEach(subdomainCode => {\r\n\t\t\t\tObject.entries(subdomainsObj).forEach(([key, stats]) => {\r\n\t\t\t\t\tif (stats.subdomain === subdomainCode) {\r\n\t\t\t\t\t\tresult.push({ key, ...stats });\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\t// 添加未在顺序中的子领域\r\n\t\t\tObject.entries(subdomainsObj).forEach(([key, stats]) => {\r\n\t\t\t\tif (!order.includes(stats.subdomain)) {\r\n\t\t\t\t\tresult.push({ key, ...stats });\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn result;\r\n\t\t},\r\n\r\n\t\t// 获取动作相关的子领域（有序）\r\n\t\tgetActionSubdomainsOrdered(subdomains) {\r\n\t\t\tconst gross = this.getSubdomainsByDomainOrdered(subdomains, 'gross');\r\n\t\t\tconst fine = this.getSubdomainsByDomainOrdered(subdomains, 'fine');\r\n\t\t\treturn [...gross, ...fine];\r\n\t\t},\r\n\r\n\t\t// 获取动作子领域数量\r\n\t\tgetActionSubdomainCount(subdomains) {\r\n\t\t\treturn this.getActionSubdomainsOrdered(subdomains).length;\r\n\t\t},\r\n\r\n\t\t// 检查领域是否有子领域\r\n\t\thasSubdomainInDomain(subdomains, domain) {\r\n\t\t\treturn this.getSubdomainCount(subdomains, domain) > 0;\r\n\t\t},\r\n\r\n\t\t// 获取领域下的子领域数量\r\n\t\tgetSubdomainCount(subdomains, domain) {\r\n\t\t\treturn this.getSubdomainsByDomainOrdered(subdomains, domain).length;\r\n\t\t},\r\n\r\n\t\t// 获取所有年龄段（按顺序）\r\n\t\tgetAllAgeBands() {\r\n\t\t\treturn ['60_72m', '48_60m', '36_48m', '30_36m', '24_30m', '18_24m', '12_18m', '9_12m', '6_9m', '3_6m', '1_3m'];\r\n\t\t},\r\n\r\n\t\t// 获取指定年龄段和子领域的统计值\r\n\t\tgetAgeBandSubdomainValue(ageBandSubdomainStats, ageBand, subdomain) {\r\n\t\t\tif (!ageBandSubdomainStats || typeof ageBandSubdomainStats !== 'object') {\r\n\t\t\t\treturn '0/0';\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// 查找匹配的统计：ageBand::subdomain\r\n\t\t\tconst key = `${ageBand}::${subdomain}`;\r\n\t\t\tconst stats = ageBandSubdomainStats[key];\r\n\t\t\t\r\n\t\t\tif (stats && stats.total !== undefined) {\r\n\t\t\t\treturn `${stats.passed || 0}/${stats.total}`;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn '0/0';\r\n\t\t},\r\n\r\n\t\t// 获取柱状图颜色类\r\n\t\tgetBarColorClass(ratio) {\r\n\t\t\tif (ratio >= 0.8) return 'bar-excellent';\r\n\t\t\tif (ratio >= 0.6) return 'bar-good';\r\n\t\t\tif (ratio >= 0.4) return 'bar-fair';\r\n\t\t\treturn 'bar-poor';\r\n\t\t},\r\n\t\t\r\n\t\t// === 未完成题目相关方法 ===\r\n\t\t\r\n\t\t// 切换未完成题目的展开/折叠\r\n\t\ttoggleNotAchieved(assessmentId) {\r\n\t\t\tconst key = String(assessmentId);\r\n\t\t\tthis.expandedNotAchieved[key] = !this.expandedNotAchieved[key];\r\n\t\t\tthis.$forceUpdate();\r\n\t\t},\r\n\t\t\r\n\t\t// 检查未完成题目是否已展开\r\n\t\tisNotAchievedExpanded(assessmentId) {\r\n\t\t\treturn !!this.expandedNotAchieved[String(assessmentId)];\r\n\t\t},\r\n\t\t\r\n\t\t// 按领域统计未完成题目\r\n\t\tgetNotAchievedByDomain(notAchieved) {\r\n\t\t\tif (!notAchieved || !Array.isArray(notAchieved)) return {};\r\n\t\t\tconst result = {};\r\n\t\t\tnotAchieved.forEach(item => {\r\n\t\t\t\tconst domain = item.domain || '未知';\r\n\t\t\t\tresult[domain] = (result[domain] || 0) + 1;\r\n\t\t\t});\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\t\r\n\t\t// 按年龄段统计未完成题目\r\n\t\tgetNotAchievedByAgeBand(notAchieved) {\r\n\t\t\tif (!notAchieved || !Array.isArray(notAchieved)) return {};\r\n\t\t\tconst result = {};\r\n\t\t\tnotAchieved.forEach(item => {\r\n\t\t\t\tconst ageBand = item.ageBand || '未知';\r\n\t\t\t\tresult[ageBand] = (result[ageBand] || 0) + 1;\r\n\t\t\t});\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\t\r\n\t\t// 设置筛选条件\r\n\t\tsetNotAchievedFilter(assessmentId, filterType, value) {\r\n\t\t\tconst key = String(assessmentId);\r\n\t\t\tif (!this.notAchievedFilters[key]) {\r\n\t\t\t\tthis.notAchievedFilters[key] = {};\r\n\t\t\t}\r\n\t\t\tthis.notAchievedFilters[key][filterType] = value;\r\n\t\t\tthis.$forceUpdate();\r\n\t\t},\r\n\t\t\r\n\t\t// 获取筛选条件\r\n\t\tgetNotAchievedFilter(assessmentId, filterType) {\r\n\t\t\tconst key = String(assessmentId);\r\n\t\t\tif (!this.notAchievedFilters[key]) {\r\n\t\t\t\treturn 'all';\r\n\t\t\t}\r\n\t\t\treturn this.notAchievedFilters[key][filterType] || 'all';\r\n\t\t},\r\n\t\t\r\n\t\t// 获取筛选后的未完成题目\r\n\t\tgetFilteredNotAchieved(assessmentId, notAchieved) {\r\n\t\t\tif (!notAchieved || !Array.isArray(notAchieved)) return [];\r\n\t\t\t\r\n\t\t\tconst domainFilter = this.getNotAchievedFilter(assessmentId, 'domain');\r\n\t\t\t\r\n\t\t\tlet filtered = notAchieved;\r\n\t\t\t\r\n\t\t\t// 按领域筛选\r\n\t\t\tif (domainFilter !== 'all') {\r\n\t\t\t\tfiltered = filtered.filter(item => item.domain === domainFilter);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn filtered;\r\n\t\t},\r\n\r\n\t\t// 切换领域展开/折叠\r\n\t\ttoggleDomain(assessmentId, domain) {\r\n\t\t\t// assessmentId 可能是 _id 或 index，都支持\r\n\t\t\tconst key = `${String(assessmentId)}_${domain}`;\r\n\t\t\tconst currentState = !!this.expandedDomains[key];\r\n\t\t\tconst newState = !currentState;\r\n\t\t\tthis.$set(this.expandedDomains, key, newState);\r\n\t\t\tconsole.log('[toggleDomain] 切换领域展开状态:', {\r\n\t\t\t\tassessmentId,\r\n\t\t\t\tdomain,\r\n\t\t\t\tkey,\r\n\t\t\t\toldState: currentState,\r\n\t\t\t\tnewState: newState\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// 检查领域是否展开\r\n\t\tisDomainExpanded(assessmentId, domain) {\r\n\t\t\tconst key = `${String(assessmentId)}_${domain}`;\r\n\t\t\treturn !!this.expandedDomains[key];\r\n\t\t},\r\n\r\n\t\t// 获取行走时间标签\r\n\t\tgetWalkTimeLabel(walkTime) {\r\n\t\t\tconst map = {\r\n\t\t\t\t'before18m': '18个月前',\r\n\t\t\t\t'after18m': '18个月后',\r\n\t\t\t\t'notyet': '尚未行走'\r\n\t\t\t};\r\n\t\t\treturn map[walkTime] || walkTime;\r\n\t\t},\r\n\r\n\t\t// 获取爬行情况标签\r\n\t\tgetCrawlLabel(crawl, crawlMonths) {\r\n\t\t\tconst map = {\r\n\t\t\t\t'months': crawlMonths ? `${crawlMonths}个月` : '有爬行',\r\n\t\t\t\t'nocrawl': '无爬行',\r\n\t\t\t\t'walkThenCrawl': '先走再爬'\r\n\t\t\t};\r\n\t\t\treturn map[crawl] || crawl;\r\n\t\t},\r\n\r\n\t\t// 获取视觉状态标签\r\n\t\tgetVisionStatusLabel(status) {\r\n\t\t\tconst map = {\r\n\t\t\t\t'normal': '正常',\r\n\t\t\t\t'amblyopia': '弱视',\r\n\t\t\t\t'strabismus': '斜视'\r\n\t\t\t};\r\n\t\t\treturn map[status] || status;\r\n\t\t},\r\n\r\n\t\t// 获取视觉子项标签\r\n\t\tgetVisionSubLabel(sub) {\r\n\t\t\tconst map = {\r\n\t\t\t\t'myopia': '近视',\r\n\t\t\t\t'astigmatism': '散光'\r\n\t\t\t};\r\n\t\t\treturn map[sub] || sub;\r\n\t\t},\r\n\r\n\t\t// 获取癫痫症标签\r\n\t\tgetEpilepsyLabel(epilepsy) {\r\n\t\t\tconst map = {\r\n\t\t\t\t'none': '无',\r\n\t\t\t\t'medicated': '已用药',\r\n\t\t\t\t'unmedicated': '未用药'\r\n\t\t\t};\r\n\t\t\treturn map[epilepsy] || epilepsy;\r\n\t\t},\r\n\r\n\t\t// 获取照顾者标签\r\n\t\tgetCaregiverLabel(caregiver) {\r\n\t\t\tconst map = {\r\n\t\t\t\t'mother': '母亲',\r\n\t\t\t\t'father': '父亲',\r\n\t\t\t\t'grandparent': '祖父母',\r\n\t\t\t\t'other': '其他'\r\n\t\t\t};\r\n\t\t\treturn map[caregiver] || caregiver;\r\n\t\t},\r\n\r\n\t\t// 返回\r\n\t\tgoBack() {\r\n\t\t\tuni.navigateBack();\r\n\t\t},\r\n\t\t\r\n\t\t// 跳转到初始化题目页面\r\n\t\tgoToInitQuestions() {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: '/pages/admin/init-questions'\r\n\t\t\t});\r\n\t\t},\r\n\t\t\r\n\t\t// 退出登录\r\n\t\tlogout() {\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '确认退出',\r\n\t\t\t\tcontent: '确定要退出登录吗？',\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t// 清除登录信息\r\n\t\t\t\t\t\tuni.removeStorageSync('uni_id_token');\r\n\t\t\t\t\t\tuni.removeStorageSync('uni_id_token_expired');\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// 跳转到登录页\r\n\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\turl: '/uni_modules/uni-id-pages/pages/login/login-withpwd'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.admin-dashboard {\r\n\tmin-height: 100vh;\r\n\tbackground: #F8F9FA;\r\n\tpadding: 20rpx;\r\n}\r\n\r\n/* 顶部标题栏 */\r\n.dashboard-header {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tpadding: 30rpx 20rpx;\r\n\tbackground: linear-gradient(135deg, #E93A8A 0%, #009FC2 100%);\r\n\tborder-radius: 20rpx;\r\n\tmargin-bottom: 20rpx;\r\n\tbox-shadow: 0 4rpx 20rpx rgba(233, 58, 138, 0.3);\r\n}\r\n\r\n.dashboard-title {\r\n\tfont-size: 36rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #FFF;\r\n}\r\n\r\n.dashboard-header .header-actions {\r\n\tdisplay: flex;\r\n\tgap: 15rpx;\r\n}\r\n\r\n.action-btn {\r\n\tfont-size: 24rpx;\r\n\tcolor: #FFF;\r\n\tpadding: 12rpx 24rpx;\r\n\tbackground: rgba(255, 255, 255, 0.2);\r\n\tborder-radius: 20rpx;\r\n\tborder: 1rpx solid rgba(255, 255, 255, 0.3);\r\n\tcursor: pointer;\r\n\ttransition: all 0.3s;\r\n}\r\n\r\n.action-btn:active {\r\n\tbackground: rgba(255, 255, 255, 0.3);\r\n\ttransform: scale(0.95);\r\n}\r\n\r\n/* 权限不足提示 */\r\n.no-permission {\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tmin-height: 80vh;\r\n}\r\n\r\n.permission-card {\r\n\tbackground: #fff;\r\n\tborder-radius: 20rpx;\r\n\tpadding: 60rpx 40rpx;\r\n\ttext-align: center;\r\n\tbox-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.permission-title {\r\n\tdisplay: block;\r\n\tfont-size: 36rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #E93A8A;\r\n\tmargin-bottom: 20rpx;\r\n}\r\n\r\n.permission-desc {\r\n\tdisplay: block;\r\n\tfont-size: 28rpx;\r\n\tcolor: #7F8C8D;\r\n\tmargin-bottom: 40rpx;\r\n}\r\n\r\n.permission-btn {\r\n\tbackground: #E93A8A;\r\n\tcolor: #fff;\r\n\tborder-radius: 10rpx;\r\n\tpadding: 20rpx 60rpx;\r\n}\r\n\r\n/* 统计卡片 */\r\n.stats-cards {\r\n\tdisplay: flex;\r\n\tgap: 20rpx;\r\n\tmargin-bottom: 30rpx;\r\n}\r\n\r\n.stat-card {\r\n\tflex: 1;\r\n\tbackground: #fff;\r\n\tborder-radius: 20rpx;\r\n\tpadding: 30rpx;\r\n\ttext-align: center;\r\n\tbox-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.stat-value {\r\n\tdisplay: block;\r\n\tfont-size: 48rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #E93A8A;\r\n\tmargin-bottom: 10rpx;\r\n}\r\n\r\n.stat-label {\r\n\tdisplay: block;\r\n\tfont-size: 24rpx;\r\n\tcolor: #7F8C8D;\r\n}\r\n\r\n/* 加载状态 */\r\n.loading-container {\r\n\tpadding: 100rpx 0;\r\n}\r\n\r\n/* 标签页 */\r\n.tabs-container {\r\n\tbackground: #fff;\r\n\tborder-radius: 20rpx;\r\n\toverflow: hidden;\r\n}\r\n\r\n.tabs {\r\n\tdisplay: flex;\r\n\tbackground: #F5F8FF;\r\n\tborder-bottom: 2rpx solid #E8F4FD;\r\n}\r\n\r\n.tab-item {\r\n\tflex: 1;\r\n\tpadding: 30rpx 0;\r\n\ttext-align: center;\r\n\tfont-size: 28rpx;\r\n\tcolor: #7F8C8D;\r\n\tposition: relative;\r\n}\r\n\r\n.tab-item.active {\r\n\tcolor: #E93A8A;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.tab-item.active::after {\r\n\tcontent: '';\r\n\tposition: absolute;\r\n\tbottom: 0;\r\n\tleft: 50%;\r\n\ttransform: translateX(-50%);\r\n\twidth: 60rpx;\r\n\theight: 4rpx;\r\n\tbackground: #E93A8A;\r\n\tborder-radius: 2rpx;\r\n}\r\n\r\n.tab-content {\r\n\tpadding: 30rpx;\r\n}\r\n\r\n/* 列表头部 */\r\n.list-header {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tmargin-bottom: 30rpx;\r\n}\r\n\r\n.header-title {\r\n\tfont-size: 32rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #333;\r\n}\r\n\r\n.refresh-btn {\r\n\tfont-size: 24rpx;\r\n\tcolor: #E93A8A;\r\n\tpadding: 10rpx 20rpx;\r\n}\r\n\r\n.header-actions {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tgap: 15rpx;\r\n}\r\n\r\n.view-toggle-btn {\r\n\tfont-size: 24rpx;\r\n\tcolor: #7F8C8D;\r\n\tpadding: 8rpx 16rpx;\r\n\tborder-radius: 8rpx;\r\n\tborder: 1rpx solid #E8E8E8;\r\n\tbackground: #fff;\r\n}\r\n\r\n.view-toggle-btn.active {\r\n\tcolor: #E93A8A;\r\n\tborder-color: #E93A8A;\r\n\tbackground: #FFE8F0;\r\n\tfont-weight: 500;\r\n}\r\n\r\n/* 档案列表 */\r\n.profile-list, .assessment-list {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tgap: 30rpx;\r\n}\r\n\r\n.profile-item, .assessment-item {\r\n\tbackground: #fff;\r\n\tborder-radius: 20rpx;\r\n\tpadding: 30rpx;\r\n\tbox-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.08);\r\n\tborder: 1rpx solid #E8E8E8;\r\n}\r\n\r\n/* 档案区块 */\r\n.profile-section {\r\n\tmargin-bottom: 30rpx;\r\n}\r\n\r\n.profile-section:last-child {\r\n\tmargin-bottom: 0;\r\n}\r\n\r\n.profile-section.profile-meta {\r\n\tpadding-top: 20rpx;\r\n\tborder-top: 1rpx solid #F0F0F0;\r\n\tmargin-top: 20rpx;\r\n}\r\n\r\n.section-header {\r\n\tmargin-bottom: 20rpx;\r\n\tpadding-bottom: 10rpx;\r\n\tborder-bottom: 2rpx solid #E93A8A;\r\n}\r\n\r\n.section-title {\r\n\tfont-size: 30rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #E93A8A;\r\n}\r\n\r\n/* 基本信息 */\r\n.profile-basic-info, .profile-detail-info {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tgap: 16rpx;\r\n}\r\n\r\n.info-row {\r\n\tdisplay: flex;\r\n\talign-items: flex-start;\r\n\tfont-size: 26rpx;\r\n\tline-height: 1.6;\r\n}\r\n\r\n.info-label {\r\n\tcolor: #7F8C8D;\r\n\tmin-width: 160rpx;\r\n\tflex-shrink: 0;\r\n}\r\n\r\n.info-value {\r\n\tcolor: #333;\r\n\tflex: 1;\r\n\tword-break: break-all;\r\n}\r\n\r\n.info-value.info-id {\r\n\tfont-family: monospace;\r\n\tfont-size: 22rpx;\r\n\tcolor: #999;\r\n}\r\n\r\n.info-value.info-phone {\r\n\tcolor: #E93A8A;\r\n\tfont-weight: 500;\r\n}\r\n\r\n/* 诊断标签 */\r\n.diagnosis-tags {\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tgap: 12rpx;\r\n}\r\n\r\n.profile-diagnosis {\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tgap: 10rpx;\r\n\talign-items: center;\r\n}\r\n\r\n.diagnosis-tag {\r\n\tfont-size: 24rpx;\r\n\tcolor: #E93A8A;\r\n\tbackground: #FFE8F0;\r\n\tpadding: 8rpx 16rpx;\r\n\tborder-radius: 8rpx;\r\n\tborder: 1rpx solid #FFB6D9;\r\n}\r\n\r\n/* 备注信息 */\r\n.profile-notes {\r\n\tbackground: #F8F9FA;\r\n\tborder-radius: 12rpx;\r\n\tpadding: 20rpx;\r\n\tborder-left: 4rpx solid #E93A8A;\r\n}\r\n\r\n.notes-text {\r\n\tfont-size: 26rpx;\r\n\tcolor: #555;\r\n\tline-height: 1.8;\r\n\twhite-space: pre-wrap;\r\n\tword-break: break-all;\r\n}\r\n\r\n.assessment-header {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tmargin-bottom: 15rpx;\r\n}\r\n\r\n.assessment-child-name {\r\n\tfont-size: 30rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #E93A8A;\r\n}\r\n\r\n.assessment-time {\r\n\tfont-size: 24rpx;\r\n\tcolor: #7F8C8D;\r\n}\r\n\r\n.assessment-stats {\r\n\tmargin-top: 10rpx;\r\n}\r\n\r\n.stats-text {\r\n\tfont-size: 24rpx;\r\n\tcolor: #7F8C8D;\r\n}\r\n\r\n/* 评估图表 */\r\n.assessment-charts {\r\n\tmargin-top: 30rpx;\r\n}\r\n\r\n.chart-section {\r\n\tmargin-bottom: 40rpx;\r\n}\r\n\r\n.chart-section:last-child {\r\n\tmargin-bottom: 0;\r\n}\r\n\r\n.chart-title {\r\n\tfont-size: 30rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #E93A8A;\r\n\tmargin-bottom: 20rpx;\r\n\tpadding-bottom: 10rpx;\r\n\tborder-bottom: 2rpx solid #E93A8A;\r\n}\r\n\r\n.chart-container {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tgap: 20rpx;\r\n}\r\n\r\n.chart-item {\r\n\tbackground: #F8F9FA;\r\n\tborder-radius: 12rpx;\r\n\tpadding: 20rpx;\r\n}\r\n\r\n.chart-item-domain {\r\n\ttransition: all 0.3s ease;\r\n}\r\n\r\n.chart-item-domain.chart-item-expanded {\r\n\tbackground: #fff;\r\n\tborder: 2rpx solid #E93A8A;\r\n}\r\n\r\n.chart-item-subdomain {\r\n\tbackground: #fff;\r\n\tmargin-left: 30rpx;\r\n\tborder-left: 3rpx solid #E93A8A;\r\n\tmargin-top: 15rpx;\r\n}\r\n\r\n.chart-label-row {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tmargin-bottom: 12rpx;\r\n}\r\n\r\n.chart-label-row-clickable {\r\n\tcursor: pointer;\r\n\tuser-select: none;\r\n\tpadding: 5rpx 0;\r\n}\r\n\r\n.chart-label-row-clickable:active {\r\n\topacity: 0.7;\r\n}\r\n\r\n.chart-label-with-icon {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tgap: 10rpx;\r\n}\r\n\r\n.chart-expand-icon {\r\n\tfont-size: 20rpx;\r\n\tcolor: #E93A8A;\r\n\ttransition: transform 0.3s ease;\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.chart-expand-icon-expanded {\r\n\ttransform: rotate(90deg);\r\n}\r\n\r\n.chart-label {\r\n\tfont-size: 26rpx;\r\n\tcolor: #333;\r\n\tfont-weight: 500;\r\n}\r\n\r\n.chart-label-subdomain {\r\n\tfont-size: 24rpx;\r\n\tcolor: #666;\r\n}\r\n\r\n.chart-value {\r\n\tfont-size: 26rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #E93A8A;\r\n}\r\n\r\n.chart-bar-container {\r\n\twidth: 100%;\r\n\theight: 24rpx;\r\n\tbackground: #E8E8E8;\r\n\tborder-radius: 12rpx;\r\n\toverflow: hidden;\r\n\tmargin-bottom: 8rpx;\r\n}\r\n\r\n.chart-bar {\r\n\theight: 100%;\r\n\tborder-radius: 12rpx;\r\n\ttransition: width 0.3s ease;\r\n\tmin-width: 2rpx;\r\n}\r\n\r\n.chart-bar-subdomain {\r\n\theight: 18rpx;\r\n}\r\n\r\n.chart-detail {\r\n\tfont-size: 22rpx;\r\n\tcolor: #7F8C8D;\r\n}\r\n\r\n/* 柱状图颜色 */\r\n.bar-excellent {\r\n\tbackground: linear-gradient(180deg, #52C41A, #73D13D);\r\n}\r\n\r\n.bar-good {\r\n\tbackground: linear-gradient(180deg, #1890FF, #40A9FF);\r\n}\r\n\r\n.bar-fair {\r\n\tbackground: linear-gradient(180deg, #FAAD14, #FFC53D);\r\n}\r\n\r\n.bar-poor {\r\n\tbackground: linear-gradient(180deg, #FF4D4F, #FF7875);\r\n}\r\n\r\n/* 子领域展开区域 */\r\n.subdomain-expanded {\r\n\tmargin-top: 20rpx;\r\n\tpadding-top: 20rpx;\r\n\tborder-top: 1rpx dashed #E8E8E8;\r\n\tanimation: slideDown 0.3s ease;\r\n}\r\n\r\n@keyframes slideDown {\r\n\tfrom {\r\n\t\topacity: 0;\r\n\t\ttransform: translateY(-10rpx);\r\n\t}\r\n\tto {\r\n\t\topacity: 1;\r\n\t\ttransform: translateY(0);\r\n\t}\r\n}\r\n\r\n/* 子领域垂直柱状图 */\r\n.subdomain-chart-container {\r\n\twidth: 100%;\r\n\tmargin-top: 20rpx;\r\n}\r\n\r\n.subdomain-chart-bars {\r\n\tdisplay: flex;\r\n\tjustify-content: space-around;\r\n\talign-items: flex-end;\r\n\theight: 300rpx;\r\n\tpadding: 0 10rpx;\r\n}\r\n\r\n.subdomain-chart-bar {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tflex: 1;\r\n\tmargin: 0 5rpx;\r\n}\r\n\r\n.subdomain-bar-container {\r\n\twidth: 100%;\r\n\theight: 250rpx;\r\n\tbackground: #F0F0F0;\r\n\tborder-radius: 8rpx;\r\n\tposition: relative;\r\n\tmargin-bottom: 12rpx;\r\n\toverflow: hidden;\r\n\tdisplay: flex;\r\n\talign-items: flex-end;\r\n}\r\n\r\n.subdomain-bar-fill {\r\n\twidth: 100%;\r\n\tmin-height: 8rpx;\r\n\tborder-radius: 8rpx 8rpx 0 0;\r\n\ttransition: height 0.5s ease;\r\n\tposition: absolute;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n}\r\n\r\n.subdomain-bar-label {\r\n\tfont-size: 20rpx;\r\n\tcolor: #666;\r\n\tmargin-top: 8rpx;\r\n\tword-break: keep-all;\r\n\ttext-align: center;\r\n\tline-height: 1.2;\r\n}\r\n\r\n.subdomain-bar-value {\r\n\tfont-size: 22rpx;\r\n\tcolor: #E93A8A;\r\n\tfont-weight: 500;\r\n\tmargin-top: 5rpx;\r\n}\r\n\r\n.subdomain-bar-count {\r\n\tfont-size: 18rpx;\r\n\tcolor: #999;\r\n\tmargin-top: 3rpx;\r\n}\r\n\r\n/* 表格视图 */\r\n.assessment-table-view {\r\n\tmargin-top: 30rpx;\r\n}\r\n\r\n.table-container {\r\n\tbackground: #fff;\r\n\tborder-radius: 12rpx;\r\n\tpadding: 20rpx;\r\n\tborder: 1rpx solid #E8E8E8;\r\n}\r\n\r\n.table-title {\r\n\tfont-size: 28rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #333;\r\n\tmargin-bottom: 20rpx;\r\n\ttext-align: center;\r\n}\r\n\r\n.table-scroll {\r\n\twidth: 100%;\r\n}\r\n\r\n.data-table {\r\n\tdisplay: table;\r\n\twidth: 100%;\r\n\tborder-collapse: collapse;\r\n\tmin-width: 800rpx;\r\n}\r\n\r\n.table-row {\r\n\tdisplay: table-row;\r\n}\r\n\r\n.table-header-row-1 {\r\n\tbackground: #E8F4FD;\r\n}\r\n\r\n.table-header-row-2 {\r\n\tbackground: #F5F8FF;\r\n}\r\n\r\n.table-data-row {\r\n\tbackground: #fff;\r\n}\r\n\r\n.table-data-row:nth-child(even) {\r\n\tbackground: #F8F9FA;\r\n}\r\n\r\n.table-cell {\r\n\tdisplay: table-cell;\r\n\tborder: 1rpx solid #D0D0D0;\r\n\tpadding: 12rpx 8rpx;\r\n\ttext-align: center;\r\n\tvertical-align: middle;\r\n\tfont-size: 22rpx;\r\n\tmin-width: 100rpx;\r\n}\r\n\r\n.table-cell-fixed {\r\n\tposition: sticky;\r\n\tleft: 0;\r\n\tz-index: 10;\r\n\tbackground: #E8F4FD;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.table-cell-age-header {\r\n\tbackground: #E8F4FD;\r\n\tfont-weight: bold;\r\n\tcolor: #333;\r\n}\r\n\r\n.table-cell-domain-header {\r\n\tbackground: #D0E8FF;\r\n\tfont-weight: bold;\r\n\tcolor: #333;\r\n\ttext-align: center;\r\n}\r\n\r\n.table-cell-subheader {\r\n\tbackground: #F5F8FF;\r\n\tfont-size: 20rpx;\r\n\tcolor: #666;\r\n\tfont-weight: 500;\r\n}\r\n\r\n.table-cell-age {\r\n\tbackground: #F0F7FF;\r\n\tfont-weight: 500;\r\n\tcolor: #333;\r\n\ttext-align: left;\r\n\tpadding-left: 15rpx;\r\n}\r\n\r\n.table-cell-data {\r\n\tcolor: #333;\r\n\tfont-size: 22rpx;\r\n}\r\n\r\n\r\n/* 空状态 */\r\n.empty-state {\r\n\ttext-align: center;\r\n\tpadding: 100rpx 0;\r\n\tcolor: #7F8C8D;\r\n\tfont-size: 28rpx;\r\n}\r\n\r\n/* 未完成题目列表样式 - 优化版 */\r\n.not-achieved-section {\r\n\tmargin-top: 30rpx;\r\n\tbackground: #FFF;\r\n\tborder-radius: 20rpx;\r\n\toverflow: hidden;\r\n\tbox-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.08);\r\n\tborder: 2rpx solid #FFE5E5;\r\n}\r\n\r\n/* 标题栏 */\r\n.section-title-bar {\r\n\tpadding: 25rpx 30rpx;\r\n\tbackground: linear-gradient(135deg, #FFE5E5 0%, #FFF0F0 100%);\r\n\tcursor: pointer;\r\n\ttransition: background-color 0.2s;\r\n\tborder-bottom: 1rpx solid #FFD5D5;\r\n}\r\n\r\n.section-title-bar:hover {\r\n\tbackground: linear-gradient(135deg, #FFD5D5 0%, #FFE5E5 100%);\r\n}\r\n\r\n.section-title {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tfont-size: 32rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #E74C3C;\r\n\tmargin-bottom: 8rpx;\r\n}\r\n\r\n.title-icon {\r\n\tmargin-right: 10rpx;\r\n\tfont-size: 24rpx;\r\n\ttransition: transform 0.2s;\r\n}\r\n\r\n.section-summary {\r\n\tfont-size: 24rpx;\r\n\tcolor: #999;\r\n}\r\n\r\n/* 统计摘要 */\r\n.not-achieved-summary {\r\n\tpadding: 20rpx 30rpx;\r\n\tbackground: #FFFBFB;\r\n\tborder-bottom: 1rpx solid #FFE5E5;\r\n}\r\n\r\n.summary-item {\r\n\tmargin-bottom: 15rpx;\r\n}\r\n\r\n.summary-item:last-child {\r\n\tmargin-bottom: 0;\r\n}\r\n\r\n.summary-label {\r\n\tfont-size: 26rpx;\r\n\tcolor: #666;\r\n\tfont-weight: 500;\r\n\tdisplay: inline-block;\r\n\tmargin-bottom: 8rpx;\r\n}\r\n\r\n.summary-tags {\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tgap: 10rpx;\r\n}\r\n\r\n.summary-tag {\r\n\tdisplay: inline-block;\r\n\tpadding: 8rpx 16rpx;\r\n\tbackground: linear-gradient(135deg, #FFE5E5 0%, #FFF0F0 100%);\r\n\tcolor: #E74C3C;\r\n\tfont-size: 24rpx;\r\n\tborder-radius: 20rpx;\r\n\tborder: 1rpx solid #FFD5D5;\r\n}\r\n\r\n/* 详细列表 */\r\n.not-achieved-detail {\r\n\tpadding: 20rpx 30rpx 30rpx;\r\n\tbackground: #FFF;\r\n}\r\n\r\n/* 筛选栏 */\r\n.filter-bar {\r\n\tmargin-bottom: 20rpx;\r\n\tpadding: 20rpx;\r\n\tbackground: #F8F9FA;\r\n\tborder-radius: 12rpx;\r\n}\r\n\r\n.filter-item {\r\n\tmargin-bottom: 15rpx;\r\n}\r\n\r\n.filter-item:last-child {\r\n\tmargin-bottom: 0;\r\n}\r\n\r\n.filter-label {\r\n\tfont-size: 26rpx;\r\n\tcolor: #666;\r\n\tdisplay: block;\r\n\tmargin-bottom: 10rpx;\r\n\tfont-weight: 500;\r\n}\r\n\r\n.filter-options {\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tgap: 10rpx;\r\n}\r\n\r\n.filter-option {\r\n\tpadding: 8rpx 20rpx;\r\n\tbackground: #FFF;\r\n\tcolor: #666;\r\n\tfont-size: 24rpx;\r\n\tborder-radius: 20rpx;\r\n\tborder: 1rpx solid #DDD;\r\n\tcursor: pointer;\r\n\ttransition: all 0.2s;\r\n}\r\n\r\n.filter-option:hover {\r\n\tbackground: #F0F0F0;\r\n}\r\n\r\n.filter-option.active {\r\n\tbackground: linear-gradient(135deg, #E74C3C 0%, #FF6B6B 100%);\r\n\tcolor: #FFF;\r\n\tborder-color: #E74C3C;\r\n\tfont-weight: 500;\r\n}\r\n\r\n/* 题目列表 */\r\n.not-achieved-list {\r\n\tmax-height: 800rpx;\r\n\toverflow-y: auto;\r\n}\r\n\r\n.not-achieved-item {\r\n\tmargin-bottom: 20rpx;\r\n\tpadding: 20rpx;\r\n\tbackground: #FFFBFB;\r\n\tborder-radius: 12rpx;\r\n\tborder-left: 4rpx solid #E74C3C;\r\n\ttransition: all 0.2s;\r\n}\r\n\r\n.not-achieved-item:hover {\r\n\tbackground: #FFF5F5;\r\n\tbox-shadow: 0 2rpx 12rpx rgba(231, 76, 60, 0.1);\r\n\ttransform: translateX(4rpx);\r\n}\r\n\r\n.not-achieved-item:last-child {\r\n\tmargin-bottom: 0;\r\n}\r\n\r\n.item-header {\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tgap: 10rpx;\r\n\tmargin-bottom: 12rpx;\r\n}\r\n\r\n.item-badge {\r\n\tpadding: 6rpx 12rpx;\r\n\tfont-size: 22rpx;\r\n\tborder-radius: 6rpx;\r\n\tfont-weight: 500;\r\n}\r\n\r\n.age-badge {\r\n\tbackground: linear-gradient(135deg, #667EEA 0%, #764BA2 100%);\r\n\tcolor: #FFF;\r\n}\r\n\r\n.domain-badge {\r\n\tbackground: linear-gradient(135deg, #F093FB 0%, #F5576C 100%);\r\n\tcolor: #FFF;\r\n}\r\n\r\n.subdomain-badge {\r\n\tbackground: linear-gradient(135deg, #4FACFE 0%, #00F2FE 100%);\r\n\tcolor: #FFF;\r\n}\r\n\r\n.item-content {\r\n\tfont-size: 26rpx;\r\n\tcolor: #333;\r\n\tline-height: 1.6;\r\n\tdisplay: block;\r\n}\r\n\r\n.empty-filter {\r\n\ttext-align: center;\r\n\tpadding: 60rpx 0;\r\n\tcolor: #999;\r\n\tfont-size: 26rpx;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./dashboard.vue?vue&type=style&index=0&id=0f895370&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./dashboard.vue?vue&type=style&index=0&id=0f895370&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1762681457158\n      var cssReload = require(\"C:/Users/86182/Downloads/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}